<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>Archive_Tar::extractModify()</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.filesystem.archive-tar.html" title="Archive-Tar" />
  <link rel="prev" href="package.filesystem.archive-tar.extractlist.html" title="Archive_Tar::extractList()" />
  <link rel="next" href="package.filesystem.archive-tar.listcontent.html" title="Archive_Tar::listContent()" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">Archive_Tar::extractModify()</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.filesystem.archive-tar.extractlist.html" title="Archive_Tar::extractList()">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.filesystem.archive-tar.listcontent.html" title="Archive_Tar::listContent()">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.filesystem.archive-tar.extractmodify">
   
    <h1 class="refname">Archive_Tar::extractModify()</h1>
    <div class="refnamediv">Archive_Tar::extractModify() &ndash; extract files to a new dir</div>

   
   <h2 class="refsynopsisdiv">Synopsis</h2>
    <div class="funcsynopsis">
     <div class="programlisting">
      require_once &#039;Archive/Tar.php&#039;;
     </div>     
    <p><code class="funcprototype">
     boolean <strong class="function">extractModify</strong> ( 
     string $path
      , string
      $remove_path
    )</code></p>
    </div>
   
   <div class="refsection" id="package.filesystem.archive-tar.extractmodify.desc">
    <h1 class="title">Description</h1>
   <p class="para">
    This method extracts all the content of the archive in the directory
    indicated by <em><code class="parameter">path</code></em>. When relevant the memorized
    path of the files or directories can be modified by removing the
    <em><code class="parameter">remove_path</code></em> path at the beginning of the
    file or directory path.
   </p>
   <p class="para">
    While extracting a file: If the file already exists it is replaced
    without looking for last modification date.
    If the file already exists and is write
    protected, the extraction is aborted.
    If a directory with the same name already
    exists, the extraction is aborted.
   </p>
   <p class="para">
    While extracting a directory, if a file with the same name already
    exists, the extraction is aborted.
    While extracting a file/directory if the destination directory exist
    and is write protected, or does not exist but can not be created,
    the extraction is aborted.
    If after extraction an extracted file does not show the correct
    stored file size, the extraction is aborted.
   </p>
   </div>   
   <div class="refsection" id="package.filesystem.archive-tar.extractmodify.parameter">
    <h1 class="title">Parameter</h1>
    <p class="para">
    </p><ul class="itemizedlist">
     <li class="listitem">
      <p class="para">
       <em><code class="parameter">string $path</code></em> - the path of the directory 
       where the files and/or directories need to by extracted.
      </p>
     </li>
     <li class="listitem">
      <p class="para">
       <em><code class="parameter">string $remove_path</code></em> - part of the memorized 
       path that can be removed if present at the beginning of the files 
       or directories path.
      </p>
     </li>
    </ul>
    
   </div>      
   <div class="refsection" id="package.filesystem.archive-tar.extractmodify.return">
    <h1 class="title">Return value</h1>
    <p class="para">
     <em><code class="parameter">boolean</code></em> - Returns <strong class="constant">TRUE</strong> on success, <strong class="constant">FALSE</strong> on failure.
    </p>
   </div>         
   <div class="refsection" id="package.filesystem.archive-tar.extractmodify.throws">
    <h1 class="title">Throws</h1>
    <p class="para">
     </p><table class="doctable table"><caption>Possible PEAR_Error values</caption>
            
      
       <thead>
        <tr>
         <th>Error code</th>
         <th>Error message</th>        
         <th>Reason</th>        
         <th>Solution</th>        
        </tr>

       </thead>

       <tbody class="tbody">
        <tr>
         <td><strong class="constant">NULL</strong></td>
         <td>
          "<span class="quote">
           Unable to open in read mode <em><code class="parameter">archive</code></em>
          </span>"
         </td>
         <td>
          The file is exclusive locked by another application.
         </td>
         <td>
          Check for other applications working on the file.
          This can not be caused by a competive processing the archive
          with <strong class="classname">Archive_Tar</strong>
         </td>
        </tr>
       
        <tr>
         <td><strong class="constant">NULL</strong></td>
         <td>
          "<span class="quote">
           Unable to open in write mode <em><code class="parameter">archive</code></em>
          </span>"
         </td>
         <td>
          The file is locked by another application.
         </td>
         <td>
          Check for other applications working on the file.
          This maybe caused by a competive processing the archive
          with <strong class="classname">Archive_Tar</strong>
         </td>
        </tr>
               
        <tr>
         <td><strong class="constant">NULL</strong></td>
         <td>
          "<span class="quote">
           Invalid extractmodify mode <em><code class="parameter">mode</code></em>
          </span>"
         </td>
         <td>
          Implementation error
         </td>
         <td>
          Should not occur, please set up a bug report.
         </td>
        </tr>
                       
        <tr>
         <td><strong class="constant">NULL</strong></td>
         <td>
          "<span class="quote">
           Directory <em><code class="parameter">name</code></em> already exists as a file
          </span>"
         </td>
         <td>
          A file is marked up as directory in the archive.
         </td>
         <td>
          Maybe a corrupted archive.
         </td>
        </tr>
                               
        <tr>
         <td><strong class="constant">NULL</strong></td>
         <td>
          "<span class="quote">
           File <em><code class="parameter">name</code></em> already exists as a directory
          </span>"
         </td>
         <td>
          A directoy is marked up as file in the archive.
         </td>
         <td>
          Maybe a corrupted archive.
         </td>
        </tr>
                                       
        <tr>
         <td><strong class="constant">NULL</strong></td>
         <td>
          "<span class="quote">
           File <em><code class="parameter">name</code></em> already exists and 
           is write protected.
          </span>"
         </td>
         <td>
          The archive contains a file which already exists in 
          the destination dir and can not be overwritten.
         </td>
         <td>
          Extract the archive to an empty directory.
         </td>
        </tr>
                                               
        <tr>
         <td><strong class="constant">NULL</strong></td>
         <td>
          "<span class="quote">
           Unable to create path for <em><code class="parameter">name</code></em>
          </span>"
         </td>
         <td>
          One or more new nested directories could not be created 
          in the destination directory.
         </td>
         <td>
          Ensure the destination directory and all nested directories
          have the required rights.
         </td>
        </tr>
                                                       
        <tr>
         <td><strong class="constant">NULL</strong></td>
         <td>
          "<span class="quote">
           Unable to create directory <em><code class="parameter">name</code></em>
          </span>"
         </td>
         <td>
          A directory could not be created 
          in the destination directory.
         </td>
         <td>
          Ensure the destination directory has the required rights.
         </td>
        </tr>
                                                               
        <tr>
         <td><strong class="constant">NULL</strong></td>
         <td>
          "<span class="quote">
           Error while opening <em><code class="parameter">name</code></em> in write binary mode
          </span>"
         </td>
         <td>
          The file could not be created. 
         </td>
         <td>
          The file is maybe locked.
         </td>
        </tr>

        <tr>
         <td><strong class="constant">NULL</strong></td>
         <td>
          "<span class="quote">
           Extracted file <em><code class="parameter">filename</code></em> does 
           not have the correct file size <em><code class="parameter">filesize</code></em>
           (<em><code class="parameter">size</code></em> expected). Archive may be corrupted.
          </span>"
         </td>
         <td>
          Read the message.
         </td>
         <td>
          Read the message.
         </td>
        </tr>

       </tbody>
      
     </table>

    
   </div>            
   <div class="refsection" id="package.filesystem.archive-tar.extractmodify.note">
    <h1 class="title">Note</h1>
    <p class="simpara">This function can not be called
statically.</p>
   </div>            
   <div class="refsection" id="package.filesystem.archive-tar.extractmodify.example">
    <h1 class="title">Example</h1>
    <div class="example"><div class="info"><p><strong>
      Extract compressed archive into a new directory 
      ignoring the old one
     </strong></p></div>
     
     <div class="programlisting">
      <br/>//&nbsp;tarname.tar&nbsp;with&nbsp;files&nbsp;:<br/>//&nbsp;&nbsp;&nbsp;dev/data/file.txt<br/>//&nbsp;&nbsp;&nbsp;dev/data/log.txt<br/>//&nbsp;&nbsp;&nbsp;readme.txt<br/><br/>$tar_object&nbsp;=&nbsp;new&nbsp;Archive_Tar(&quot;tarname.tar&quot;);<br/>$tar_object-&gt;extractModify(&quot;install&quot;,&nbsp;&quot;dev&quot;);<br/><br/>//&nbsp;Files&nbsp;will&nbsp;be&nbsp;extracted&nbsp;there&nbsp;:<br/>//&nbsp;&nbsp;&nbsp;install/data/file.txt<br/>//&nbsp;&nbsp;&nbsp;install/data/log.txt<br/>//&nbsp;&nbsp;&nbsp;install/readme.txt
     </div>
    </div>
    <div class="example"><div class="info"><p><strong>
      Extract compressed archive into a new directory
      ignoring the old one (especilly for Windows)
     </strong></p></div>
     
     <div class="programlisting">
      <br/>//&nbsp;tarname.tar&nbsp;with&nbsp;files&nbsp;:<br/>//&nbsp;&nbsp;&nbsp;dev/data/file.txt<br/>//&nbsp;&nbsp;&nbsp;dev/data/log.txt<br/>//&nbsp;&nbsp;&nbsp;readme.txt<br/><br/>$tar_object&nbsp;=&nbsp;new&nbsp;Archive_Tar(&quot;tarname.tar&quot;);<br/>$tar_object-&gt;extractModify(&quot;d:\\install\\temp&quot;,&nbsp;&quot;dev&quot;);<br/><br/>//&nbsp;Files&nbsp;will&nbsp;be&nbsp;extracted&nbsp;there&nbsp;:<br/>//&nbsp;&nbsp;&nbsp;d:\\install\\temp\\data\\file.txt<br/>//&nbsp;&nbsp;&nbsp;d:\\install\\temp\\data\\log.txt
     </div>
    </div>    
   </div>               
  </div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.filesystem.archive-tar.extractlist.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.filesystem.archive-tar.html">Archive-Tar</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.filesystem.archive-tar.listcontent.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">Archive_Tar::extractList()</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">Archive_Tar::listContent()</td>
  </tr>
 </table>
</div>
</body></html>
