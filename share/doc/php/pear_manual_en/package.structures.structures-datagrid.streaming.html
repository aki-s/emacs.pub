<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>Streaming</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.structures.structures-datagrid.intro-and-features.html" title="Introduction and Features" />
  <link rel="prev" href="package.structures.structures-datagrid.rendering.html" title="Rendering the output" />
  <link rel="next" href="package.structures.structures-datagrid.formatter.html" title="Column Formatter" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">Streaming</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.structures.structures-datagrid.rendering.html" title="Rendering the output">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.structures.structures-datagrid.formatter.html" title="Column Formatter">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.structures.structures-datagrid.streaming">
  
   <h1 class="refname">Streaming</h1>
   <div class="refnamediv">Streaming &ndash; How to stream large recordsets</div>

  
  <div class="refsection"><div class="info"><h1>Description</h1>
</div> 
   
   <p class="para">
    Large recordsets can exceed PHP&#039;s memory limit. Structures_DataGrid offers
    streaming support with many DataSource drivers and some Renderer drivers
    to avoid problems with the memory limit.
   </p>
  </div>
  <div class="refsection"><div class="info"><h1>How do I use streaming?</h1>
</div> 
   
   <p class="para">
    Streaming can be enabled by calling the <strong class="function">enableStreaming()</strong>
    method of the Structures_DataGrid object. An optimal parameter allows to
    set the number of records that should be read and written on each stream
    iteration. The default buffer size is 500 records.
   </p>
   <p class="para">
    Once streaming is enabled, only up to the number of records specified in the
    buffer size records will be fetched and rendered. This will be repeated until
    this was done for all records.
   </p>
   <div class="example"><div class="info"><p><strong>Enabling streaming with buffer size of 1,000 records</strong></p></div>
    
    <div class="phpcode">
     <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require&nbsp;</span><span style="color: #DD0000">'Structures/DataGrid.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Instantiate&nbsp;the&nbsp;DataGrid<br /></span><span style="color: #0000BB">$datagrid&nbsp;</span><span style="color: #007700">=&amp;&nbsp;new&nbsp;</span><span style="color: #0000BB">Structures_DataGrid</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Enable&nbsp;streaming&nbsp;and&nbsp;set&nbsp;buffer&nbsp;size&nbsp;to&nbsp;1,000&nbsp;records<br /></span><span style="color: #0000BB">$datagrid</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">enableStreaming</span><span style="color: #007700">(</span><span style="color: #0000BB">1000</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;...&nbsp;e.g.&nbsp;bind(),&nbsp;render()&nbsp;calls&nbsp;as&nbsp;usual<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
  <div class="refsection"><div class="info"><h1>Driver support for streaming</h1>
</div> 
   
   <p class="para">
    Although streaming can be used with every DataSource driver, only the
    following drivers support streaming in a meaningful way: DataObject, DBQuery,
    DB_Table and MDB2. Streaming support is planned to be added also to the CSV
    and XML DataSources.
   </p>
   <p class="para">
    Streaming support is also compatible with every Renderer driver but can
    currently be used only with CSV and XML Renderers in a meaningful way.
    Other Renderers might be rewritten in the future for streaming support.
   </p>
  </div> 
</div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.structures.structures-datagrid.rendering.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.structures.structures-datagrid.intro-and-features.html">Introduction and Features</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.structures.structures-datagrid.formatter.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">Rendering the output</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">Column Formatter</td>
  </tr>
 </table>
</div>
</body></html>
