<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>Structures_DataGrid_DataSource_PDO</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.structures.structures-datagrid.structures-datagrid-datasource.html" title="DataSource drivers" />
  <link rel="prev" href="package.structures.structures-datagrid.structures-datagrid-datasource.mdb2.html" title="Structures_DataGrid_DataSource_MDB2" />
  <link rel="next" href="package.structures.structures-datagrid.structures-datagrid-datasource.rss.html" title="Structures_DataGrid_DataSource_RSS" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">Structures_DataGrid_DataSource_PDO</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.structures.structures-datagrid.structures-datagrid-datasource.mdb2.html" title="Structures_DataGrid_DataSource_MDB2">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.structures.structures-datagrid.structures-datagrid-datasource.rss.html" title="Structures_DataGrid_DataSource_RSS">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.structures.structures-datagrid.structures-datagrid-datasource.pdo">
 
  <h1 class="refname">Structures_DataGrid_DataSource_PDO</h1>
  <div class="refnamediv">Structures_DataGrid_DataSource_PDO &ndash; PDO SQL Query Data Source Driver</div>

 
 <div class="refsection" id="package.structures.structures-datagrid.structures-datagrid-datasource.pdo.desc"><div class="info"><h1>Description</h1>
</div>
  
  <p class="para">
   This class is a data source driver for PHP Data Objects
  </p>
 </div>
 <div class="refsection" id="package.structures.structures-datagrid.structures-datagrid-datasource.pdo.modes"><div class="info"><h1>Supported operations modes</h1>
</div>
  
  <p class="para">
   This driver supports the following operation modes:
  </p>
  <table class="doctable table"><caption>Supported operations modes of this driver</caption>
   
   
    <thead>
     <tr>
      <th>Mode</th>
      <th>Supported?</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>Multiple field sorting</td>
      <td>yes</td>
     </tr>

     <tr>
      <td>Insert, update and delete records</td>
      <td>no</td>
     </tr>

    </tbody>
   
  </table>

 </div>
 <div class="refsection" id="package.structures.structures-datagrid.structures-datagrid-datasource.pdo.options"><div class="info"><h1>Options</h1>
</div>
  
  <p class="para">
   This driver accepts the following options:
  </p>
  <table class="doctable table"><caption>Options for this driver</caption>
   
   
    <thead>
     <tr>
      <th>Option</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default Value</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>count_query</td>
      <td>string</td>
      <td>Query that calculates the number of rows. See below for more
       information about when such a count query is needed.</td>
      <td>&#039;&#039;</td>
     </tr>

     <tr>
      <td>db_options</td>
      <td>array</td>
      <td>Options for the created database object. This option is only used
       when the &#039;dsn&#039; option is given.</td>
      <td>array()</td>
     </tr>

     <tr>
      <td>dbc</td>
      <td>object</td>
      <td>A PDO instance that will be used by this driver. Either this or
       the &#039;dsn&#039; option is required.</td>
      <td>null</td>
     </tr>

     <tr>
      <td>dsn</td>
      <td>string</td>
      <td>A PDO dsn string. The PDO connection will be established by this
       driver. Either this or the &#039;dbc&#039; option is required.</td>
      <td>null</td>
     </tr>

     <tr>
      <td>fields</td>
      <td>array</td>
      <td>Which data fields to fetch from the datasource. An empty array
       means: all fields. Form: array(field1, field2, ...)</td>
      <td>array()</td>
     </tr>

     <tr>
      <td>generate_columns</td>
      <td>bool</td>
      <td>Generate Structures_DataGrid_Column objects with labels. See the
       &#039;labels&#039; option. DEPRECATED: use Structures_DataGrid::generateColumns()
       instead</td>
      <td>false</td>
     </tr>

     <tr>
      <td>labels</td>
      <td>array</td>
      <td>Data field to column label mapping. Only used when
       &#039;generate_columns&#039; is true. Form: array(field =&gt; label, ...)
       DEPRECATED: use Structures_DataGrid::generateColumns() instead</td>
      <td>array()</td>
     </tr>

     <tr>
      <td>password</td>
      <td>string</td>
      <td>Password for the crated PDO connection. Only needed in conjunction
       with &#039;dsn&#039; option.</td>
      <td>null</td>
     </tr>

     <tr>
      <td>primaryKey</td>
      <td>array</td>
      <td>Name(s), or numerical index(es) of the field(s) which contain a
       unique record identifier (only use several fields in case of a
       multiple-fields primary key)</td>
      <td>null</td>
     </tr>

     <tr>
      <td>username</td>
      <td>string</td>
      <td>Username for the created PDO connection. Only needed in
       conjunction with &#039;dsn&#039; option.</td>
      <td>null</td>
     </tr>

    </tbody>
   
  </table>

 </div>
 <div class="refsection" id="package.structures.structures-datagrid.structures-datagrid-datasource.pdo.notes"><div class="info"><h1>General notes</h1>
</div>
  
  <p class="para">
   You need to specify either a PDO instance or a PDO compatible dsn string as
   an option to use this driver.
  </p>
  <p class="para">   
   If you use complex queries (e.g. with complex joins or with aliases),
   $datagrid-&gt;getRecordCount() might return a wrong result. For the case of
   GROUP BY, UNION, or DISTINCT in your queries, and for the case of subqueries,
   this driver already has special handling. However, if you observe wrong
   record counts, you need to specify a special query that returns only the
   number of records (e.g. &#039;SELECT COUNT(*) FROM ...&#039;) as an additional option
   &#039;count_query&#039; to the bind() call.
  </p>
  <p class="para">   
   You can specify an ORDER BY statement in your query. Please be aware that this
   sorting statement is then used in *every* query before the sorting options
   that come from a renderer (e.g. by clicking on the column header when using
   the HTML_Table renderer which is sent in the HTTP request).
   If you want to give a default sorting statement that is only used if there is
   no sorting query in the HTTP request, then use $datagrid-&gt;setDefaultSort().
  </p>
 </div>
</div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.structures.structures-datagrid.structures-datagrid-datasource.mdb2.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.structures.structures-datagrid.structures-datagrid-datasource.html">DataSource drivers</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.structures.structures-datagrid.structures-datagrid-datasource.rss.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">Structures_DataGrid_DataSource_MDB2</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">Structures_DataGrid_DataSource_RSS</td>
  </tr>
 </table>
</div>
</body></html>
