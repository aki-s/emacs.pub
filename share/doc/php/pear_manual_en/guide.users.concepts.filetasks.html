<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>File tasks</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="guide.users.concepts.html" title="Basic concepts all PEAR users should understand" />
  <link rel="prev" href="guide.users.concepts.filerole.html" title="File roles" />
  <link rel="next" href="installationpyrus.html" title="Installation (Pyrus)" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">File tasks</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="guide.users.concepts.filerole.html" title="File roles">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="installationpyrus.html" title="Installation (Pyrus)">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="section" id="guide.users.concepts.filetasks">
 <div class="info"><h1>File tasks</h1>
</div>

 <p class="para">
  Pyrus allows special handling of files through tasks.  File tasks can perform
  any action necessary both when installing a package and when creating a
  package.  Both Pyrus and the PEAR Installer ship with 4 built-in tasks,
  <code class="literal">replace</code>, <code class="literal">windowseol</code>,
  <code class="literal">unixeol</code>, and <code class="literal">postinstallscript</code>.
 </p>
 <p class="para">
  The built-in tasks are documented <a href="guide.developers.package2.tasks.html" class="link">here</a>.
  The documentation also describes how to create custom tasks for the
  PEAR Installer.  Custom tasks for Pyrus are documented
  <a href="pyrus.plugins.task.html" class="link">here</a>.
 </p>
 <p class="para">
  Tasks are specifically designed to allow customization of an installation, and
  particularly modification of a specific file&#039;s contents.  The
  <code class="literal">unixeol</code> task, for instance, transforms line endings to
  UNIX <code class="literal">\n</code> and is useful for shell scripts that must have
  the proper line endings.  The <code class="literal">replace</code> task can be used
  to update the version of a package directly in the source code, or to
  automatically set up the path to a PEAR Installation in a shell script.
 </p>
 <p class="para">
  Tasks are defined using the XML namespace
  <code class="literal">http://pear.php.net/dtd/tasks-1.0</code>.  Most often, this
  is declared using <code class="literal">tasks</code> as the namespace prefix, as in
  <code class="literal">xmlns:tasks=&quot;http://pear.php.net/dtd/tasks-1.0&quot;</code>.
  More than one task can be used for a single file, as shown by this example from
  the PEAR package:
 </p>
 <div class="xmlcode">
  <pre class="xmlcode">
    &lt;file name=&quot;pearcmd.php&quot; role=&quot;php&quot;&gt;
     &lt;tasks:replace from=&quot;@php_bin@&quot; to=&quot;php_bin&quot; type=&quot;pear-config&quot; /&gt;
     &lt;tasks:replace from=&quot;@php_dir@&quot; to=&quot;php_dir&quot; type=&quot;pear-config&quot; /&gt;
     &lt;tasks:replace from=&quot;@pear_version@&quot; to=&quot;version&quot; type=&quot;package-info&quot; /&gt;
     &lt;tasks:replace from=&quot;@include_path@&quot; to=&quot;php_dir&quot; type=&quot;pear-config&quot; /&gt;
    &lt;/file&gt;</pre>

 </div>
</div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="guide.users.concepts.filerole.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="guide.users.concepts.html">Basic concepts all PEAR users should understand</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="installationpyrus.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">File roles</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">Installation (Pyrus)</td>
  </tr>
 </table>
</div>
</body></html>
