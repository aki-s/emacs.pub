<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>Cache_Lite_Function::call</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.caching.cache-lite.html" title="Cache_Lite" />
  <link rel="prev" href="package.default.cache-lite.cache-lite-function.cache-lite-function.html" title="constructor Cache_Lite_Function::Cache_Lite_Function" />
  <link rel="next" href="package.default.cache-lite.cache-lite-function.drop.html" title="Cache_Lite_Function::drop" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">Cache_Lite_Function::call</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.default.cache-lite.cache-lite-function.cache-lite-function.html" title="constructor Cache_Lite_Function::Cache_Lite_Function">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.default.cache-lite.cache-lite-function.drop.html" title="Cache_Lite_Function::drop">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.default.cache-lite.cache-lite-function.call">
   
    <h1 class="refname"><strong class="function">Cache_Lite_Function::call</strong></h1>
    <div class="refnamediv"><strong class="function">Cache_Lite_Function::call()</strong> &ndash; Calls a cacheable function or method (or not if there is already a cache
for it)</div>

   
   <h2 class="refsynopsisdiv">Synopsis</h2>
    <div class="funcsynopsis">
     <div class="programlisting">
      require_once &#039;Cache/Lite/Function.php&#039;;
     </div>
     <p><code class="funcprototype">
      mixed      <strong class="function">Cache_Lite_Function::call</strong> ( 
    string$functionName
     , mixed$arg1
     , mixed$arg2
     , mixed$arg3
     , mixed...
    

     )</code></p>
    </div>
    

    <div class="refsection" id="package.default.cache-lite.cache-lite-function.call.desc">
     <h1 class="title">Description</h1>
     <p class="para">
       call the given function with given arguments only if there is no cache about it ;
       else, the output of the function is read from the cache then send to the browser and
       the return value if read also from the cache and returned. 
     </p>

    </div>
   <div class="refsection" id="package.default.cache-lite.cache-lite-function.call.returns">
    <h1 class="title">Return value</h1>
        <p class="para">
      <em class="emphasis">returns</em> result of the function/method
    </p>
       </div>
   <div class="refsection" id="package.default.cache-lite.cache-lite-function.call.note">
    <h1 class="title">Note</h1>
    <p class="simpara">This function can not be called
statically.</p>
   </div>
   <div class="refsection" id="package.caching.cache-lite.cache-lite-function.call.example1">
    <h1 class="title">Example</h1>
    <div class="example"><div class="info"><p><strong>classical using with a function</strong></p></div>
     
     <div class="phpcode">
      <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">require_once(</span><span style="color: #DD0000">'Cache/Lite/Function.php'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'cacheDir'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'/tmp/'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'lifeTime'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3600<br /></span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$cache&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Cache_Lite_Function</span><span style="color: #007700">(</span><span style="color: #0000BB">$options</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$cache</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">call</span><span style="color: #007700">(</span><span style="color: #DD0000">'function_to_bench'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">45</span><span style="color: #007700">);<br /><br />function&nbsp;</span><span style="color: #0000BB">function_to_bench</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arg2</span><span style="color: #007700">)&nbsp;<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"This&nbsp;is&nbsp;the&nbsp;output&nbsp;of&nbsp;the&nbsp;function&nbsp;function_to_bench(</span><span style="color: #0000BB">$arg1</span><span style="color: #DD0000">,&nbsp;</span><span style="color: #0000BB">$arg2</span><span style="color: #DD0000">)&nbsp;!&lt;br&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"This&nbsp;is&nbsp;the&nbsp;result&nbsp;of&nbsp;the&nbsp;function&nbsp;function_to_bench(</span><span style="color: #0000BB">$arg1</span><span style="color: #DD0000">,&nbsp;</span><span style="color: #0000BB">$arg2</span><span style="color: #DD0000">)&nbsp;!&lt;br&gt;"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
     </div>
    </div>
   </div>
   <div class="refsection" id="package.caching.cache-lite.cache-lite-function.call.example2">
    <h1 class="title">Example</h1>
    <div class="example"><div class="info"><p><strong>classical using with a method</strong></p></div>
     
     <div class="phpcode">
      <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">require_once(</span><span style="color: #DD0000">'Cache/Lite/Function.php'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'cacheDir'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'/tmp/'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'lifeTime'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3600<br /></span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$cache&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Cache_Lite_Function</span><span style="color: #007700">(</span><span style="color: #0000BB">$options</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$obj&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">bench</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">test&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">666</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$cache</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">call</span><span style="color: #007700">(</span><span style="color: #DD0000">'obj-&gt;method_to_bench'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">45</span><span style="color: #007700">);<br /><br />class&nbsp;</span><span style="color: #0000BB">bench<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</span><span style="color: #0000BB">$test</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">method_to_bench</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arg2</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"\$obj-&gt;test&nbsp;=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">test</span><span style="color: #DD0000">&nbsp;and&nbsp;this&nbsp;is&nbsp;the&nbsp;output&nbsp;of&nbsp;the&nbsp;method&nbsp;\$obj-&gt;method_to_bench(</span><span style="color: #0000BB">$arg1</span><span style="color: #DD0000">,&nbsp;</span><span style="color: #0000BB">$arg2</span><span style="color: #DD0000">)&nbsp;!&lt;br&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"\$obj-&gt;test&nbsp;=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">test</span><span style="color: #DD0000">&nbsp;and&nbsp;this&nbsp;is&nbsp;the&nbsp;result&nbsp;of&nbsp;the&nbsp;method&nbsp;\$obj-&gt;method_to_bench(</span><span style="color: #0000BB">$arg1</span><span style="color: #DD0000">,&nbsp;</span><span style="color: #0000BB">$arg2</span><span style="color: #DD0000">)&nbsp;!&lt;br&gt;"</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
     </div>
    </div>
    <p class="para">
     If you try to use Cache_Lite_Function with $this object ($cache-&gt;call(&#039;this-&gt;method&#039;,...) 
     for example), have a look first at the last example of this page. 
    </p>
   </div>
   <div class="refsection" id="package.caching.cache-lite.cache-lite-function.call.example3">
    <h1 class="title">Example</h1>
    <div class="example"><div class="info"><p><strong>classical using with a static method</strong></p></div>
     
     <div class="phpcode">
      <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">require_once(</span><span style="color: #DD0000">'Cache/Lite/Function.php'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'cacheDir'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'/tmp/'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'lifeTime'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3600<br /></span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$cache&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Cache_Lite_Function</span><span style="color: #007700">(</span><span style="color: #0000BB">$options</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$cache</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">call</span><span style="color: #007700">(</span><span style="color: #DD0000">'bench::static_method_to_bench'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">45</span><span style="color: #007700">);<br /><br />class&nbsp;</span><span style="color: #0000BB">bench<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</span><span style="color: #0000BB">$test</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">static_method_to_bench</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arg2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"This&nbsp;is&nbsp;the&nbsp;output&nbsp;of&nbsp;the&nbsp;function&nbsp;static_method_to_bench(</span><span style="color: #0000BB">$arg1</span><span style="color: #DD0000">,&nbsp;</span><span style="color: #0000BB">$arg2</span><span style="color: #DD0000">)&nbsp;!&lt;br&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"This&nbsp;is&nbsp;the&nbsp;result&nbsp;of&nbsp;the&nbsp;function&nbsp;static_method_to_bench(</span><span style="color: #0000BB">$arg1</span><span style="color: #DD0000">,&nbsp;</span><span style="color: #0000BB">$arg2</span><span style="color: #DD0000">)&nbsp;!&lt;br&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
     </div>
    </div>
   </div>
   <div class="refsection" id="package.caching.cache-lite.cache-lite-function.call.example4">
    <h1 class="title">Example</h1>
    <div class="example"><div class="info"><p><strong>another using with a method (how to use cache $this-&gt;method() calls)</strong></p></div>
     
     <div class="phpcode">
      <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">//&nbsp;Since&nbsp;Cache_Lite-1.7.0beta2<br /><br /></span><span style="color: #007700">require_once(</span><span style="color: #DD0000">'Cache/Lite/Function.php'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'cacheDir'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'/tmp/'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'lifeTime'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3600<br /></span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$obj&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$options</span><span style="color: #007700">);<br /><br />class&nbsp;</span><span style="color: #0000BB">foo<br /></span><span style="color: #007700">{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</span><span style="color: #0000BB">$test</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$options</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$cache&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Cache_Lite_Function</span><span style="color: #007700">(</span><span style="color: #0000BB">$options</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">test&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'foobar'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$cache</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">call</span><span style="color: #007700">(array(&amp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'method_bar'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">45</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">method_bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arg2</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"\$this-&gt;test&nbsp;=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">test</span><span style="color: #DD0000">&nbsp;and&nbsp;this&nbsp;is&nbsp;the&nbsp;output&nbsp;of&nbsp;the&nbsp;method&nbsp;\$this-&gt;method_bar(</span><span style="color: #0000BB">$arg1</span><span style="color: #DD0000">,&nbsp;</span><span style="color: #0000BB">$arg2</span><span style="color: #DD0000">)&nbsp;!&lt;br&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"\$this-&gt;test&nbsp;=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">test</span><span style="color: #DD0000">&nbsp;and&nbsp;this&nbsp;is&nbsp;the&nbsp;result&nbsp;of&nbsp;the&nbsp;method&nbsp;\$this-&gt;method_bar(</span><span style="color: #0000BB">$arg1</span><span style="color: #DD0000">,&nbsp;</span><span style="color: #0000BB">$arg2</span><span style="color: #DD0000">)&nbsp;!&lt;br&gt;"</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
     </div>
    </div>
    <p class="para">
     So, for method calls, the best way is to use array(&amp;$object, &#039;nameOfTheMethod&#039;) as first argument instead
     of &#039;$object-&gt;nameOfTheMethod&#039; which doesn&#039;t work with &quot;$this&quot; for example.
    </p>
   </div>
</div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.default.cache-lite.cache-lite-function.cache-lite-function.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.caching.cache-lite.html">Cache_Lite</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.default.cache-lite.cache-lite-function.drop.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">constructor Cache_Lite_Function::Cache_Lite_Function</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">Cache_Lite_Function::drop</td>
  </tr>
 </table>
</div>
</body></html>
