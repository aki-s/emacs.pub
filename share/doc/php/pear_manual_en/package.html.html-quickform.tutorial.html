<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>QuickStart</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.html.html-quickform.introduction.html" title="Introduction" />
  <link rel="prev" href="package.html.html-quickform.introduction.html" title="Introduction" />
  <link rel="next" href="package.html.html-quickform.intro-faq.html" title="QuickHelp" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">QuickStart</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.html.html-quickform.introduction.html" title="Introduction">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.html.html-quickform.intro-faq.html" title="QuickHelp">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.html.html-quickform.tutorial">
   
    <h1 class="refname">QuickStart</h1>
    <div class="refnamediv">QuickStart &ndash; A tutorial for HTML_QuickForm</div>

   
   <div class="refsection" id="package.html.html-quickform.tutorial.purpose"><div class="info"><h1>Introduction</h1>
</div>

    <p class="para">
The purpose of this tutorial is to give the new users of QuickForm an overview of its features and usage
patterns. It describes a small subset of available functionality, but points to the parts of the
documentation that give a more in-depth overview.
    </p>
    <p class="para">
There also exists <a href="http://www.midnighthax.com/quickform.php" class="link external">a somewhat bigger tutorial</a> on QuickForm usage made by Keith Edmunds.
    </p>
   </div>
   <div class="refsection" id="package.html.html-quickform.tutorial.firstform"><div class="info"><h1>Your first form</h1>
</div>

    <div class="example"><div class="info"><p><strong>Basic QuickForm usage</strong></p></div>

     <div class="phpcode">
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Load&nbsp;the&nbsp;main&nbsp;class<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">'HTML/QuickForm.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Instantiate&nbsp;the&nbsp;HTML_QuickForm&nbsp;object<br /></span><span style="color: #0000BB">$form&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">HTML_QuickForm</span><span style="color: #007700">(</span><span style="color: #DD0000">'firstForm'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Set&nbsp;defaults&nbsp;for&nbsp;the&nbsp;form&nbsp;elements<br /></span><span style="color: #0000BB">$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setDefaults</span><span style="color: #007700">(array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'name'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Joe&nbsp;User'<br /></span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;Add&nbsp;some&nbsp;elements&nbsp;to&nbsp;the&nbsp;form<br /></span><span style="color: #0000BB">$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addElement</span><span style="color: #007700">(</span><span style="color: #DD0000">'header'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'QuickForm&nbsp;tutorial&nbsp;example'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addElement</span><span style="color: #007700">(</span><span style="color: #DD0000">'text'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'name'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Enter&nbsp;your&nbsp;name:'</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">'size'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">50</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'maxlength'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addElement</span><span style="color: #007700">(</span><span style="color: #DD0000">'submit'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Send'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Define&nbsp;filters&nbsp;and&nbsp;validation&nbsp;rules<br /></span><span style="color: #0000BB">$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">applyFilter</span><span style="color: #007700">(</span><span style="color: #DD0000">'name'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'trim'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addRule</span><span style="color: #007700">(</span><span style="color: #DD0000">'name'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Please&nbsp;enter&nbsp;your&nbsp;name'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'required'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'client'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Try&nbsp;to&nbsp;validate&nbsp;a&nbsp;form<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">validate</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'&lt;h1&gt;Hello,&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">htmlspecialchars</span><span style="color: #007700">(</span><span style="color: #0000BB">$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exportValue</span><span style="color: #007700">(</span><span style="color: #DD0000">'name'</span><span style="color: #007700">))&nbsp;.&nbsp;</span><span style="color: #DD0000">'!&lt;/h1&gt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;exit;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Output&nbsp;the&nbsp;form<br /></span><span style="color: #0000BB">$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">display</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
     </div>
    </div>
    <p class="para">
    Lets review this example step by step.
    </p>
    <div class="refsection" id="package.html.html-quickform.tutorial.firstform.building"><div class="info"><h1>Building the form</h1>
</div>

     <p class="para">
The line
</p><div class="phpcode">
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$form&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">HTML_QuickForm</span><span style="color: #007700">(</span><span style="color: #DD0000">'firstForm'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</div><p>
creates a HTML_QuickForm object that will contain the objects representing elements and all the other
necessary information. We only pass the form&#039;s name to the <a href="package.html.html-quickform.html-quickform.html-quickform.html" class="link">constructor</a>,
which means that default values will be used for other parameters. In particular, the form&#039;s method will
default to <code class="literal">POST</code> and the form&#039;s action to the current file. When using QuickForm, it is
easier to keep all the form related logic in one file.
     </p>
     <p class="para">
You might guess that
</p><div class="phpcode">
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setDefaults</span><span style="color: #007700">(array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'name'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Joe&nbsp;User'<br /></span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</div><p>
sets the default value for <code class="literal">name</code> element to <code class="literal">&#039;Joe User&#039;</code>. QuickForm has the
concept of default values (set via <a href="package.html.html-quickform.html-quickform.setdefaults.html" class="link"><strong class="function">setDefaults()</strong></a> method) and
constant ones (set via <a href="package.html.html-quickform.html-quickform.setconstants.html" class="link"><strong class="function">setConstants()</strong></a>).
The difference between them is that user&#039;s input overrides default values but not constant ones.
     </p>
     <p class="para">
Our form will consist of three elements:
</p><div class="phpcode">
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addElement</span><span style="color: #007700">(</span><span style="color: #DD0000">'header'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'QuickForm&nbsp;tutorial&nbsp;example'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addElement</span><span style="color: #007700">(</span><span style="color: #DD0000">'text'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'name'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Enter&nbsp;your&nbsp;name:'</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">'size'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">50</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'maxlength'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addElement</span><span style="color: #007700">(</span><span style="color: #DD0000">'submit'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Send'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</div><p>
The first one is not the &#039;real&#039; element, it is just a heading to improve presentation. The second one
actually is a text input box and the third is a submit button. Note that parameters for <a href="package.html.html-quickform.html-quickform.addelement.html" class="link"><strong class="function">addElement()</strong></a>
method have different meanings for different elements. That is so because they are actually passed to
these elements&#039; constructors.
     </p>
    </div>
    <div class="refsection" id="package.html.html-quickform.tutorial.firstform.checking"><div class="info"><h1>Checking input</h1>
</div>

     <p class="para">
The line
</p><div class="phpcode">
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">applyFilter</span><span style="color: #007700">(</span><span style="color: #DD0000">'name'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'trim'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</div><p>
defines a <a href="package.html.html-quickform.intro-validation.html#package.html.html-quickform.intro-validation.filters" class="link">filter</a> for the &#039;name&#039; element value - the function that will be applied to it after form submit.
In this case it is a builtin <a href="http://www.php.net/manual-lookup.php?pattern=trim" class="link external"><strong class="function">trim()</strong></a> function,
but can be any valid <a href="http://www.php.net/manual/language.pseudo-types.php" class="link external"><span class="type">callback</span></a>. Thus we will strip
all whitespace from the name, as we do not actually need it and as we want to be sure that a name was entered,
not just some spaces.
     </p>
     <p class="para">
Next we define a <a href="package.html.html-quickform.intro-validation.html#package.html.html-quickform.intro-validation.rules" class="link">rule</a> for the name field:
</p><div class="phpcode">
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addRule</span><span style="color: #007700">(</span><span style="color: #DD0000">'name'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Please&nbsp;enter&nbsp;your&nbsp;name'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'required'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'client'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</div><p>
This means that QuickForm will display an error message if the name was not entered. The
<code class="literal">&#039;client&#039;</code> modifier is here to switch on client-side JavaScript validation in addition to
server-side one. Note also that QuickForm will automatically mark required fields in the form.
     </p>
    </div>
    <div class="refsection" id="package.html.html-quickform.tutorial.firstform.processing"><div class="info"><h1>Validating and processing</h1>
</div>

     <p class="para">
We now have the form built and rules defined and need to decide whether to process it or display:
</p><div class="phpcode">
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">validate</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Do&nbsp;some&nbsp;stuff<br /></span><span style="color: #007700">}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</div><p>
The <a href="package.html.html-quickform.html-quickform.validate.html" class="link"><strong class="function">validate()</strong></a> method
will consider the form valid (i.e. return <strong class="constant">TRUE</strong>) if some data was actually submitted and all the rules
defined for the form were satisfied. In our case this means that &#039;name&#039; element was not empty.
     </p>
     <p class="para">
If the form is validated we need to process the values
</p><div class="phpcode">
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'&lt;h1&gt;Hello,&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">htmlspecialchars</span><span style="color: #007700">(</span><span style="color: #0000BB">$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exportValue</span><span style="color: #007700">(</span><span style="color: #DD0000">'name'</span><span style="color: #007700">))&nbsp;.&nbsp;</span><span style="color: #DD0000">'!&lt;/h1&gt;'</span><span style="color: #007700">;<br />exit;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</div><p>
This is an example, in your scripts you&#039;ll usually want to store the values somewhere and to redirect to some other page to
prevent a duplicate submit. The <a href="package.html.html-quickform.html-quickform.process.html" class="link"><strong class="function">process()</strong></a>
and <a href="package.html.html-quickform.html-quickform.exportvalues.html" class="link"><strong class="function">exportvalues()</strong></a>
methods may be of interest here.
     </p>
     <p class="para">
The last line is pretty easy:
</p><div class="phpcode">
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$form</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">display</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
</div><p>
If the form is not valid, which means that it either was not yet submitted or that there were errors, it
will be displayed. Error messages (if any) will be displayed near the corresponding elements.
     </p>
    </div>
   </div>
   <div class="refsection" id="package.html.html-quickform.tutorial.advanced"><div class="info"><h1>Advanced features</h1>
</div>

     <p class="para">
You now should have an understanding of basic QuickForm functionality, but there are many more features in
the package, each of them deserving a separate tutorial. This section will give a short overview of them
and point you to the complete documentation.
     </p>
     <p class="para">
<a href="package.html.html-quickform.groups.html" class="link">Groups</a> allow to combine several individual
elements into one entity and to use it as one element. This is also used to create pseudo-elements like date
and hierselect.
     </p>
     <p class="para">
QuickForm offers a lot of possibilities to customize form layout and appearance. Form output is done via
<a href="package.html.html-quickform.intro-renderers.html" class="link">renderers</a> - special classes containing
necessary logic. There are renderers that <a href="package.html.html-quickform.html-quickform-renderer-default.html" class="link">directly output HTML</a>
and those that <a href="package.html.html-quickform.output.template-renderers.html" class="link">use template engines</a> for this.
     </p>
     <p class="para">
And finally, you can extend QuickForm by adding your own element types, rules and
<a href="package.html.html-quickform.output.renderer-doc.html" class="link">renderers</a>.
     </p>
   </div>
</div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.html.html-quickform.introduction.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.html.html-quickform.introduction.html">Introduction</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.html.html-quickform.intro-faq.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">Introduction</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">QuickHelp</td>
  </tr>
 </table>
</div>
</body></html>
