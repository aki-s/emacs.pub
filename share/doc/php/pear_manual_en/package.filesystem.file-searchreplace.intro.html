<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>Introduction</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.filesystem.file-searchreplace.html" title="File_SearchReplace" />
  <link rel="prev" href="package.filesystem.file-searchreplace.html" title="File_SearchReplace" />
  <link rel="next" href="package.filesystem.file-searchreplace.file-searchreplace.html" title="File_SearchReplace::File_SearchReplace()" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">Introduction</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.filesystem.file-searchreplace.html" title="File_SearchReplace">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.filesystem.file-searchreplace.file-searchreplace.html" title="File_SearchReplace::File_SearchReplace()">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.filesystem.file-searchreplace.intro">
   
    <h1 class="refname">Introduction</h1>
    <div class="refnamediv">Introduction &ndash; HowTo s&#039;n&#039;r in files</div>

   
   <div class="refsection" id="package.filesystem.file-searchreplace.intro.use"><div class="info"><h1>Using</h1>
</div>
   
   <p class="para">
    With <strong class="classname">SearchReplace</strong>, you can replace
    a text in as many as desired files by another.
   </p>
   <div class="example"><div class="info"><p><strong>Typical usage</strong></p></div>
    
     <div class="phpcode">
      <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">include&nbsp;</span><span style="color: #DD0000">'File/SearchReplace.php'&nbsp;</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$files&nbsp;</span><span style="color: #007700">=&nbsp;array(&nbsp;</span><span style="color: #DD0000">"test1.txt"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"test2.txt"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"test3.txt"&nbsp;</span><span style="color: #007700">)&nbsp;;<br /></span><span style="color: #0000BB">$ignoreline&nbsp;</span><span style="color: #007700">=&nbsp;array(&nbsp;</span><span style="color: #DD0000">"#"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">":"</span><span style="color: #007700">)&nbsp;;<br /></span><span style="color: #0000BB">$snr&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">File_SearchReplace</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">"Yes"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"No"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$files</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"/mail/"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ignoreline</span><span style="color: #007700">)&nbsp;;<br /></span><span style="color: #0000BB">$snr&nbsp;</span><span style="color: #007700">-&gt;&nbsp;</span><span style="color: #0000BB">doSearch</span><span style="color: #007700">()&nbsp;;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
     </div>
   </div>
   <p class="para">
    The example replaces all occurences of <em><code class="parameter">&quot;Yes&quot;</code></em> with
    <em><code class="parameter">&quot;No&quot;</code></em> in the given $files and in all files in the
    directory <em><code class="parameter">&quot;/mail/&quot;</code></em>. If a line in a file starts
    with one of the chars in <em><code class="parameter">$ignoreline</code></em>, possible
    matches will be ignored.
   </p>
   <p class="para">
    You can do a new search without creating a new instance of the class.
   </p>
   <div class="example"><div class="info"><p><strong>Do a new search</strong></p></div>
    
     <div class="phpcode">
     <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">...<br /></span><span style="color: #FF8000">//&nbsp;string&nbsp;to&nbsp;search<br /></span><span style="color: #0000BB">$snr&nbsp;</span><span style="color: #007700">-&gt;&nbsp;</span><span style="color: #0000BB">setFind</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">"Er"</span><span style="color: #007700">)&nbsp;;<br /></span><span style="color: #FF8000">//&nbsp;string&nbsp;to&nbsp;find<br /></span><span style="color: #0000BB">$snr&nbsp;</span><span style="color: #007700">-&gt;&nbsp;</span><span style="color: #0000BB">setReplace</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">"Sie"</span><span style="color: #007700">)&nbsp;;<br /></span><span style="color: #FF8000">//&nbsp;look&nbsp;in&nbsp;this&nbsp;files<br /></span><span style="color: #0000BB">$snr&nbsp;</span><span style="color: #007700">-&gt;&nbsp;</span><span style="color: #0000BB">setFiles</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$files</span><span style="color: #007700">)&nbsp;;<br /></span><span style="color: #FF8000">//&nbsp;look&nbsp;in&nbsp;this&nbsp;directories<br /></span><span style="color: #0000BB">$snr&nbsp;</span><span style="color: #007700">-&gt;&nbsp;</span><span style="color: #0000BB">setDirectories</span><span style="color: #007700">(&nbsp;array(&nbsp;</span><span style="color: #DD0000">"/neue_briefe/"</span><span style="color: #007700">))&nbsp;;<br /></span><span style="color: #FF8000">//&nbsp;look&nbsp;in&nbsp;the&nbsp;subdirectories&nbsp;too<br /></span><span style="color: #0000BB">$snr&nbsp;</span><span style="color: #007700">-&gt;&nbsp;</span><span style="color: #0000BB">setIncludeSubdir</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">)&nbsp;;<br /></span><span style="color: #FF8000">//&nbsp;ignore&nbsp;lines&nbsp;in&nbsp;the&nbsp;files&nbsp;starting&nbsp;with&nbsp;this&nbsp;chars<br /></span><span style="color: #0000BB">$snr&nbsp;</span><span style="color: #007700">-&gt;&nbsp;</span><span style="color: #0000BB">setIgnoreLines</span><span style="color: #007700">(&nbsp;array(&nbsp;</span><span style="color: #DD0000">"::"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"#"</span><span style="color: #007700">))&nbsp;;<br /></span><span style="color: #FF8000">//&nbsp;restart&nbsp;search'n'replace<br /></span><span style="color: #0000BB">$snr&nbsp;</span><span style="color: #007700">-&gt;&nbsp;</span><span style="color: #0000BB">doSearch</span><span style="color: #007700">()&nbsp;;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
     </div>
   </div>
  </div>

  <div class="refsection" id="package.filesystem.file-searchreplace.intro.searchtype"><div class="info"><h1>Types of search functions</h1>
</div>
   
   <p class="para">
    <strong class="classname">File_SearchReplace</strong> supports different
    kinds of search functions. The type directly influence the format
    of the required <em><code class="parameter">$find</code></em>-parameter
    </p><ul class="simplelist">
        <li class="member">
            <em><code class="parameter">normal</code></em> - default, the
            only type supporting the 
            <em><code class="parameter">$IgnoreLines</code></em>-parameter
        </li>
        <li class="member">
            <em><code class="parameter">quick</code></em>
             - use <strong class="function">str_replace()</strong>
        </li>
        <li class="member">
            <em><code class="parameter">preg</code></em>
             - use <strong class="function">preg_replace()</strong>
        </li>
        <li class="member">
            <em><code class="parameter">ereg</code></em>
             - use <strong class="function">ereg_replace()</strong>
        </li>
    </ul><p>
    To set the type, call <a href="package.filesystem.file-searchreplace.setsearchfunction.html" class="link">
    <strong class="function">setSearchFunction()</strong></a> before <a href="package.filesystem.file-searchreplace.dosearch.html" class="link">
    <strong class="function">doSearch()</strong></a>.
   </p>
  </div>
  </div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.filesystem.file-searchreplace.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.filesystem.file-searchreplace.html">File_SearchReplace</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.filesystem.file-searchreplace.file-searchreplace.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">File_SearchReplace</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">File_SearchReplace::File_SearchReplace()</td>
  </tr>
 </table>
</div>
</body></html>
