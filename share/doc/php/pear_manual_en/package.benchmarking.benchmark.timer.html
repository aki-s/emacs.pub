<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>Benchmark_Timer</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.benchmarking.benchmark.html" title="Benchmarking_Benchmark" />
  <link rel="prev" href="package.benchmarking.benchmark.intro.html" title="Introduction" />
  <link rel="next" href="package.benchmarking.benchmark.profiler.html" title="Benchmark_Profiler" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">Benchmark_Timer</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.benchmarking.benchmark.intro.html" title="Introduction">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.benchmarking.benchmark.profiler.html" title="Benchmark_Profiler">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.benchmarking.benchmark.timer">
 
	 <h1 class="refname">Benchmark_Timer</h1>
  <div class="refnamediv">Benchmark_Timer &ndash; About Benchmark_Timer</div>

 
 <div class="refsection"><div class="info"><h1>About Benchmark_Timer</h1>
</div>
  
  <p class="para">
   As mentioned before, this class simply records the time
   taken for a particular snippet of code to execute. In 
   the <em class="emphasis">automatic</em> mode, this means the code remaining after
   the class&#039;s instantiation. In <em class="emphasis">manual</em> mode, the snippet of
   code to be timed is specified between calls to the
   <strong class="function">start()</strong> and <strong class="function">stop()</strong>
   methods of the class.
  </p>
  <p class="para">
   Additionally, you may specify <em class="emphasis">markers</em>
   between the snippet of code to be timed. The timing
   information is recorded wherever markers are defined.
  </p>
  <p class="para">
   An example will make this clear.
  </p>
  <div class="example"><div class="info"><p><strong>
    Benchmark_Timer in automatic mode
   </strong></p></div>
   
   <div class="phpcode">
   <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">"Benchmark/Timer.php"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$timer&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Benchmark_Timer</span><span style="color: #007700">(</span><span style="color: #0000BB">TRUE</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;Timer&nbsp;is&nbsp;in&nbsp;automatic&nbsp;mode,&nbsp;so&nbsp;timing&nbsp;starts&nbsp;here.<br /><br /></span><span style="color: #0000BB">$j&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />for&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$j</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">49</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$timer</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setMarker</span><span style="color: #007700">(</span><span style="color: #DD0000">'Midway'</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Timer&nbsp;automatically&nbsp;stops&nbsp;and&nbsp;results&nbsp;are&nbsp;displayed.<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
   </div>
  </div>
  <p class="para">
   The example above will generate an output as shown below
   when run with the PHP CLI SAPI. Running it with the 
   Apache SAPI will produce the same results, but formatted
   as HTML.
  </p>
  <div class="example"><div class="info"><p><strong>
    Results of a test run of Benchmark_Timer
   </strong></p></div>
   
   <div class="htmlcode">
   <pre class="htmlcode">
----------------------------------------------------
marker  time index            ex time         perct   
----------------------------------------------------
Start   1182558324.48638900   -                0.00%
----------------------------------------------------
Midway  1182558324.48655800   0.000169        62.13%
----------------------------------------------------
Stop    1182558324.48666100   0.000103        37.87%
----------------------------------------------------
total   -                     0.000272       100.00%
----------------------------------------------------</pre>

   </div>
  </div>
  <p class="para">
   In most cases however, you would like to do something
   with that information. When you run the timer in
   <em class="emphasis">manual</em> mode, you can obtain the results as an
   associative array using the
   <strong class="function">getProfiling()</strong> method. To display
   the information (as shown above) use the
   <strong class="function">display()</strong> method. More information
   on the methods that <strong class="classname">Benchmark_Timer</strong>
   implements is available in the API Documentation.
  </p>
 </div> 
</div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.benchmarking.benchmark.intro.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.benchmarking.benchmark.html">Benchmarking_Benchmark</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.benchmarking.benchmark.profiler.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">Introduction</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">Benchmark_Profiler</td>
  </tr>
 </table>
</div>
</body></html>
