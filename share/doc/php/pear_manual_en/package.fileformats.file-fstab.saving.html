<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>Saving</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.fileformats.file-fstab.html" title="File_Fstab" />
  <link rel="prev" href="package.fileformats.file-fstab.entries.html" title="Entries" />
  <link rel="next" href="package.fileformats.file-marc.html" title="File_MARC" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">Saving</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.fileformats.file-fstab.entries.html" title="Entries">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.fileformats.file-marc.html" title="File_MARC">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.fileformats.file-fstab.saving">
 
  <h1 class="refname">Saving</h1>
  <div class="refnamediv">Saving &ndash; 
   Saving your changes
  </div>

 

 <div class="refsection" id="package.fileformats.file-fstab.saving.overview"><div class="info"><h1>Saving your changes</h1>
</div>
  

  <p class="para">
   After modifying a fstab file, you will want to save your changes.
   The <strong class="function">save()</strong> function does this.
  </p>

  <p class="para">
    </p><blockquote class="warning">

        <p class="simpara">
            Comments from the loaded file are not preserved when saving,
            and whitespace may change. This has no effect on the functionality
            of the fstab file, but you may lose helpful comments.
        </p>
    </blockquote>

  

  <div class="example"><div class="info"><p><strong>Save to the same file</strong></p></div>
    
    <div class="example-contents"><p>
      This will save your changes back to the file you loaded, overwriting
      the old file.
    </p></div>

    <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">'File/Fstab.php'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$fstab&nbsp;</span><span style="color: #007700">=&amp;&nbsp;new&nbsp;</span><span style="color: #0000BB">File_Fstab</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$floppy&nbsp;</span><span style="color: #007700">=&amp;&nbsp;new&nbsp;</span><span style="color: #0000BB">File_Fstab_Entry</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$floppy</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fsType&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'vfat'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$floppy</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">device&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/dev/fd0'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$floppy</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">mountPoint&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/floppy'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$fstab</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addEntry</span><span style="color: #007700">(</span><span style="color: #0000BB">$floppy</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$fstab</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">save</span><span style="color: #007700">();<br />if&nbsp;(</span><span style="color: #0000BB">PEAR</span><span style="color: #007700">::</span><span style="color: #0000BB">isError</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #0000BB">$res</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">());<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    
  </div>

  <div class="example"><div class="info"><p><strong>Save to a different file</strong></p></div>
    
    <div class="example-contents"><p>
      This will save your changes to a different file than the one you
      originally loaded.
    </p></div>

    <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">'File/Fstab.php'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$fstab&nbsp;</span><span style="color: #007700">=&amp;&nbsp;new&nbsp;</span><span style="color: #0000BB">File_Fstab</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$floppy&nbsp;</span><span style="color: #007700">=&amp;&nbsp;new&nbsp;</span><span style="color: #0000BB">File_Fstab_Entry</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$floppy</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fsType&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'vfat'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$floppy</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">device&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/dev/fd0'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$floppy</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">mountPoint&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/floppy'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$fstab</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addEntry</span><span style="color: #007700">(</span><span style="color: #0000BB">$floppy</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$fstab</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">save</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/fstab.new'</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">PEAR</span><span style="color: #007700">::</span><span style="color: #0000BB">isError</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #0000BB">$res</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">());<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    
  </div>
 </div>

</div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.fileformats.file-fstab.entries.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.fileformats.file-fstab.html">File_Fstab</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.fileformats.file-marc.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">Entries</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">File_MARC</td>
  </tr>
 </table>
</div>
</body></html>
