<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>Auth::Auth()</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.authentication.auth.html" title="Auth" />
  <link rel="prev" href="package.authentication.auth.constants.html" title="Constants" />
  <link rel="next" href="package.authentication.auth.auth.adduser.html" title="Auth::addUser()" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">Auth::Auth()</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.authentication.auth.constants.html" title="Constants">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.authentication.auth.auth.adduser.html" title="Auth::addUser()">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.authentication.auth.auth.auth">
   
    <h1 class="refname">Auth::Auth()</h1>
    <div class="refnamediv">Auth::Auth() &ndash; constructor</div>

   
   <h2 class="refsynopsisdiv">Synopsis</h2>
   <div class="funcsynopsis">
    <p><code class="funcprototype">
     <strong class="function">Auth::Auth</strong> ( 
     mixed $storageDriver
      , mixed $options = &quot;&quot;
      , string $loginFunction = &quot;&quot;
      , boolean $showLogin
      <span class="initializer"> = true</span>
     
    )</code></p>
   </div>

   
   <div class="refsection" id="package.authentication.auth.auth.auth.desc">
    <h1 class="title">Description</h1>
    <p class="para">
     Constructor for the authentication system.
    </p>
    <p class="para">
     The constructor will ensure that the PHP session management is started by
     calling <strong class="function">session_start()</strong>. This is done as Auth requires
     a session to be active to operate correctly.
    </p>
   </div>
   <div class="refsection" id="package.authentication.auth.auth.auth.parameter">
    <h1 class="title">Parameter</h1>
    <p class="para">
     </p><div class="variablelist">
      <dl class="varlistentry">
       <dt class="term">
        <span class="type">string</span>
        <em><code class="parameter">$storageDriver</code></em>
       </dt>
       <dd class="listitem">
        <p class="para">
         Name of the storage driver that should be used,
         alternatively you can pass a custom Auth_Container object.
        </p>
       </dd>
      </dl>
      <dl class="varlistentry">
       <dt class="term">
        <span class="type">mixed</span>
        <em><code class="parameter">$options</code></em>
       </dt>
       <dd class="listitem">
        <p class="para">
         Array containing the options for both Auth itself and the storage
         driver. See
         <a href="package.authentication.auth.intro-options.html" class="link">
          Auth Options
         </a>
         for global options and each storage driver&#039;s documentation
         for specific options.
        </p>
       </dd>
      </dl>
      <dl class="varlistentry">
       <dt class="term">
        <span class="type">string</span>
        <em><code class="parameter">$loginFunction</code></em>
       </dt>
       <dd class="listitem">
        <p class="para">
         The name of a user-defined function that
         prints the login screen. This function is passed three parameters
         when called $username, $status, &amp;$auth.
         These are in order the
         previously attempted username, the status code that caused the
         previous auth attempt to fail and a reference to the Auth object
         itself.
        </p>
       </dd>
      </dl>
      <dl class="varlistentry">
       <dt class="term">
        <span class="type">boolean</span>
        <em><code class="parameter">$showLogin</code></em>
       </dt>
       <dd class="listitem">
        <p class="para">
         Defines if the login is optional or not.
        </p>
       </dd>
      </dl>
     </div>
    
   </div>
   <div class="refsection" id="package.authentication.auth.auth.auth.note">
    <h1 class="title">Note</h1>
    <p class="simpara">This function can not be called
statically.</p>
   </div>
   <div class="refsection" id="package.authentication.auth.auth.auth.see">
    <h1 class="title">See</h1>
    <p class="para">
     <a href="package.authentication.auth.intro-storage.html" class="link">
      Introduction - The storage drivers
     </a>
    </p>
   </div>
   <div class="refsection" id="package.authentication.auth.auth.auth.example">
    <h1 class="title">Example</h1>
   <div class="example"><div class="info"><p><strong>Using different DB parameters</strong></p></div>

    <div class="phpcode">
     <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">"Auth/Auth.php"</span><span style="color: #007700">;<br /><br />function&nbsp;</span><span style="color: #0000BB">myOutput</span><span style="color: #007700">(</span><span style="color: #0000BB">$username</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$status</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$auth</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;See&nbsp;first&nbsp;example&nbsp;in&nbsp;introduction&nbsp;for&nbsp;the&nbsp;full&nbsp;listing&nbsp;*/<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #0000BB">$params&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"dsn"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"mysql://martin:test@localhost/auth"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"table"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"myAuth"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"usernamecol"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"myUserColumn"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"passwordcol"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"myPasswordColumn"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Auth</span><span style="color: #007700">(</span><span style="color: #DD0000">"DB"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$params</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"myOutput"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">start</span><span style="color: #007700">();<br /><br />if&nbsp;(</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getAuth</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"You&nbsp;have&nbsp;been&nbsp;authenticated&nbsp;successfully."</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
    </div>
   </div>

   <p class="para">
    This example shows you how you can specifiy alternative
    names for the database table and the column names. In our
    example, we use the table myAuth, select the username from
    the field myUserColumn and the password from the field
    myPasswordColumn. The default values for this fields are
    auth, username and password. Note that you can also specify
    an existing DB object with the dsn parameter instead of a DSN.
   </p>
   <p class="para">
    This feature is necessary if you want to use PEAR::Auth
    with a database layout that is different from the one
    PEAR::Auth uses by default.
   </p>

   </div>

   <div class="refsection" id="package.authentication.auth.auth.auth.example-customcont">
    <h1 class="title">Example</h1>
   <div class="example"><div class="info"><p><strong>Using different DB parameters</strong></p></div>

    <div class="phpcode">
     <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">"Auth/Auth.php"</span><span style="color: #007700">;<br /><br />function&nbsp;</span><span style="color: #0000BB">myOutput</span><span style="color: #007700">(</span><span style="color: #0000BB">$username</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$status</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;See&nbsp;first&nbsp;example&nbsp;in&nbsp;introduction&nbsp;for&nbsp;the&nbsp;full&nbsp;listing&nbsp;*/<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Auth</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">CustomAuthContainer</span><span style="color: #007700">(</span><span style="color: #0000BB">$options</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"myOutput"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">start</span><span style="color: #007700">();<br /><br />if&nbsp;(</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getAuth</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"You&nbsp;have&nbsp;been&nbsp;authenticated&nbsp;successfully."</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
    </div>
   </div>

   <p class="para">
    This example shows you how you can pass your
    own storage container to Auth.
   </p>
   <p class="para">
    If the storage containers supplied with Auth are not capable
    of fulfilling your requirements, you can easliy create your own
    storage container.
    Read the storage containers section for more info
     <a href="package.authentication.auth.intro-storage.html" class="link">
      Introduction - The storage drivers
     </a>

   </p>

   </div>

  </div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.authentication.auth.constants.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.authentication.auth.html">Auth</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.authentication.auth.auth.adduser.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">Constants</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">Auth::addUser()</td>
  </tr>
 </table>
</div>
</body></html>
