<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>HTTP::negotiateLanguage</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.http.http.html" title="HTTP" />
  <link rel="prev" href="package.http.http.head.html" title="HTTP::head" />
  <link rel="next" href="package.http.http.redirect.html" title="HTTP::redirect" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">HTTP::negotiateLanguage</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.http.http.head.html" title="HTTP::head">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.http.http.redirect.html" title="HTTP::redirect">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.http.http.negotiatelanguage">
   
    <h1 class="refname">HTTP::negotiateLanguage</h1>
    <div class="refnamediv">HTTP::negotiateLanguage &ndash; Negotiate language with the user&#039;s browser</div>

   
   <h2 class="refsynopsisdiv">Synopsis</h2>
    <div class="funcsynopsis">
     <div class="programlisting">
      require_once &#039;HTTP.php&#039;;
     </div>     
     <p><code class="funcprototype">
      string <strong class="function">HTTP::negotiateLanguage</strong> ( 
      array $supported
       , string $default = &#039;en_US&#039;
     )</code></p>     
    </div>
   
   <div class="refsection" id="package.http.http.negotiatelanguage.desc">
    <h1 class="title">Description</h1>
    <p class="para">
     Negotiate language with the user&#039;s browser through the
     Accept-Language HTTP header or the user&#039;s host address.
     Language codes are generally in the form &quot;ll&quot; for a language
     spoken in only one country, or &quot;ll-CC&quot; for a language spoken in
     a particular country.  For example, U.S. English is &quot;en-US&quot;,
     while British English is &quot;en-UK&quot;.  Portugese as spoken in
     Portugal is &quot;pt-PT&quot;, while Brazilian Portugese is &quot;pt-BR&quot;.
     Two-letter country codes can be found in the ISO 3166 standard.
    </p>
    <p class="para">
     Quantities in the <code class="literal">Accept-Language:</code> header are
     supported, for example:
     </p><div class="programlisting"><pre class="programlisting">Accept-Language: en-UK;q=0.7, en-US;q=0.6, no;q=1.0, dk;q=0.8</pre>
</div>
    
   </div>   
   <div class="refsection" id="package.http.http.negotiatelanguage.example">
    <h1 class="title">Example</h1>
    <p class="para">
     </p><div class="example"><div class="info"><p><strong>Usage example</strong></p></div>
      
      <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">"HTTP.php"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$supported&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"de"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"en-US"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">HTTP</span><span style="color: #007700">::</span><span style="color: #0000BB">negotiateLanguage</span><span style="color: #007700">(</span><span style="color: #0000BB">$supported</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>
    
    <p class="para">
     This example negotiates with the user agent if any of the
     languages, which are specified in <code class="varname">supported</code>,
     are supported on the user&#039;s system. If the negotiation has a
     positive result, the language code of the most preferred language
     is printed. Otherwise the default language code (en-US) is
     printed.
    </p>
    <p class="para">
     Being able to perform language negotiation is a big help when
     developing internationalized website with pages, that are available
     in more than one language. Using negotiation, the user will always
     get pages in the language which he prefers. (Assuming that their
     user agent is configured properly.)
    </p>
   </div>
   <div class="refsection" id="package.http.http.negotiatelanguage.parameter">
    <h1 class="title">Parameter</h1>
    <p class="para">
     </p><ul class="itemizedlist">
      <li class="listitem">
       <p class="para">
        <em><code class="parameter">array $supported</code></em> - an
        associative array indexed by language codes (country codes)
        supported by the application.  Values must evaluate to <strong class="constant">TRUE</strong>.
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        <em><code class="parameter">string $default</code></em> -  the default 
        language that should be used if none of the other languages
        are found during negotiation.        
       </p>
      </li>      
     </ul>
    
   </div>         
   <div class="refsection" id="package.http.http.negotiatelanguage.return">
    <h1 class="title">Return value</h1>
    <p class="para">
     <em><code class="parameter">string</code></em> - a language code        
    </p>
   </div>      
   <div class="refsection" id="package.http.http.negotiatelanguage.note">
    <h1 class="title">Note</h1>
    <p class="simpara">This function can be called
statically.</p>
    <p class="para">
     The returned language is only a hint! Sending the
     accepted languages by the client is optional. The language settings
     of the browser do not have to meet the user&#039;s native language -
     for example a german traveller in a spanish internet cafe. You
     can improve your result by combining it with the result of the 
     <strong class="classname">Net_Geo</strong> package.  Apart from that, you should
     still give the user the chance to manually choose their preferred
     language menu.
    </p>
   </div>         
  </div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.http.http.head.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.http.http.html">HTTP</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.http.http.redirect.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">HTTP::head</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">HTTP::redirect</td>
  </tr>
 </table>
</div>
</body></html>
