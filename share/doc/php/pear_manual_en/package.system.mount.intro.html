<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>Introduction</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.system.mount.html" title="System_Mount" />
  <link rel="prev" href="package.system.mount.html" title="System_Mount" />
  <link rel="next" href="package.system.system-daemon.html" title="System_Daemon" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">Introduction</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.system.mount.html" title="System_Mount">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.system.system-daemon.html" title="System_Daemon">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.system.mount.intro">
 
  <h1 class="refname">Introduction</h1>
  <div class="refnamediv">Introduction &ndash; 
   Mount and Unmount filesystems
  </div>

 

 <div class="refsection" id="package.system.mount.intro.contrib"><div class="info"><h1>Contributors</h1>
</div>
  
  <p class="para">
   </p><ul class="itemizedlist">
    <li class="listitem"><span class="simpara">Brett Bieber</span></li>
   </ul>
  
 </div>

 <div class="refsection" id="package.system.mount.intro.desc"><div class="info"><h1>Description</h1>
</div>
  
  <p class="para">
   <strong class="classname">System_Mount</strong> provides methods to mount and unmount
   filesystems and partitions listed in a system&#039;s
   <code class="filename">/etc/fstab</code>. The fstab file is common on Unix/Linux
   based systems and is used to list the available filesystems and partitions
   which users can mount into the filesystem hierarchy. Common entries include
   root partitions, boot partitions, as well as cdrom drives and other
   removable media. 
  </p>

  <p class="para">
   The System_Mount command utilizes File_Fstab to discover entries in the 
   <code class="filename">/etc/fstab</code> file, and allow easy mount/unmount operations.
  </p>
 </div>

 <div class="refsection"><div class="info"><h1>Using System_Mount</h1>
</div>
  
  <div class="example"><div class="info"><p><strong>General usage</strong></p></div>
   
   <div class="phpcode">
    <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">'System/Mount.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Create&nbsp;the&nbsp;mount&nbsp;class<br /></span><span style="color: #0000BB">$m&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">System_Mount</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Get&nbsp;an&nbsp;object&nbsp;representing&nbsp;the&nbsp;CD-ROM&nbsp;entry<br /></span><span style="color: #0000BB">$cdrom&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getEntryForPath</span><span style="color: #007700">(</span><span style="color: #DD0000">'/media/cdrom0'</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">PEAR</span><span style="color: #007700">::</span><span style="color: #0000BB">isError</span><span style="color: #007700">(</span><span style="color: #0000BB">$cdrom</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #0000BB">$cdrom</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">message</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Mount&nbsp;it<br /></span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$cdrom</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">mount</span><span style="color: #007700">();<br />if&nbsp;(</span><span style="color: #0000BB">PEAR</span><span style="color: #007700">::</span><span style="color: #0000BB">isError</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #0000BB">$res</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">().</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;List&nbsp;its&nbsp;contents<br /></span><span style="color: #007700">print&nbsp;`</span><span style="color: #DD0000">ls&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$cdrom</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">mountPoint</span><span style="color: #007700">}`;<br /><br /></span><span style="color: #FF8000">//&nbsp;Unmount&nbsp;it<br /></span><span style="color: #0000BB">$cdrom</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">unmount</span><span style="color: #007700">();<br />if&nbsp;(</span><span style="color: #0000BB">PEAR</span><span style="color: #007700">::</span><span style="color: #0000BB">isError</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;die(</span><span style="color: #0000BB">$res</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">().</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>
  <p class="para">
   At first, you need to instantitiate a new
   <strong class="classname">System_Mount</strong> object.
  </p>
  <p class="para">
   Use the mount point for the corresponding entry in your
   <code class="filename">/etc/fstab</code> to obtain an object to mount,
   then check if there are any errors. If there are no errors mount the cdrom.
  </p>

 </div>

</div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.system.mount.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.system.mount.html">System_Mount</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.system.system-daemon.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">System_Mount</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">System_Daemon</td>
  </tr>
 </table>
</div>
</body></html>
