<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>HTTP_Request2</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.http.http-request2.html" title="HTTP_Request2" />
  <link rel="prev" href="package.http.http-request2.config.html" title="Configuration" />
  <link rel="next" href="package.http.http-request2.adapters.html" title="Adapters" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">HTTP_Request2</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.http.http-request2.config.html" title="Configuration">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.http.http-request2.adapters.html" title="Adapters">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.http.http-request2.request">
 
  <h1 class="refname"><strong class="classname">HTTP_Request2</strong></h1>
  <div class="refnamediv"><strong class="classname">HTTP_Request2</strong> &ndash; Class representing a HTTP request message</div>

 
 <div class="refsection" id="package.http.http-request2.request.url">
  <div class="info"><h1>Request <span class="acronym">URL</span> and <code class="literal">GET</code> Parameters</h1>
</div>
  <p class="para">
   Request URL can be set in <strong class="classname">HTTP_Request2</strong> <a href="http://pear.php.net/package/HTTP_Request2/docs/latest/HTTP_Request2/HTTP_Request2.html#method__construct" class="apidoclink">constructor</a> or via <a href="http://pear.php.net/package/HTTP_Request2/docs/latest/HTTP_Request2/HTTP_Request2.html#methodsetUrl" class="apidoclink">HTTP_Request2::setUrl()</a> method. Both of these accept
   either a string or an instance of <a href="http://pear.php.net/package/Net_URL2/docs/latest/li_Net_URL2.html" class="apidoclink">Net_URL2</a>.
   URL is stored internally as an instance of <strong class="classname">Net_URL2</strong> that can be accessed
   via <a href="http://pear.php.net/package/HTTP_Request2/docs/latest/HTTP_Request2/HTTP_Request2.html#methodgetUrl" class="apidoclink">HTTP_Request2::getUrl()</a>.
  </p>
  <p class="para">
   <code class="literal">GET</code> request parameters can be added to URL via <a href="http://pear.php.net/package/Net_URL2/docs/latest/Net_URL2/Net_URL2.html#methodsetQueryVariable" class="apidoclink">Net_URL2::setQueryVariable()</a> and <a href="http://pear.php.net/package/Net_URL2/docs/latest/Net_URL2/Net_URL2.html#methodsetQueryVariables" class="apidoclink">Net_URL2::setQueryVariables()</a>:
   </p><div class="example">
    <p><strong>Setting <code class="literal">GET</code> parameters</strong></p>
    <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Explicitly&nbsp;set&nbsp;request&nbsp;method&nbsp;and&nbsp;use_brackets<br /></span><span style="color: #0000BB">$request&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">HTTP_Request2</span><span style="color: #007700">(</span><span style="color: #DD0000">'http://pear.php.net/bugs/search.php'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">HTTP_Request2</span><span style="color: #007700">::</span><span style="color: #0000BB">METHOD_GET</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">'use_brackets'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$url&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUrl</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$url</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setQueryVariables</span><span style="color: #007700">(array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'package_name'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'HTTP_Request2'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Net_URL2'</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'status'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Open'<br /></span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$url</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setQueryVariable</span><span style="color: #007700">(</span><span style="color: #DD0000">'cmd'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'display'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;will&nbsp;output&nbsp;a&nbsp;page&nbsp;with&nbsp;open&nbsp;bugs&nbsp;for&nbsp;Net_URL2&nbsp;and&nbsp;HTTP_Request2<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">send</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getBody</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
    </div>
   </div>
  
 </div>

 <div class="refsection" id="package.http.http-request2.request.auth">
  <div class="info"><h1>HTTP Authentication</h1>
</div>
  <p class="para">
   <strong class="classname">HTTP_Request2</strong> supports both Basic and Digest authentication schemes
   defined in <a href="http://www.faqs.org/rfcs/rfc2617" class="link external">RFC
   2617</a>. Authentication credentials can be set via <a href="http://pear.php.net/package/HTTP_Request2/docs/latest/HTTP_Request2/HTTP_Request2.html#methodsetAuth" class="apidoclink">HTTP_Request2::setAuth()</a> method or given in the
   request URL (but in the latter case authentication scheme will default to Basic). 
   </p><div class="example">
    <p><strong>Setting authentication credentials</strong></p>
    <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;will&nbsp;set&nbsp;credentials&nbsp;for&nbsp;basic&nbsp;auth<br /></span><span style="color: #0000BB">$request&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">HTTP_Request2</span><span style="color: #007700">(</span><span style="color: #DD0000">'http://user:password@www.example.com/secret/'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;This&nbsp;will&nbsp;set&nbsp;credentials&nbsp;for&nbsp;Digest&nbsp;auth<br /></span><span style="color: #0000BB">$request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setAuth</span><span style="color: #007700">(</span><span style="color: #DD0000">'user'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'password'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">HTTP_Request2</span><span style="color: #007700">::</span><span style="color: #0000BB">AUTH_DIGEST</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>
  
  <p class="para">
   There is currently <a href="package.http.http-request2.adapters.html#package.http.http-request2.adapters.curl" class="link">an issue with Digest
   authentication support in Curl Adapter</a> due to an underlying PHP cURL extension problem. 
  </p>
 </div>
 
 <div class="refsection" id="package.http.http-request2.request.headers">
  <div class="info"><h1>Request Headers</h1>
</div>
  <p class="para">
   Additional request headers can be set via <a href="http://pear.php.net/package/HTTP_Request2/docs/latest/HTTP_Request2/HTTP_Request2.html#methodsetHeader" class="apidoclink">HTTP_Request2::setHeader()</a> method. It also allows
   removing previosly set headers
   </p><div class="example">
    <p><strong>Setting request headers</strong></p>
    <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;setting&nbsp;one&nbsp;header<br /></span><span style="color: #0000BB">$request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setHeader</span><span style="color: #007700">(</span><span style="color: #DD0000">'Accept-Charset'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'utf-25'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;setting&nbsp;several&nbsp;headers&nbsp;in&nbsp;one&nbsp;go<br /></span><span style="color: #0000BB">$request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setHeader</span><span style="color: #007700">(array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Connection'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'close'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Referer'&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'http://localhost/'<br /></span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;removing&nbsp;a&nbsp;header<br /></span><span style="color: #0000BB">$request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setHeader</span><span style="color: #007700">(</span><span style="color: #DD0000">'User-Agent'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>
  
 </div>

 <div class="refsection" id="package.http.http-request2.request.cookies">
  <div class="info">
   <h1>Cookies</h1>

  </div>
  <p class="para">
   Cookies can be added to the request via <strong class="function">setHeader()</strong> method, but a specialized <a href="http://pear.php.net/package/HTTP_Request2/docs/latest/HTTP_Request2/HTTP_Request2.html#methodaddCookie" class="apidoclink">HTTP_Request2::addCookie()</a> method is also provided
   </p><div class="example">
    <p><strong>Adding cookies to the request</strong></p>
    <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addCookie</span><span style="color: #007700">(</span><span style="color: #DD0000">'CUSTOMER'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'WILE_E_COYOTE'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addCookie</span><span style="color: #007700">(</span><span style="color: #DD0000">'PART_NUMBER'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'ROCKET_LAUNCHER_0001'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>
  
  <div class="refsection" id="package.http.http-request2.request.cookiejar">
   <div class="info">
    <h1>Using cookie jar to manage cookies across requests</h1>

   </div>
   <p class="para">
    Since release 2.0.0beta1 the package contains <a href="http://pear.php.net/package/HTTP_Request2/docs/latest/HTTP_Request2/HTTP_Request2_CookieJar.html" class="apidoclink">HTTP_Request2_CookieJar</a> class that can be used manage cookies across requests.
    You can enable this functionality by passing either an existing instance of
    <strong class="classname">HTTP_Request2_CookieJar</strong> or <strong class="constant">TRUE</strong> to create a new instance to
    <a href="http://pear.php.net/package/HTTP_Request2/docs/latest/HTTP_Request2/HTTP_Request2.html#methodsetCookieJar" class="apidoclink">HTTP_Request2::setCookieJar()</a> method.
    Cookie Jar can be later accessed by <a href="http://pear.php.net/package/HTTP_Request2/docs/latest/HTTP_Request2/HTTP_Request2.html#methodgetCookieJar" class="apidoclink">HTTP_Request2::getCookieJar()</a>.
   </p>
   <p class="para">
    Cookie jar will automatically store cookies set in HTTP response and pass them to requests
    with URLs matching cookie parameters. You can also manually add cookies to jar by using
    <a href="http://pear.php.net/package/HTTP_Request2/docs/latest/HTTP_Request2/HTTP_Request2_CookieJar.html#methodstore" class="apidoclink">HTTP_Request2_CookieJar::store()</a> method.
   </p>
   <p class="para">
    By default <a href="http://publicsuffix.org/" class="link external">Public
    Suffix List</a> is used to check whether a cookie domain matches the given URL. The same list
    is used to restrict cookie setting by Firefox, Chrome and Opera browsers. It can be disabled if
    needed by <a href="http://pear.php.net/package/HTTP_Request2/docs/latest/HTTP_Request2/HTTP_Request2_CookieJar.html#methodusePublicSuffixList" class="apidoclink">HTTP_Request2_CookieJar::usePublicSuffixList()</a>.
   </p>
   <p class="para">
    <strong class="classname">HTTP_Request2_CookieJar</strong> implements
    <span class="interfacename">Serializable</span> interface and thus can be easily serialized and
    stored somewhere. You can control whether session cookies stored in a jar should be serialized
    by calling <a href="http://pear.php.net/package/HTTP_Request2/docs/latest/HTTP_Request2/HTTP_Request2_CookieJar.html#methodserializeSessionCookies" class="apidoclink">HTTP_Request2_CookieJar::serializeSessionCookies()</a>.
   </p>
   <blockquote class="note"><p class="para">
    When <strong class="classname">HTTP_Request2</strong> instance has a cookie jar set, <a href="http://pear.php.net/package/HTTP_Request2/docs/latest/HTTP_Request2/HTTP_Request2.html#methodaddCookie" class="apidoclink">HTTP_Request2::addCookie()</a> method will add a cookie
    to jar, rather than directly to <code class="literal">&#039;Cookie&#039;</code> header, using current request URL
    for setting its <code class="literal">&#039;domain&#039;</code> and <code class="literal">&#039;path&#039;</code> components.
   </p></blockquote>

  </div>
 </div>
 
 <div class="refsection" id="package.http.http-request2.request.body">
  <div class="info"><h1>Request Body</h1>
</div>
  <p class="para">
   If you are doing a <code class="literal">POST</code> request with Content-Type
   <code class="literal">&#039;application/x-www-form-urlencoded&#039;</code> or
   <code class="literal">&#039;multipart/form-data&#039;</code> (in other words, emulating <code class="literal">POST</code> form
   submission), you can add parameters via <a href="http://pear.php.net/package/HTTP_Request2/docs/latest/HTTP_Request2/HTTP_Request2.html#methodaddPostParameter" class="apidoclink">HTTP_Request2::addPostParameter()</a> and file uploads via <a href="http://pear.php.net/package/HTTP_Request2/docs/latest/HTTP_Request2/HTTP_Request2.html#methodaddUpload" class="apidoclink">HTTP_Request2::addUpload()</a>.
   <code class="literal">HTTP_Request2</code> will take care of generating proper request body. File
   uploads will be streamed from disk by <a href="http://pear.php.net/package/HTTP_Request2/docs/latest/HTTP_Request2/HTTP_Request2_MultipartBody.html" class="apidoclink">HTTP_Request2_MultipartBody</a> to reduce memory consumption.
  </p><div class="example">
   <p><strong>Emulating <code class="literal">POST</code> form submission</strong></p>
   <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$request&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">HTTP_Request2</span><span style="color: #007700">(</span><span style="color: #DD0000">'http://www.example.com/profile.php'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setMethod</span><span style="color: #007700">(</span><span style="color: #0000BB">HTTP_Request2</span><span style="color: #007700">::</span><span style="color: #0000BB">METHOD_POST</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span style="color: #0000BB">addPostParameter</span><span style="color: #007700">(</span><span style="color: #DD0000">'username'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'vassily'</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span style="color: #0000BB">addPostParameter</span><span style="color: #007700">(array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'email'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'vassily.pupkin@mail.ru'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'phone'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'+7&nbsp;(495)&nbsp;123-45-67'<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span style="color: #0000BB">addUpload</span><span style="color: #007700">(</span><span style="color: #DD0000">'avatar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'./exploit.exe'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'me_and_my_cat.jpg'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'image/jpeg'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>
  
  <p class="para">
   <strong class="function">addUpload()</strong> can accept either a string with a local file name or a pointer to
   an open file, as returned by <a href="http://www.php.net/manual-lookup.php?pattern=fopen" class="link external"><strong class="function">fopen()</strong></a>. You currently can&#039;t
   directly pass a string with the file contents, however you can pass a pointer to <a href="http://php.net/manual/en/wrappers.php.php" class="link external"><code class="literal">php://memory</code> or
    <code class="literal">php://temp</code></a>:
   </p><div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'php://temp/maxmemory:1048576'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'r+'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">fwrite</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">generateFileUploadData</span><span style="color: #007700">());<br /></span><span style="color: #0000BB">$request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addUpload</span><span style="color: #007700">(</span><span style="color: #DD0000">'stuff'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'custom.name'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'application/octet-stream'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  
  <p class="para">
   HTTP request body can also be set directly, by providing a string or a filename to <a href="http://pear.php.net/package/HTTP_Request2/docs/latest/HTTP_Request2/HTTP_Request2.html#methodsetBody" class="apidoclink">HTTP_Request2::setBody()</a> method. This is the only way to set a request body for
   non-<code class="literal">POST</code> request.
   </p><div class="example">
    <p><strong>Setting &quot;raw&quot; request body</strong></p>
    <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$request&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">HTTP_Request2</span><span style="color: #007700">(</span><span style="color: #DD0000">'http://rpc.example.com'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setMethod</span><span style="color: #007700">(</span><span style="color: #0000BB">HTTP_Request2</span><span style="color: #007700">::</span><span style="color: #0000BB">METHOD_POST</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span style="color: #0000BB">setHeader</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-type:&nbsp;text/xml;&nbsp;charset=utf-8'</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;-&gt;</span><span style="color: #0000BB">setBody</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&lt;?xml&nbsp;version=\"1.0\"&nbsp;encoding=\"utf-8\"?"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"&gt;\r\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&lt;methodCall&gt;\r\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&lt;methodName&gt;foo.bar&lt;/methodName&gt;\r\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&lt;params&gt;\r\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&lt;param&gt;&lt;value&gt;&lt;string&gt;Hello,&nbsp;world!&lt;/string&gt;&lt;/value&gt;&lt;/param&gt;\r\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&lt;param&gt;&lt;value&gt;&lt;int&gt;42&lt;/int&gt;&lt;/value&gt;&lt;/param&gt;\r\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&lt;/params&gt;\r\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&lt;/methodCall&gt;"<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>
  
 </div>

 
 <div class="refsection" id="package.http.http-request2.request.redirects">
  <div class="info"><h1>HTTP Redirects</h1>
</div>
  <p class="para">
   Since release 0.5.0 <strong class="classname">HTTP_Request2</strong> can automatically follow HTTP redirects
   if <code class="literal">follow_redirects</code> parameter is set to <strong class="constant">TRUE</strong>.
  </p>
  <blockquote class="note"><p class="para">
   <strong class="classname">HTTP_Request2</strong> will only follow redirects to HTTP(S) URLs, redirects to
   other protocols will result in an Exception.
  </p></blockquote>

  <blockquote class="note"><p class="para">
   <strong class="function"><a href="http://pear.php.net/package/HTTP_Request2/docs/latest/HTTP_Request2/HTTP_Request2.html#methodsend" class="apidoclink">HTTP_Request2::send</a></strong> will return only
   the final response, if you are interested in the intermediate ones you should use <a href="package.http.http-request2.observers.html" class="link">Observers</a>.
  </p></blockquote>

 </div>
</div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.http.http-request2.config.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.http.http-request2.html">HTTP_Request2</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.http.http-request2.adapters.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">Configuration</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">Adapters</td>
  </tr>
 </table>
</div>
</body></html>
