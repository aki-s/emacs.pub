<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>News</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.php.php-compatinfo.summary.question.html" title="About" />
  <link rel="prev" href="package.php.php-compatinfo.faq.html" title="FAQ" />
  <link rel="next" href="package.php.php-compatinfo.install.html" title="Installing PHP_CompatInfo" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">News</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.php.php-compatinfo.faq.html" title="FAQ">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.php.php-compatinfo.install.html" title="Installing PHP_CompatInfo">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.php.php-compatinfo.whatsnew">
 
  <h1 class="refname">News</h1>
  <div class="refnamediv">News &ndash; What is New in version ?</div>

 

 <div class="refsection" id="package.php.php-compatinfo.whatsnew.143"><div class="info"><h1>Choose the right version</h1>
</div>

  <p class="para">
   If you need PHP3 detection, DO NOT use version 1.5.0 or greater, but the
   latest release of 1.4 branch (1.4.3)
  </p>
 </div>

 <div class="refsection" id="package.php.php-compatinfo.whatsnew.07x"><div class="info"><h1>Version 0.7.x</h1>
</div>

  <p class="para">
  </p><ul class="itemizedlist">
   <li class="listitem">
    <p class="para"><strong class="emphasis">Initial PEAR public release:</strong>
     occured in March 2003, one month later after package proposal was launched under name
     <a href="http://pear.php.net/pepr/pepr-proposal-show.php?id=27" class="link external">PHP_Compatibility</a>
    </p>
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">Added the ability to ignore files:</strong>
     in <code class="methodname">PHP_CompatInfo::parseFolder()</code>
     and <code class="methodname">PHP_CompatInfo::parseArray()</code>
    </p>
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">Added the ability to ignore folders:</strong>
     in <code class="methodname">PHP_CompatInfo::parseFolder()</code>
    </p>
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">Added the ability to ignore functions:</strong>
     in all public methods.
    </p>
   </li>
  </ul>
  
 </div>

 <div class="refsection" id="package.php.php-compatinfo.whatsnew.08x"><div class="info"><h1>Version 0.8.x</h1>
</div>

  <p class="para">
  </p><ul class="itemizedlist">
   <li class="listitem">
    <p class="para"><strong class="emphasis">Added a command line interface:</strong>
     with new class <strong class="classname">PHP_CompatInfo_Cli</strong>
    </p>
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">Added a clone function:</strong>
     to <code class="methodname">PHP_CompatInfo::parseFolder()</code>
     named <code class="methodname">PHP_CompatInfo::parseDir()</code>.
     parseFolder() became now an alias of parseDir().
    </p>
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">Added new option file_ext for parseArray:</strong>
     This option contains an array of file extensions to parse for PHP code.
     Default: php, php4, inc, phtml
    </p>
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">Fixed integration with PEAR_PackageFileManager:</strong>
     <code class="methodname">PackageFileManager::detectDependencies()</code> implement
     call to PHP_CompatInfo and allow to detect easily minimum PHP version needed.
    </p>
   </li>
  </ul>
  
 </div>

 <div class="refsection" id="package.php.php-compatinfo.whatsnew.10x"><div class="info"><h1>Version 1.0.x</h1>
</div>

  <p class="para">
  </p><ul class="itemizedlist">
   <li class="listitem">
    <p class="para"><strong class="emphasis">Improved PHP5 detection:</strong>
     one year after first PEAR public release, stable version 1.0.0 fixed some bugs
     and also allow PHP3 script/function detection.
    </p>
   </li>
  </ul>
  
 </div>

 <div class="refsection" id="package.php.php-compatinfo.whatsnew.11x"><div class="info"><h1>Version 1.1.x</h1>
</div>

  <p class="para">
  </p><ul class="itemizedlist">
   <li class="listitem">
    <p class="para"><strong class="emphasis">Added support for reporting max PHP version:</strong>
     came with user request
     <a href="http://pear.php.net/bugs/bug.php?id=6056" class="link external">6056</a>
    </p>
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">Improved PECL detection:</strong>
     especially with SAPI extension.
    </p>
   </li>
  </ul>
  
 </div>

 <div class="refsection" id="package.php.php-compatinfo.whatsnew.12x"><div class="info"><h1>Version 1.2.x</h1>
</div>

  <p class="para">
  </p><ul class="itemizedlist">
   <li class="listitem">
    <p class="para"><strong class="emphasis">Added new option ignore_constants:</strong> to
     <code class="methodname">PHP_CompatInfo::parseArray()</code>,
     <code class="methodname">PHP_CompatInfo::parseDir()</code>,
     <code class="methodname">PHP_CompatInfo::parseFolder()</code>,
     <code class="methodname">PHP_CompatInfo::parseFile()</code>,
     <code class="methodname">PHP_CompatInfo::parseString()</code>,
    </p>
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">Load components list for a PHP version or subset:</strong>
     added new function <code class="methodname">PHP_CompatInfo::loadVersion()</code> to API
    </p>
   </li>
  </ul>
  
 </div>

 <div class="refsection" id="package.php.php-compatinfo.whatsnew.13x"><div class="info"><h1>Version 1.3.x</h1>
</div>

  <p class="para">
  </p><ul class="itemizedlist">
   <li class="listitem">
    <p class="para"><strong class="emphasis">Improved command line interface:</strong>
     output is limited to 80 columns for a better render. There is also now
     a windows launcher (named compatinfo.bat).
    </p>
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">package xml 1.0:</strong>
     was stopped to be generated on version 1.3.2 (september 2006)
    </p>
   </li>
  </ul>
  
 </div>

 <div class="refsection" id="package.php.php-compatinfo.whatsnew.14x"><div class="info"><h1>Version 1.4.x</h1>
</div>

  <p class="para">
  </p><ul class="itemizedlist">
   <li class="listitem">
    <p class="para"><strong class="emphasis">Inactive leader:</strong>
     Davey Shafik, initial author of this package, became inactive, and I
     (Laurent Laville) follow his steps as new active package leader.
    </p>
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">PHP 4.3.0:</strong> is now required as a minimum
     to use both web and cli interfaces.
    </p>
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">License upgrade:</strong>
     from PHP 3.0 to PHP 3.01
    </p>
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">Improved PHP5 detection:</strong>
     with some bug fixes
    </p>
   </li>
  </ul>
  
 </div>

 <div class="refsection" id="package.php.php-compatinfo.whatsnew.15x"><div class="info"><h1>Version 1.5.x</h1>
</div>

  <p class="para">
  </p><ul class="itemizedlist">
   <li class="listitem">
    <p class="para"><strong class="emphasis">Improved PHP5 detection:</strong>
     with new data source
     <a href="http://cvs.php.net/viewcvs.cgi/phpdoc/phpbook/phpbook-xsl/version.xml" class="link external">version.xml</a>
     (revision 1.8) and
     <a href="http://cvs.php.net/viewcvs.cgi/phpdoc/funclist.txt" class="link external">funclist.txt</a>
     (revision 1.39).
    </p>
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">Dropped support of PHP3 detection:</strong>
     due to content of new data source version.xml (1.8) and funclist.txt (1.39)
    </p>
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">Command line interface:</strong>
     under windows (pci.bat) and unix (pci.php) have now unified name. Idea came from
     <a href="http://pear.php.net/package/PHP_CodeSniffer" class="link external">PHP_CodeSniffer</a>
     package that allow to fix lot of errors/warnings of coding standard.
    </p>
    <p class="para">
     Debug output of CLI gave now origin of extension (from PECL or not) and minimum
     extension version (rather than PHP). See example docs/examples/checkExtensions.php
    </p>
   </li>
  </ul>
  
 </div>

 <div class="refsection" id="package.php.php-compatinfo.whatsnew.16x"><div class="info"><h1>Version 1.6.x</h1>
</div>

  <p class="para">
  </p><ul class="itemizedlist">
   <li class="listitem">
    <p class="para"><strong class="emphasis">Improved PHP5 detection:</strong>
     with data source
     <a href="http://cvs.php.net/viewcvs.cgi/phpdoc/phpbook/phpbook-xsl/version.xml" class="link external">version.xml</a>
     (revision 1.9) and
     <a href="http://cvs.php.net/viewcvs.cgi/phpdoc/funclist.txt" class="link external">funclist.txt</a>
     (revision 1.39).
    </p>
    <p class="para">
     More PHP constant are detected natively:
    </p>
    <p class="para">
     </p><ul class="itemizedlist">
      <li class="listitem">
       <p class="para">Some
        <a href="http://www.php.net/reserved.constants" class="link external">
         Core Predefined Constants
        </a> ( PHP_EOL, DIRECTORY_SEPARATOR, PATH_SEPARATOR, E_STRICT )
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        <a href="http://www.php.net/datetime.constants" class="link external">
         Date Predefined Constants
        </a> ( DATE_* )
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        <a href="http://www.php.net/features.commandline" class="link external">
         CLI Specific Constants
        </a> ( STD* )
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        <a href="http://www.php.net/features.commandline" class="link external">
         File Upload Error Specific Constants
        </a> ( UPLOAD_ERR_* )
       </p>
      </li>
     </ul>
    
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">Command line interface:</strong>
     allow now to detect version of a simple string (code without using
     script tags &lt;?php ... ?&gt;. Uses new parameter -s or --string.
    </p>
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">Command line interface:</strong>
     allow now to print either an xml or text report (default).
     Uses new parameter -r or --report.
    </p>
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">loadVersion()</strong> may return
     both function or function+constant list.
    </p>
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">PHP method chaining</strong> is implemented
     on &quot;Davey Shafik&quot; request <a href="http://pear.php.net/bugs/13094" class="link external">#13094</a>.
    </p>
   </li>
  </ul>
  
 </div>

 <div class="refsection" id="package.php.php-compatinfo.whatsnew.17x"><div class="info"><h1>Version 1.7.x</h1>
</div>

  <p class="para">
  </p><ul class="itemizedlist">
   <li class="listitem">
    <p class="para">
     Fix CLI output render to 80 columns, on main table :
     </p><ul class="itemizedlist">
      <li class="listitem">
       <span class="simpara">29 characters for File/Path column </span>
      </li>
      <li class="listitem">
       <span class="simpara">9 characters for Version column </span>
      </li>
      <li class="listitem">
       <span class="simpara">3 characters for C column (conditional code level)</span>
      </li>
      <li class="listitem">
       <span class="simpara">12 characters for Extensions column </span>
      </li>
      <li class="listitem">
       <span class="simpara">20 characters for Constants/Tokens column </span>
      </li>
     </ul>
    
   </li>
   <li class="listitem">
    <p class="para">
     Fix CLI output render to 80 columns, on additionnal tables :
     </p><ul class="itemizedlist">
      <li class="listitem">
       <span class="simpara">25 characters for Option column </span>
      </li>
      <li class="listitem">
       <span class="simpara">51 characters for Value column </span>
      </li>
     </ul>
    
   </li>
   <li class="listitem">
    <p class="para"><strong class="emphasis">Improved detection on conditionnal code:</strong>
     with new options :
     <em class="emphasis">ignore_functions_match</em>,
     <em class="emphasis">ignore_extensions_match</em>,
     <em class="emphasis">ignore_constants_match</em>.
    </p>
    <p class="para">
     That allow to implement request
     <a href="http://pear.php.net/bugs/bug.php?id=12857" class="link external">12857</a> :
     add the option to locally mask exceptions.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     <strong class="emphasis">Implement request </strong>
     <a href="http://pear.php.net/bugs/bug.php?id=13138" class="link external">13138</a> :
     separate constants and tokens in results.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     <strong class="emphasis">Implement request </strong>
     <a href="http://pear.php.net/bugs/bug.php?id=13147" class="link external">13147</a> :
     add filter file extension option on parsing directory (CLI)
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     On CLI, the XML report generation is now xml compliant with a root tag (pci)
    </p>
    <p class="para">
     </p><blockquote class="warning">

      <p class="simpara">
       XML format is incompatible with version 1.6.x
      </p>
     </blockquote>

    
   </li>
   <li class="listitem">
    <p class="para">
     <strong class="emphasis">ability to know conditional code</strong>
      (such as function_exists) used by php scripts.
      A level (and details) of warning about conditional code found
      during parsing source code is available for all interface (including
      command line : with new column C)
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     On CLI <strong class="emphasis">text report is customizable</strong>
     with new --output-level switch. Path/File+Version are always given
     on minimum report (0), until full details (max:15 - default).
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     On CLI <strong class="emphasis">you may now summarize the result</strong>
     with new --summarize switch. Remove extra lines for all files when parsing
     a directory.
    </p>
   </li>
  </ul>
  
 </div>

 <div class="refsection" id="package.php.php-compatinfo.whatsnew.18x"><div class="info"><h1>Version 1.8.x</h1>
</div>

  <p class="para">
   Rewrites of core API following the MVC pattern came from a user request that wanted
   to customized its CLI output. Even if <em class="emphasis">output-level</em> switch
   already exists, there is no easy way with no process-logic dependency.
  </p>
  <p class="para">
   <strong class="emphasis">A word about the new architecture:</strong>
   Parser logic may be found in class <strong class="classname">PHP_CompatInfo_Parser</strong>,
   while <strong class="classname">PHP_CompatInfo</strong> class is still the main controller,
   but just a wrapper to parser methods. Each output format (csv, xml, text, html, array, null)
   is produced by an independant renderer (
   <strong class="classname">PHP_CompatInfo_Renderer_Csv</strong>,
   <strong class="classname">PHP_CompatInfo_Renderer_Xml</strong>,
   <strong class="classname">PHP_CompatInfo_Renderer_Text</strong>,
   <strong class="classname">PHP_CompatInfo_Renderer_Html</strong>,
   <strong class="classname">PHP_CompatInfo_Renderer_Array</strong>,
   <strong class="classname">PHP_CompatInfo_Renderer_Null</strong>
   ) with the common interface <strong class="classname">PHP_CompatInfo_Renderer</strong>
  </p>
  <p class="para">
   To create your own renderer or just customize a bit an exists renderer, please
   have a look on example named <code class="filename">pci180_parsedir_tohtml.php</code>
  </p>
  <p class="para">
   Here are the list of news and changes since previous API:
   </p><ul class="itemizedlist">
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">Always display result on standard output.</strong>
      To disable this feature, see the FAQ entry
      <a href="package.php.php-compatinfo.faq.html" class="link">package.php.php-compatinfo.faq.html</a>.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">2 news output format.</strong>
      With the new renderer system, the Web SAPI may use the <code class="literal">xml</code>
      render (until now limited to CLI). While there is two news render:
      <code class="literal">csv</code> and <code class="literal">html</code>.
      Default output format (PHP dump array) use the <code class="literal">array</code> render
      while <code class="literal">text</code> is for CLI.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">A common method to parse all data sources.</strong>
      The new method
      <a href="package.php.php-compatinfo.php-compatinfo.parsedata.html" class="link">
       <strong class="function">PHP_CompatInfo::parseData()</strong>
      </a>
      allow to parse all data source (array, string, file, directory) with the
      same interface. All others PHP_CompatInfo::parse* functions become now alias
      of this new method (to keep backward compatibility).
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">Event-driven architecture</strong>
      allow multiple renderer and extending core API of PHP_CompatInfo.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">Progress bar for long process.</strong>
      Ability to display simple text wait message or a progress bar when parsing
      directories (or lot of files) from the command line, and even on web interface.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">Constant E_RECOVERABLE_ERROR</strong>
      introduced with PHP 5.2.0, is now detected.
     </p>
    </li>
   </ul>
  
 </div>

 <div class="refsection" id="package.php.php-compatinfo.whatsnew.19x"><div class="info"><h1>Version 1.9.x</h1>
</div>

  <p class="simpara">
   With API 1.8.0, there is a limit in class (internal, and end-user defined) detection.
   This limit is also valuable for lot of constants and PHP extensions.
  </p>
  <p class="simpara">
   API 1.8.0 detected PHP4 classes constructors as simple functions, that produce wrong results,
   especially if class name is also an extension function. Example: HTTP_Request
   class from PEAR package may be also found into pecl_http extension.
  </p>
  <p class="para">
   API 1.9.0 introduce a 3 categories dictionary system:
   <em class="emphasis">class</em>, <em class="emphasis">constant</em> and <em class="emphasis">function</em>.
   </p><ul class="itemizedlist">
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">class dictionary</strong>
      $GLOBALS[&#039;_PHP_COMPATINFO_CLASS&#039;] found into <code class="filename">CompatInfo/class_array.php</code> file
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">constant dictionary</strong>
      $GLOBALS[&#039;_PHP_COMPATINFO_CONST&#039;] found into <code class="filename">CompatInfo/const_array.php</code> file
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">function dictionary</strong>
      $GLOBALS[&#039;_PHP_COMPATINFO_FUNCS&#039;] found into <code class="filename">CompatInfo/func_array.php</code> file
     </p>
    </li>
   </ul><p>
   Each dictionary can include data from 0 to N extensions depending of
   your need of detection (and/or platform running).
  </p>
  <p class="para">
    <strong class="emphasis">E</strong>xtensions
    <strong class="emphasis">S</strong>upport
    <strong class="emphasis">L</strong>ist
    (aka ESL) default built include following 30 extensions:
    </p><ul class="simplelist">
     <li class="member">bcmath</li>
     <li class="member">calendar</li>
     <li class="member">ctype</li>
     <li class="member">date</li>
     <li class="member">dom</li>
     <li class="member">filter</li>
     <li class="member">ftp</li>
     <li class="member">gd</li>
     <li class="member">gettext</li>
     <li class="member">hash</li>
     <li class="member">iconv</li>
     <li class="member">json</li>
     <li class="member">libxml</li>
     <li class="member">mbstring</li>
     <li class="member">mysql</li>
     <li class="member">mysqli</li>
     <li class="member">openssl</li>
     <li class="member">pcre</li>
     <li class="member">pgsql</li>
     <li class="member">session</li>
     <li class="member">SimpleXML</li>
     <li class="member">SPL</li>
     <li class="member">SQLite</li>
     <li class="member">standard</li>
     <li class="member">tokenizer</li>
     <li class="member">wddx</li>
     <li class="member">xml</li>
     <li class="member">xmlreader</li>
     <li class="member">xmlwriter</li>
     <li class="member">xsl</li>
    </ul>
  
  <p class="para">
   PHP4 users may extend this list by hand and construct their own with other available
   extensions provided into package distribution.
  </p>
  <p class="para">
   PHP5 users may also extend this list by hand, but there is a script named
   <code class="filename">pciconf</code> (<code class="filename">pciconf.bat</code> for Windows users)
   that can simplify the build process.
  </p>
  <p class="para">
   API 1.9.0 provided also new methods to retrieve easily information
   from array results, global or for a specific file in results list. These methods are:
   </p><ul class="itemizedlist">
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">getVersion</strong>
      Minimum (and or maximal) PHP Version
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">getClasses</strong>
      All classes (internal or end-user defined)
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">getFunctions</strong>
      All functions (internal or end-user defined)
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">getExtensions</strong>
      All extensions (internal or external)
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">getConstants</strong>
      All constants (internal or end-user defined)
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">getTokens</strong>
      All PHP5+ tokens
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">getConditions</strong>
      All (warning) code conditions
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">getIgnoredFiles</strong>
      List of files ignored during parsing data source
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">getIgnoredFunctions</strong>
      List of functions (user or PHP internal) ignored during parsing data source
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">getIgnoredExtensions</strong>
      List of PHP extensions ignored during parsing data source
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">getIgnoredConstants</strong>
      List of constants (user or PHP internal) ignored during parsing data source
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong class="emphasis">getSummary</strong>
      Returns only summary information when parsing a directory or multiple data sources
     </p>
    </li>
   </ul>
  
 </div>

</div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.php.php-compatinfo.faq.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.php.php-compatinfo.summary.question.html">About</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.php.php-compatinfo.install.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">FAQ</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">Installing PHP_CompatInfo</td>
  </tr>
 </table>
</div>
</body></html>
