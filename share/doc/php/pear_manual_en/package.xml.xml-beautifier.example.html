<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>Example</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.xml.xml-beautifier.html" title="XML_Beautifier" />
  <link rel="prev" href="package.xml.xml-beautifier.intro.html" title="Introduction" />
  <link rel="next" href="package.xml.xml-beautifier.options.html" title="Options" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">Example</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.xml.xml-beautifier.intro.html" title="Introduction">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.xml.xml-beautifier.options.html" title="Options">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.xml.xml-beautifier.example">
 
  <h1 class="refname">Example</h1>
  <div class="refnamediv">Example &ndash; Example for the usage of XML_Beautifier</div>

 

 <div class="refsection" id="package.xml.xml-beautifier.example.example1"><div class="info"><h1>Basic example</h1>
</div>
   
   <p class="para">
      Let&#039;s assume, you&#039;ve got an XML document
      that is really badly formatted:
   </p>

   <div class="xmlcode">
<pre class="xmlcode">&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;
&lt;!DOCTYPE page [
    &lt;!ENTITY foo SYSTEM &quot;foo.xml&quot;&gt;
    &lt;!ENTITY bar SYSTEM &quot;bar.xml&quot;&gt;
]&gt;
&lt;document title=&quot;Current News&quot;&gt;
&lt;meta project=&quot;none&quot; foo=&quot;bar&quot;&gt;
    &lt;keywords/&gt;&lt;description/&gt;
&lt;author&gt;Stephan Schmidt&lt;/author&gt;
&lt;getMetaNav/&gt;
&lt;/meta&gt;
&lt;page label=&quot;PHP Application Tools&quot; sublabel=&quot;Current News&quot;&gt;
&lt;?php
    for($i = 0; $i &lt; count($_GET); $i++) {
        echo    $_GET[$i].&quot;&lt;br&gt;&quot;;
    }
?&gt;
&amp;foo;&amp;bar;
&lt;intro&gt;
   &lt;!-- This Comment
has more
    than one line.
                    --&gt;
        &lt;introtitle&gt;Welcome to PHP
Application Tools &amp;amp; PEAR!&lt;/introtitle&gt;
&lt;para&gt;
        If you&#039;re new to pat, and would like
        &lt;!-- This is a comment in a single line that contains an &amp;amp; --&gt;
         to know
         
         what we do
         
         here, take a look at
         
         &lt;link url=
         &quot;/about/project.xml&quot;&gt;
         &quot;About Pat&quot;&lt;/link&gt; 
or
check out the
&lt;link url=&quot;/about/projectsOverview.xml&quot;&gt;&quot;projects overview&quot;&lt;/link&gt;. Otherwise, you probably know your way 
around
the site already &lt;smiley type=&quot;smile&quot;/&gt;
&lt;/para&gt;
                                            &lt;/intro&gt;
&lt;/page&gt;
&lt;/document&gt;</pre>

   </div>

   <p class="para">
    All you have to do is to use XML_Beautifier, pass the filename
    of the original file and the filename for the new file:
   </p>
   
   <div class="phpcode">
    <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">"XML/Beautifier.php"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$fmt&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">XML_Beautifier</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$fmt</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">formatFile</span><span style="color: #007700">(</span><span style="color: #DD0000">'originalFile.xml'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'beautifiedFile.xml'</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">PEAR</span><span style="color: #007700">::</span><span style="color: #0000BB">isError</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;exit();<br />}<br />echo&nbsp;</span><span style="color: #DD0000">"File&nbsp;beautified,&nbsp;awaiting&nbsp;orders!&lt;br&nbsp;/&gt;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
   </div>

   <p class="para">
    And voila, your document looks nice:
   </p>
   
   <div class="xmlcode">
<pre class="xmlcode">&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;
&lt;!DOCTYPE page [
    &lt;!ENTITY foo SYSTEM &quot;foo.xml&quot;&gt;
    &lt;!ENTITY bar SYSTEM &quot;bar.xml&quot;&gt;
]&gt;
&lt;document title=&quot;Current News&quot;&gt;
    &lt;meta foo=&quot;bar&quot; project=&quot;none&quot;&gt;
        &lt;keywords /&gt;
        &lt;description /&gt;
        &lt;author&gt;Stephan Schmidt&lt;/author&gt;
        &lt;getMetaNav /&gt;
    &lt;/meta&gt;
    &lt;page label=&quot;PHP Application Tools&quot; sublabel=&quot;Current News&quot;&gt;
        &lt;?php
        for($i = 0; $i &lt; count($_GET); $i++) {
                echo    $_GET[$i].&quot;&lt;br&gt;&quot;;
            }
        ?&gt;
        &amp;foo;
        &amp;bar;
        &lt;intro&gt;
            &lt;!--
                This Comment
                has more
                than one line.
            --&gt;
            &lt;introtitle&gt;Welcome to PHP Application Tools &amp;amp; PEAR!&lt;/introtitle&gt;
            &lt;para&gt;
                If you&amp;apos;re new to pat, and would like
                &lt;!-- This is a comment in a single line that contains an &amp;amp; --&gt;
                to know what we do here, take a look at
                &lt;link url=&quot;/about/project.xml&quot;&gt;&amp;quot;About Pat&amp;quot;&lt;/link&gt;
                or check out the
                &lt;link url=&quot;/about/projectsOverview.xml&quot;&gt;&amp;quot;projects overview&amp;quot;&lt;/link&gt;
                . Otherwise, you probably know your way around the site already
                &lt;smiley type=&quot;smile&quot; /&gt;
            &lt;/para&gt;
        &lt;/intro&gt;
    &lt;/page&gt;
&lt;/document&gt;</pre>

   </div>

 </div>

</div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.xml.xml-beautifier.intro.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.xml.xml-beautifier.html">XML_Beautifier</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.xml.xml-beautifier.options.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">Introduction</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">Options</td>
  </tr>
 </table>
</div>
</body></html>
