<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>-&gt;count()</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.database.db-dataobject.html" title="DB_DataObject" />
  <link rel="prev" href="package.database.db-dataobject.db-dataobject.fetch.html" title="-&gt;fetch()" />
  <link rel="next" href="package.database.db-dataobject.db-dataobject.insert.html" title="-&gt;insert()" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">-&gt;count()</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.database.db-dataobject.db-dataobject.fetch.html" title="-&gt;fetch()">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.database.db-dataobject.db-dataobject.insert.html" title="-&gt;insert()">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.database.db-dataobject.db-dataobject.count">
   
    <h1 class="refname">-&gt;count()</h1>
    <div class="refnamediv">-&gt;count() &ndash; Perform a select count() request</div>

   
   <h2 class="refsynopsisdiv">Synopsis</h2>
    <div class="funcsynopsis">

     <p><code class="funcprototype">
      int <strong class="function">$DB_DataObject-&gt;count</strong> ( 
       string|boolean $countWhat|$whereAddOnly
        , boolean $whereAddOnly

     )</code></p>
    </div>
   
   <div class="refsection" id="package.database.db-dataobject.db-dataobject.count.desc">
    <h1 class="title">Description</h1>
    <p class="para">
       It performs a select count() request on the tables key
     column and returns the number of resulting rows.
     The default condition applied to the count() is
     a combination of the object variables and whereAdd settings.  If
     the constant DB_DATAOBJECT_WHEREADD_ONLY is passed in as the first
     parameter then only the whereAdd settings will be used.


    </p>
   </div>

      <div class="refsection" id="package.database.db-dataobject.db-dataobject.count.parameter">
    <h1 class="title">Parameter</h1>
    <p class="para">
     </p><ul class="itemizedlist">

      <li class="listitem">
       <p class="para">
        <em><code class="parameter">string $countWhat</code></em> - by default count will count on the primary key,
        if you need to count something else, if you just say DISTINCT,
        it will count the primiary key prefixed with distinct, or put your own value in
        (don&#039;t forget to escape it if necessary)

       </p>
      </li>

      <li class="listitem">
       <p class="para">
        <em><code class="parameter">boolean $useWhereAddOnly</code></em> - use only the
         whereAdd conditions (by default, count will only use both the object settings and
         the whereAdd conditions)
       </p>
      </li>

     </ul>
    
   </div>


   <div class="refsection" id="package.database.db-dataobject.db-dataobject.count.return">
    <h1 class="title">Return value</h1>
    <p class="para">
     <em><code class="parameter">int|false</code></em> - number of results or false on an error
    </p>
   </div>



   <div class="refsection" id="package.database.db-dataobject.db-dataobject.count.note">
    <h1 class="title">Note</h1>

    <p class="simpara">This function can not be called
statically.</p>



  <p class="simpara"></p>
   </div>

   <div class="refsection" id="package.database.db-dataobject.db-dataobject.count.example">
    <h1 class="title">Example</h1>
    <div class="example"><div class="info"><p><strong>Various examples of using count()</strong></p></div>
     
      <div class="phpcode">
       <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">/*&nbsp;using&nbsp;property&nbsp;values&nbsp;*/<br /></span><span style="color: #0000BB">$person&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DataObjects_Person</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$person</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"test"<br /></span><span style="color: #0000BB">$total&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$person</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">count</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #DD0000">"There&nbsp;are&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$total</span><span style="color: #007700">}</span><span style="color: #DD0000">&nbsp;people&nbsp;with&nbsp;a&nbsp;name&nbsp;like&nbsp;test"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;using&nbsp;countWhat&nbsp;*/<br /></span><span style="color: #0000BB">$person&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DataObjects_Person</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$total&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$person</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #DD0000">'DISTINCT&nbsp;name'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"There&nbsp;are&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$total</span><span style="color: #007700">}</span><span style="color: #DD0000">&nbsp;names&nbsp;in&nbsp;the&nbsp;database"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;using&nbsp;countWhat&nbsp;value&nbsp;=&nbsp;DISTINCT&nbsp;*/<br /></span><span style="color: #0000BB">$person&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DataObjects_Person</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$total&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$person</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #DD0000">'DISTINCT'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"There&nbsp;are&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$total</span><span style="color: #007700">}</span><span style="color: #DD0000">&nbsp;names&nbsp;in&nbsp;the&nbsp;database"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;using&nbsp;whereOnly&nbsp;*/<br /></span><span style="color: #0000BB">$person&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DataObjects_Person</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$person</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"test"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$person</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">whereAdd</span><span style="color: #007700">(</span><span style="color: #DD0000">"name&nbsp;like&nbsp;'%test%'"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$total&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$person</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">DB_DATAOBJECT_WHEREADD_ONLY</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"There&nbsp;are&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$total</span><span style="color: #007700">}</span><span style="color: #DD0000">&nbsp;names&nbsp;in&nbsp;the&nbsp;database"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
     </div>
    </div>
    <div class="example"><div class="info"><p><strong>Resulting SQL </strong></p></div>
     
     <div class="programlisting">
       <br/>SELECT&nbsp;count(person.id)&nbsp;AS&nbsp;DATAOBJECT_NUM<br/>&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;person<br/>&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;person.name&nbsp;=&nbsp;&#039;test&#039;;<br/><br/>SELECT&nbsp;count(DISTINCT&nbsp;name)&nbsp;AS&nbsp;DATAOBJECT_NUM<br/>&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;person;<br/><br/>SELECT&nbsp;count(DISTINCT&nbsp;person.id)&nbsp;AS&nbsp;DATAOBJECT_NUM<br/>&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;person;<br/><br/>SELECT&nbsp;count(person.id)&nbsp;AS&nbsp;DATAOBJECT_NUM<br/>&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;person<br/>&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;name&nbsp;like&nbsp;&#039;%test%&#039;;
     </div>
    </div>
   </div>
  </div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.database.db-dataobject.db-dataobject.fetch.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.database.db-dataobject.html">DB_DataObject</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.database.db-dataobject.db-dataobject.insert.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">-&gt;fetch()</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">-&gt;insert()</td>
  </tr>
 </table>
</div>
</body></html>
