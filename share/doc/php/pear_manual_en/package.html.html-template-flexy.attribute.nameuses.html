<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>flexy:nameuses=&quot;variable&quot;</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.html.html-template-flexy.html" title="HTML_Template_Flexy" />
  <link rel="prev" href="package.html.html-template-flexy.attribute.flexyignore.html" title="flexy:ignore=&quot;yes&quot;" />
  <link rel="next" href="package.html.html-template-flexy.attribute.tojavascript.html" title="&lt;FLEXY:TOJAVASCRIPT JSVAR=&quot;PHPVAR&quot;&gt; ..." />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">flexy:nameuses=&quot;variable&quot;</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.html.html-template-flexy.attribute.flexyignore.html" title="flexy:ignore=&quot;yes&quot;">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.html.html-template-flexy.attribute.tojavascript.html" title="&lt;FLEXY:TOJAVASCRIPT JSVAR=&quot;PHPVAR&quot;&gt; ...">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.html.html-template-flexy.attribute.nameuses">
   
    <h1 class="refname">flexy:nameuses=&quot;variable&quot;</h1>
    <div class="refnamediv">flexy:nameuses=&quot;variable&quot; &ndash; Use a variable in the name for a flexy form element</div>

   
   <h2 class="refsynopsisdiv">Synopsis</h2>
    <div class="funcsynopsis">
    
    <p><code class="funcprototype">
     
     <strong class="function">Usage</strong> ( 
     flexy:nameuses=&quot;variable&quot; name=&quot;sometag[%s]&quot;
    )</code></p>
    </div>
   
   <div class="refsection" id="package.html.html-template-flexy.attribute.nameuses.desc">
    <h1 class="title">Description</h1>
    <p class="para">
     If you have a form with multiple input boxes (eg. group members), which are dynamically generated,
     then this attribute can be used to generate flexy elements based on sprintf&#039;ing the variable value 
     into the name attribute value.
     
    </p>
    
     </div>   
   
    
                   
   <div class="refsection" id="package.html.html-template-flexy.attribute.nameuses.example">
    <h1 class="title">Example</h1>
   
  
    <div class="example"><div class="info"><p><strong>Template with flexy:ignore</strong></p></div>
     
      <div class="htmlcode">
       <pre class="htmlcode">   

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Example of name Uses&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;form name=&quot;formtest&quot;&gt;
      &lt;span flexy:foreach=&quot;data,key,row&quot;&gt;
        {key}: &lt;input name=&quot;data%s&quot; flexy:nameuses=&quot;key&quot; type=&quot;hidden&quot; size=&quot;10&quot;&gt;&lt;br&gt;
      &lt;/span&gt;
    &lt;/form&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre>
    
     </div>
    </div>



    <div class="example"><div class="info"><p><strong>Backend Code Snippet</strong></p></div>
     
      <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data&nbsp;</span><span style="color: #007700">=&nbsp;array();<br /></span><span style="color: #0000BB">$elem&nbsp;</span><span style="color: #007700">=&nbsp;array();<br /></span><span style="color: #0000BB">$elem</span><span style="color: #007700">[</span><span style="color: #DD0000">'formtest'</span><span style="color: #007700">]&nbsp;=&nbsp;&amp;new&nbsp;</span><span style="color: #0000BB">HTML_Template_Flexy_Element</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$elem</span><span style="color: #007700">[</span><span style="color: #DD0000">'formtest'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">attributes</span><span style="color: #007700">[</span><span style="color: #DD0000">'method'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'post'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$elem</span><span style="color: #007700">[</span><span style="color: #DD0000">'formtest'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">attributes</span><span style="color: #007700">[</span><span style="color: #DD0000">'action'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'test'</span><span style="color: #007700">;&nbsp;&nbsp;<br /><br />for(</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$elem</span><span style="color: #007700">[</span><span style="color: #DD0000">"data</span><span style="color: #0000BB">$i</span><span style="color: #DD0000">"</span><span style="color: #007700">]&nbsp;=&nbsp;new&nbsp;</span><span style="color: #0000BB">HTML_Template_Flexy_Element</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$elem</span><span style="color: #007700">[</span><span style="color: #DD0000">"data</span><span style="color: #0000BB">$i</span><span style="color: #DD0000">"</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">attributes</span><span style="color: #007700">[</span><span style="color: #DD0000">'type'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'text'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$elem</span><span style="color: #007700">[</span><span style="color: #DD0000">"data</span><span style="color: #0000BB">$i</span><span style="color: #DD0000">"</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">attributes</span><span style="color: #007700">[</span><span style="color: #DD0000">'size'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">;<br /><br />}<br /></span><span style="color: #0000BB">$flexy</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">outputObject</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$elem</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

 


    <div class="example"><div class="info"><p><strong>Compiled template</strong></p></div>
     
      <div class="phpcode">
       <code><span style="color: #000000">
&lt;html&gt;<br />&nbsp;&nbsp;&lt;head&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;Example&nbsp;of&nbsp;name&nbsp;Uses&lt;/title&gt;<br />&nbsp;&nbsp;&lt;/head&gt;<br />&nbsp;&nbsp;&lt;body&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">elements</span><span style="color: #007700">[</span><span style="color: #DD0000">'formtest'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">toHtmlnoClose</span><span style="color: #007700">();</span><span style="color: #0000BB">?&gt;<br />&lt;?php&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">options</span><span style="color: #007700">[</span><span style="color: #DD0000">'strict'</span><span style="color: #007700">]&nbsp;||&nbsp;(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$t</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">)&nbsp;&nbsp;||&nbsp;</span><span style="color: #0000BB">is_object</span><span style="color: #007700">(</span><span style="color: #0000BB">$t</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">)))<br />foreach(</span><span style="color: #0000BB">$t</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">)&nbsp;{</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">htmlspecialchars</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">);</span><span style="color: #0000BB">?&gt;</span>:&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">if&nbsp;(!isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">elements</span><span style="color: #007700">[</span><span style="color: #0000BB">sprintf</span><span style="color: #007700">(</span><span style="color: #DD0000">'data%s'</span><span style="color: #007700">,</span><span style="color: #0000BB">$key</span><span style="color: #007700">)]))&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">elements</span><span style="color: #007700">[</span><span style="color: #0000BB">sprintf</span><span style="color: #007700">(</span><span style="color: #DD0000">'data%s'</span><span style="color: #007700">,</span><span style="color: #0000BB">$key</span><span style="color: #007700">)]=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">elements</span><span style="color: #007700">[</span><span style="color: #DD0000">'data%s'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">elements</span><span style="color: #007700">[</span><span style="color: #0000BB">sprintf</span><span style="color: #007700">(</span><span style="color: #DD0000">'data%s'</span><span style="color: #007700">,</span><span style="color: #0000BB">$key</span><span style="color: #007700">)]&nbsp;=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">mergeElement</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">elements</span><span style="color: #007700">[</span><span style="color: #DD0000">'data%s'</span><span style="color: #007700">],</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">elements</span><span style="color: #007700">[</span><span style="color: #0000BB">sprintf</span><span style="color: #007700">(</span><span style="color: #DD0000">'data%s'</span><span style="color: #007700">,</span><span style="color: #0000BB">$key</span><span style="color: #007700">)]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">elements</span><span style="color: #007700">[</span><span style="color: #0000BB">sprintf</span><span style="color: #007700">(</span><span style="color: #DD0000">'data%s'</span><span style="color: #007700">,</span><span style="color: #0000BB">$key</span><span style="color: #007700">)]-&gt;</span><span style="color: #0000BB">attributes</span><span style="color: #007700">[</span><span style="color: #DD0000">'name'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">sprintf</span><span style="color: #007700">(</span><span style="color: #DD0000">'data%s'</span><span style="color: #007700">,</span><span style="color: #0000BB">$key</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">elements</span><span style="color: #007700">[</span><span style="color: #0000BB">sprintf</span><span style="color: #007700">(</span><span style="color: #DD0000">'data%s'</span><span style="color: #007700">,</span><span style="color: #0000BB">$key</span><span style="color: #007700">)]-&gt;</span><span style="color: #0000BB">toHtml</span><span style="color: #007700">();</span><span style="color: #0000BB">?&gt;</span>&lt;br&gt;<br /><span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">}</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/form&gt;<br />&nbsp;&nbsp;&lt;/body&gt;<br />&lt;/html&gt;</span>
</code>    
     </div>
    </div>


    <div class="example"><div class="info"><p><strong>Resulting Output</strong></p></div>
     
      <div class="htmlcode">
       <pre class="htmlcode">         
 
 &lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;test for PEAR bug#4683&lt;/title&gt;
    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;form name=&quot;formtest&quot; method=&quot;post&quot; action=&quot;test&quot;&gt;      
      0: &lt;input name=&quot;data0&quot; type=&quot;text&quot; size=&quot;0&quot;&gt;&lt;br&gt;
      1: &lt;input name=&quot;data1&quot; type=&quot;text&quot; size=&quot;1&quot;&gt;&lt;br&gt;
      2: &lt;input name=&quot;data2&quot; type=&quot;text&quot; size=&quot;2&quot;&gt;&lt;br&gt;
      3: &lt;input name=&quot;data3&quot; type=&quot;text&quot; size=&quot;3&quot;&gt;&lt;br&gt;
      4: &lt;input name=&quot;data4&quot; type=&quot;text&quot; size=&quot;4&quot;&gt;&lt;br&gt;
      5: &lt;input name=&quot;data5&quot; type=&quot;text&quot; size=&quot;5&quot;&gt;&lt;br&gt;
      6: &lt;input name=&quot;data6&quot; type=&quot;text&quot; size=&quot;6&quot;&gt;&lt;br&gt;
      7: &lt;input name=&quot;data7&quot; type=&quot;text&quot; size=&quot;7&quot;&gt;&lt;br&gt;
      8: &lt;input name=&quot;data8&quot; type=&quot;text&quot; size=&quot;8&quot;&gt;&lt;br&gt;
      9: &lt;input name=&quot;data9&quot; type=&quot;text&quot; size=&quot;9&quot;&gt;&lt;br&gt;
    &lt;/form&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre>
    
     </div>
    </div>

   </div>   
   
    
   
  </div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.html.html-template-flexy.attribute.flexyignore.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.html.html-template-flexy.html">HTML_Template_Flexy</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.html.html-template-flexy.attribute.tojavascript.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">flexy:ignore=&quot;yes&quot;</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">&lt;FLEXY:TOJAVASCRIPT JSVAR=&quot;PHPVAR&quot;&gt; ...</td>
  </tr>
 </table>
</div>
</body></html>
