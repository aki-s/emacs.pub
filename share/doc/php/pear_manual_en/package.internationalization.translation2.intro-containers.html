<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>Containers Overview</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.internationalization.translation2.html" title="Translation2" />
  <link rel="prev" href="package.internationalization.translation2.introadmin.html" title="Admin Introduction" />
  <link rel="next" href="package.internationalization.translation2.translation2.translation2.html" title="constructor Translation2::Translation2" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">Containers Overview</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.internationalization.translation2.introadmin.html" title="Admin Introduction">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.internationalization.translation2.translation2.translation2.html" title="constructor Translation2::Translation2">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.internationalization.translation2.intro-containers">
   
    <h1 class="refname">Containers Overview</h1>
    <div class="refnamediv">Containers Overview &ndash; Overview of the different <strong class="classname">Translation2</strong> containers</div>

   
  <div class="refsection" id="package.internationalization.translation2.intro-containers.summary"><div class="info"><h1>Summary</h1>
</div>
   
   <p class="para">
    <strong class="classname">Translation2</strong> supports different storage drivers;
    this page is meant to highlight the differences among them.
   </p>
  </div>

  <div class="refsection" id="package.internationalization.translation2.intro-containers.db"><div class="info"><h1>
    <strong class="classname">PEAR::DB</strong>, <strong class="classname">PEAR::MDB</strong>,
    <strong class="classname">PEAR::MDB2</strong>
   </h1>
</div>
   
    <p class="para">
    <strong class="classname">Translation2</strong> can work with any of these database abstraction
    layers, just pass the appropriate connection options.
    These three containers are absolutely identical in what they do and in how they work
    (wrt <strong class="classname">Translation2</strong>, of course).
     </p><div class="phpcode">
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;connection&nbsp;options<br /></span><span style="color: #0000BB">$dbinfo&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'hostspec'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'host'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'database'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'dbname'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'phptype'&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'mysql'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'username'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'user'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'password'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pwd'<br /></span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//select&nbsp;the&nbsp;preferred&nbsp;driver<br /></span><span style="color: #0000BB">$driver&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'MDB2'</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//switch&nbsp;to&nbsp;'DB'&nbsp;or&nbsp;'MDB'&nbsp;as&nbsp;needed<br /><br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">'Translation2.php'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$tr&nbsp;</span><span style="color: #007700">=&amp;&nbsp;</span><span style="color: #0000BB">Translation2</span><span style="color: #007700">::</span><span style="color: #0000BB">factory</span><span style="color: #007700">(</span><span style="color: #0000BB">$driver</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$dbinfo</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$params</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
     </div><p>
     If your table definition is different from the default one, you need to
     specify it in the
     <a href="package.internationalization.translation2.intro.html#package.internationalization.translation2.intro.example1" class="link"><em><code class="parameter">$params</code></em></a>
     array.
    </p>
   </div>

   <div class="refsection" id="package.internationalization.translation2.intro-containers.dataobjectsimple"><div class="info"><h1><strong class="classname">DB_DataObject</strong></h1>
</div>
    
    <p class="para">
     The <em><code class="parameter">dataobjectsimple</code></em> container is the natural choice
     for those using
     <a href="package.database.db-dataobject.html" class="link"><strong class="classname">DB_DataObject</strong></a>,
     as it is tightly tied to the DAO. This storage driver can use all databases supported by
     the PEAR::<a href="package.database.html" class="link"><strong class="classname">DB</strong></a>
     abstraction layer to fetch data.
    </p>

    <p class="para">
     For this container, you can&#039;t specify a custom table definition,
     since this feature is not supported yet. You must create a table
     with the following structure:
     </p><div class="programlisting">
<br/>//&nbsp;meta&nbsp;data&nbsp;etc.&nbsp;not&nbsp;supported<br/>table:&nbsp;translations<br/>id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;not&nbsp;null&nbsp;primary&nbsp;key&nbsp;autoincrement..<br/>string_id&nbsp;&nbsp;&nbsp;//&nbsp;translation&nbsp;id<br/>page&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;indexed&nbsp;varchar&nbsp;eg.&nbsp;(mytemplate.html)<br/>lang&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;index&nbsp;varchar&nbsp;(eg.&nbsp;en|fr|.....)<br/>translation&nbsp;//&nbsp;the&nbsp;translated&nbsp;value&nbsp;in&nbsp;language&nbsp;lang.
     </div><p>

     Here&#039;s the MySQL query that can be used to create the table:
     </p><div class="programlisting">
<br/>create&nbsp;table&nbsp;translations&nbsp;(<br/>&nbsp;&nbsp;id&nbsp;int(11)&nbsp;auto_increment&nbsp;not&nbsp;null&nbsp;primary&nbsp;key,<br/>&nbsp;&nbsp;string_id&nbsp;int(11),&nbsp;page&nbsp;varchar(128),<br/>&nbsp;&nbsp;lang&nbsp;varchar(10),&nbsp;translation&nbsp;text<br/>);<br/>alter&nbsp;table&nbsp;translations&nbsp;add&nbsp;index&nbsp;page&nbsp;(page);<br/>alter&nbsp;table&nbsp;translations&nbsp;add&nbsp;index&nbsp;lang&nbsp;(lang);<br/>alter&nbsp;table&nbsp;translations&nbsp;add&nbsp;index&nbsp;string_id&nbsp;(string_id);
     </div><p>
     then just run the dataobjects <em class="emphasis">createtables</em> script.
    </p>
   </div>

   <div class="refsection" id="package.internationalization.translation2.intro-containers.gettext"><div class="info"><h1>Gettext</h1>
</div>
    
    <p class="para">
     This is a wrapper around the gettext base functions, and thanks to
     <strong class="classname">File_Gettext</strong> you can retrieve an entire domain
     or write to an existing/new domain without calling the command line
     compiler utility.
    </p>

    <p class="para">
     The gettext container requires
     <a href="http://pear.php.net/package/File_Gettext/" class="link external">PEAR::File_Gettext</a>
     and <a href="http://pear.php.net/package/I18Nv2/" class="link external">PEAR::I18Nv2</a>
     0.9.1 or newer, make sure you have them installed.
    </p>
    
    <p class="para">
     The construction parameters are a bit different from the db ones.
     To make things as simple as possible, the domain definitions and the
     available language list are read from two INI files.
    </p>
    
    <p class="para">
     langs.ini example:
     </p><div class="programlisting">
<br/><br/>;&nbsp;If&nbsp;one&nbsp;does&nbsp;not&nbsp;specify&nbsp;the&nbsp;source&nbsp;encoding,&nbsp;ISO-8859-1&nbsp;is&nbsp;assumed<br/>;&nbsp;Beware&nbsp;that&nbsp;gettext&nbsp;can&nbsp;choke&nbsp;on&nbsp;bad&nbsp;encodings!<br/><br/>[en]<br/>name&nbsp;=&nbsp;English<br/>encoding&nbsp;=&nbsp;iso-8859-1<br/><br/>[de]<br/>name&nbsp;=&nbsp;Deutsch<br/>encoding&nbsp;=&nbsp;iso-8859-1<br/><br/>[it]<br/>name&nbsp;=&nbsp;italiano<br/>encoding&nbsp;=&nbsp;iso-8859-1
     </div><p>

     domains.ini example:
     </p><div class="programlisting">
<br/>messages&nbsp;=&nbsp;/path/to/locale<br/>2nddomain&nbsp;=&nbsp;/path/to/locale<br/>3rddomain&nbsp;=&nbsp;/path/to/locale
     </div>

    
    <p class="para">
     Sample code to use <strong class="classname">Translation2</strong> with the gettext container:
     </p><div class="phpcode">
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">'Translation2.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$params&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'prefetch'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'langs_avail_file'&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'path/to/langs.ini'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'domains_path_file'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'path/to/domains.ini'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'default_domain'&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'messages'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//'file_type'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;'po',<br /></span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Better&nbsp;set&nbsp;prefetch&nbsp;to&nbsp;FALSE&nbsp;for&nbsp;the&nbsp;gettext&nbsp;container,&nbsp;so&nbsp;we&nbsp;don't&nbsp;need&nbsp;<br />//&nbsp;to&nbsp;read&nbsp;in&nbsp;the&nbsp;whole&nbsp;MO&nbsp;file&nbsp;with&nbsp;File_Gettext&nbsp;on&nbsp;every&nbsp;request.<br /></span><span style="color: #0000BB">$tr&nbsp;</span><span style="color: #007700">=&amp;&nbsp;</span><span style="color: #0000BB">Translation2</span><span style="color: #007700">::</span><span style="color: #0000BB">factory</span><span style="color: #007700">(</span><span style="color: #DD0000">'gettext'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$params</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$tr</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setLang</span><span style="color: #007700">(</span><span style="color: #DD0000">'en'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Note&nbsp;that,&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;translation&nbsp;available&nbsp;for&nbsp;a&nbsp;string,&nbsp;the&nbsp;gettext&nbsp;<br />//&nbsp;container&nbsp;will&nbsp;return&nbsp;the&nbsp;string&nbsp;ID!&nbsp;&nbsp;This&nbsp;behaviour&nbsp;emulates&nbsp;native&nbsp;gettext.<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$tr</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #DD0000">'mystring'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$tr</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getPage</span><span style="color: #007700">(</span><span style="color: #DD0000">'3rddomain'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
     </div>
    

   </div>
   
   <div class="refsection" id="package.internationalization.translation2.intro-containers.xml"><div class="info"><h1>XML</h1>
</div>
   
    <p class="para">
    The XML container requires <a href="http://pear.php.net/package/XML_Serializer/" class="link external">
    PEAR::XML_Serializer</a> 0.13.0 or newer, make sure you have it installed.
     </p><div class="phpcode">
<code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$driver&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'XML'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'filename'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'i18n.xml'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'save_on_shutdown'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">,&nbsp;</span><span style="color: #FF8000">//set&nbsp;to&nbsp;FALSE&nbsp;to&nbsp;save&nbsp;in&nbsp;real&nbsp;time<br /></span><span style="color: #007700">);<br />require_once&nbsp;</span><span style="color: #DD0000">'Translation2.php'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$tr&nbsp;</span><span style="color: #007700">=&amp;&nbsp;</span><span style="color: #0000BB">Translation2</span><span style="color: #007700">::</span><span style="color: #0000BB">factory</span><span style="color: #007700">(</span><span style="color: #0000BB">$driver</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$options</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
     </div>
    
   </div>

  </div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.internationalization.translation2.introadmin.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.internationalization.translation2.html">Translation2</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.internationalization.translation2.translation2.translation2.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">Admin Introduction</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">constructor Translation2::Translation2</td>
  </tr>
 </table>
</div>
</body></html>
