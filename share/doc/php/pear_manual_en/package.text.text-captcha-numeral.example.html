<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>Example</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.text.text-captcha-numeral.html" title="Text_CAPTCHA_Numeral" />
  <link rel="prev" href="package.text.text-captcha-numeral.intro.html" title="Introduction" />
  <link rel="next" href="package.text.text-captcha-numeral.information.html" title="Information about the Text_CAPTCHA_Numeral and inner workings" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">Example</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.text.text-captcha-numeral.intro.html" title="Introduction">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.text.text-captcha-numeral.information.html" title="Information about the Text_CAPTCHA_Numeral and inner workings">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="section" id="package.text.text-captcha-numeral.example"><div class="info"><h1>Example</h1>
</div>
  

  <p class="para">
    The following example implements the standard use of a CAPTCHA:
    Submitted form data is only evaluated when a CAPTCHA has been
    solved correctly. 
  </p>

  <div class="example" id="package.text.text-captcha-numeral.example.create"><div class="info"><p><strong>Creating a Numeral CAPTCHA</strong></p></div>
    

    <div class="example-contents"><p>
    This example is just to show you how to generate a simple mathematic
    operation with Text_CAPTCHA_Numeral.
    </p></div>

    <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">'Text/CAPTCHA/Numeral.php'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$num&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Text_CAPTCHA_Numeral</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$operation&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$num</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getOperation</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;This&nbsp;will&nbsp;print&nbsp;the&nbsp;mathematical&nbsp;operation<br />&nbsp;*&nbsp;that&nbsp;has&nbsp;been&nbsp;generated&nbsp;by&nbsp;the&nbsp;package.<br />&nbsp;*/<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">$operation</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

  <div class="example" id="package.text.text-captcha-numeral.example.secure"><div class="info"><p><strong>Securing a form with a Numeral CAPTCHA</strong></p></div>
    

    <div class="example-contents"><p>
     This example will show you how to secure a form using the
     numeral captcha. It generates an operation and stores its
     result into a session variable.
    </p></div>

    <div class="phpcode">
      <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">'Text/CAPTCHA/Numeral.php'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$numcap&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Text_CAPTCHA_Numeral</span><span style="color: #007700">;<br /><br />if&nbsp;(isset(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'captcha'</span><span style="color: #007700">])&nbsp;&amp;&amp;&nbsp;isset(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'answer'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'captcha'</span><span style="color: #007700">]&nbsp;==&nbsp;</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'answer'</span><span style="color: #007700">])&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$errors</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #DD0000">'Ok...&nbsp;You&nbsp;might&nbsp;be&nbsp;human...'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$errors</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #DD0000">'You&nbsp;are&nbsp;dumb&nbsp;or&nbsp;not&nbsp;human'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!empty(</span><span style="color: #0000BB">$errors</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$errors&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$error</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"&lt;h1&gt;&lt;font&nbsp;color='red'&gt;</span><span style="color: #0000BB">$error</span><span style="color: #DD0000">&lt;/font&gt;&lt;/h1&gt;&lt;br&nbsp;/&gt;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">'<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;form&nbsp;name="capter"&nbsp;action="index.php?page=liveExample"&nbsp;method="post"&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;What&nbsp;is&nbsp;this&nbsp;result&nbsp;pilgrim?:&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$numcap</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getOperation</span><span style="color: #007700">().</span><span style="color: #DD0000">'&lt;/th&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;&lt;input&nbsp;type="text"&nbsp;value=""&nbsp;name="captcha"&nbsp;/&gt;&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;th/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;&lt;input&nbsp;type="submit"&nbsp;value="Let&nbsp;me&nbsp;prove&nbsp;you&nbsp;that&nbsp;I&nbsp;am&nbsp;human!"&nbsp;/&gt;&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/form&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'answer'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$numcap</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getAnswer</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
    </div>
  </div>
</div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.text.text-captcha-numeral.intro.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.text.text-captcha-numeral.html">Text_CAPTCHA_Numeral</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.text.text-captcha-numeral.information.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">Introduction</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">Information about the Text_CAPTCHA_Numeral and inner workings</td>
  </tr>
 </table>
</div>
</body></html>
