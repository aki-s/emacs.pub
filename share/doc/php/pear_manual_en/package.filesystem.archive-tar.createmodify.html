<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>Archive_Tar::createModify()</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.filesystem.archive-tar.html" title="Archive-Tar" />
  <link rel="prev" href="package.filesystem.archive-tar.create.html" title="Archive_Tar::create()" />
  <link rel="next" href="package.filesystem.archive-tar.extract.html" title="Archive_Tar::extract()" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">Archive_Tar::createModify()</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.filesystem.archive-tar.create.html" title="Archive_Tar::create()">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.filesystem.archive-tar.extract.html" title="Archive_Tar::extract()">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.filesystem.archive-tar.createmodify">
   
    <h1 class="refname">Archive_Tar::createModify()</h1>
    <div class="refnamediv">Archive_Tar::createModify() &ndash; create a new archive</div>

   
   <h2 class="refsynopsisdiv">Synopsis</h2>
    <div class="funcsynopsis">
     <div class="programlisting">
      require_once &#039;Archive/Tar.php&#039;;
     </div>     
    <p><code class="funcprototype">
     boolean <strong class="function">createModify</strong> ( 
     array $filelist
      , string
      $add_dir
      , string
      $remove_dir = &#039;&#039;
    )</code></p>
    </div>
   
   <div class="refsection" id="package.filesystem.archive-tar.createmodify.desc">
    <h1 class="title">Description</h1>
   <p class="para">
    This method creates the archive file and adds the listed files or
    directories.
   </p>
   <p class="para">
    If the file already exists and is writable, it is replaced
    by the new tar. It is a &#039;create&#039; and not a &#039;add&#039;. If the file exists
    and is read-only or is a directory, it is not replaced.
   </p>
   </div>   
   <div class="refsection" id="package.filesystem.archive-tar.createmodify.parameter">
    <h1 class="title">Parameter</h1>
    <p class="para">
    </p><ul class="itemizedlist">
     <li class="listitem">
      <p class="para">
       <em><code class="parameter">mixed $filelist</code></em> - 
       an array of filenames and directory
       names, or a single string with names separated by a single blank space.
      </p>
     </li>
     <li class="listitem">
      <p class="para">
       <em><code class="parameter">string $add_dir</code></em> - contains a path to be
       added to the memorized path of each element in the list.
      </p>
     </li>
     <li class="listitem">
      <p class="para">
       <em><code class="parameter">string $remove_dir</code></em> - contains a path to be
       removed from the memorized path of each element in the list, when
       relevant. Default is an empty string.
      </p>
     </li>
    </ul>
    
   </div>      
   <div class="refsection" id="package.filesystem.archive-tar.createmodify.return">
    <h1 class="title">Return value</h1>
    <p class="para">
     <em><code class="parameter">boolean</code></em> - Returns <strong class="constant">TRUE</strong> on success, <strong class="constant">FALSE</strong> on failure.
    </p>
   </div>         
   <div class="refsection" id="package.filesystem.archive-tar.createmodify.throws">
    <h1 class="title">Throws</h1>
    <p class="para">
     </p><table class="doctable table"><caption>Possible PEAR_Error values</caption>
            
      
       <thead>
        <tr>
         <th>Error code</th>
         <th>Error message</th>        
         <th>Reason</th>        
         <th>Solution</th>        
        </tr>

       </thead>

       <tbody class="tbody">
        <tr>
         <td><strong class="constant">NULL</strong></td>
         <td>"<span class="quote">Invalid file list</span>"</td>
         <td>The argument for the function is not
          correctly formatted or build.
         </td>
         <td>
          Check for typing mistakes in the argument
         </td>
        </tr>
       
       </tbody>
      
     </table>

        
    <p class="para">
    </p>
   </div>            
   <div class="refsection" id="package.filesystem.archive-tar.createmodify.note">
    <h1 class="title">Note</h1>
    <p class="simpara">This function can not be called
statically.</p>
   </div>            
   <div class="refsection" id="package.filesystem.archive-tar.createmodify.example">
    <h1 class="title">Example</h1>
   <div class="example"><div class="info"><p><strong>Create a new compressed archive in a new directory</strong></p></div>
    
    <div class="phpcode">
     <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$tar_object&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Archive_Tar</span><span style="color: #007700">(</span><span style="color: #DD0000">"tarname.tgz"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$tar_object</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setErrorHandling</span><span style="color: #007700">(</span><span style="color: #0000BB">PEAR_ERROR_PRINT</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$v_list</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]=</span><span style="color: #DD0000">"dev/file.txt"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$v_list</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]=</span><span style="color: #DD0000">"dev/data/"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$v_list</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]=</span><span style="color: #DD0000">"log/file.log"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$tar_object</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">createModify</span><span style="color: #007700">(</span><span style="color: #0000BB">$v_list</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"install"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"dev"</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;files&nbsp;are&nbsp;stored&nbsp;in&nbsp;the&nbsp;archive&nbsp;as&nbsp;:<br />//&nbsp;&nbsp;&nbsp;install/file.txt<br />//&nbsp;&nbsp;&nbsp;install/data<br />//&nbsp;&nbsp;&nbsp;install/data/file1.txt<br />//&nbsp;&nbsp;&nbsp;install/data/...&nbsp;all&nbsp;the&nbsp;files&nbsp;and&nbsp;sub-dirs&nbsp;of&nbsp;data/<br />//&nbsp;&nbsp;&nbsp;install/log/file.log<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
          </div>
   </div>
   <div class="example"><div class="info"><p><strong>
     Create a new compressed archive in a new directory 
     (especially for Windows)
    </strong></p></div>
    
    <div class="phpcode">
     <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$tar_object&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Archive_Tar</span><span style="color: #007700">(</span><span style="color: #DD0000">"tarname.tgz"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$tar_object</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setErrorHandling</span><span style="color: #007700">(</span><span style="color: #0000BB">PEAR_ERROR_PRINT</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$v_list</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]=</span><span style="color: #DD0000">"c:\\dev\\file.txt"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$v_list</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]=</span><span style="color: #DD0000">"c:\\dev\\data\\"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$v_list</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]=</span><span style="color: #DD0000">"c:\\log\\file.log"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$tar_object</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">createModify</span><span style="color: #007700">(</span><span style="color: #0000BB">$v_list</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"install/temp"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"c:\\dev"</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;files&nbsp;are&nbsp;stored&nbsp;in&nbsp;the&nbsp;archive&nbsp;as&nbsp;:<br />//&nbsp;&nbsp;&nbsp;install/temp/file.txt<br />//&nbsp;&nbsp;&nbsp;install/temp/data<br />//&nbsp;&nbsp;&nbsp;install/temp/data/file1.txt<br />//&nbsp;&nbsp;&nbsp;install/temp/data/...&nbsp;all&nbsp;the&nbsp;files&nbsp;and&nbsp;sub-dirs&nbsp;of&nbsp;data/<br />//&nbsp;&nbsp;&nbsp;install/temp/log/file.log<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
          </div>
   </div>
   </div>               
  </div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.filesystem.archive-tar.create.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.filesystem.archive-tar.html">Archive-Tar</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.filesystem.archive-tar.extract.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">Archive_Tar::create()</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">Archive_Tar::extract()</td>
  </tr>
 </table>
</div>
</body></html>
