<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>&lt;FLEXY:TOJAVASCRIPT JSVAR=&quot;PHPVAR&quot;&gt; ...</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.html.html-template-flexy.html" title="HTML_Template_Flexy" />
  <link rel="prev" href="package.html.html-template-flexy.attribute.nameuses.html" title="flexy:nameuses=&quot;variable&quot;" />
  <link rel="next" href="package.html.html-template-it.html" title="HTML_Template_IT" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">&lt;FLEXY:TOJAVASCRIPT JSVAR=&quot;PHPVAR&quot;&gt; ...</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.html.html-template-flexy.attribute.nameuses.html" title="flexy:nameuses=&quot;variable&quot;">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.html.html-template-it.html" title="HTML_Template_IT">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.html.html-template-flexy.attribute.tojavascript">
   
    <h1 class="refname">&lt;FLEXY:TOJAVASCRIPT JSVAR=&quot;PHPVAR&quot;&gt; ...</h1>
    <div class="refnamediv">&lt;FLEXY:TOJAVASCRIPT JSVAR=&quot;PHPVAR&quot;&gt; ... &ndash; Provides a simple way to pass data from PHP to Javascript</div>

   
   <h2 class="refsynopsisdiv">Synopsis</h2>
    <div class="funcsynopsis">
    
    <p><code class="funcprototype">
     
     <strong class="function">Usage</strong> ( 
     &lt;flexy:tojavascript JSVAR=&quot;PHPVAR&quot; ...&gt;
    
    )</code></p>
    </div>
   
   <div class="refsection" id="package.html.html-template-flexy.attribute.tojavascript.desc">
    <h1 class="title">Description</h1>
    <p class="para">
      To reduce the &quot;WTF&quot; effect of magically having javascript code that looks like flexy tags completely
      broken by the template engine,
      Flexy deliberately turns the parser OFF when dealing with script contents 
      (see Configuration Options for details of PHP in script tags)
    </p>
    <p class="para">
      As a result of this, it is not possible to put any flexy tags within blocks of javascript code. 
      the flexy:tojavascript tag solves this in a way that enables javascript to be tested seperatly from 
      the application, and also serves to encourage better coding practices. (eg. seperating your code with distinct
      lines of communication)
    </p>
    <p class="para">
      This feature depends on PEAR&#039;s HTML_Javascript Library
    </p>
   </div>   
                   
   <div class="refsection" id="package.html.html-template-flexy.attribute.tojavascript.example">
  <h1 class="title">Example</h1>
    <div class="example"><div class="info"><p><strong>A template with javascript and flexy:tojavasscript</strong></p></div>
     
      <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">html</span><span style="color: #007700">&gt;&lt;</span><span style="color: #0000BB">head</span><span style="color: #007700">&gt;<br />&lt;</span><span style="color: #0000BB">title</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">Example</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">title</span><span style="color: #007700">&gt;<br /><br /><br />&lt;</span><span style="color: #0000BB">flexy</span><span style="color: #007700">:</span><span style="color: #0000BB">toJavascript<br />&nbsp;&nbsp;&nbsp;&nbsp;flexy</span><span style="color: #007700">:</span><span style="color: #0000BB">prefix</span><span style="color: #007700">=</span><span style="color: #DD0000">"test_abc_"<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">abcg</span><span style="color: #007700">=</span><span style="color: #DD0000">"xyz"<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">abcd</span><span style="color: #007700">=</span><span style="color: #DD0000">"xyz"<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">srcXxx</span><span style="color: #007700">=</span><span style="color: #DD0000">"xyz"<br /></span><span style="color: #007700">&gt;<br />&lt;!--&nbsp;<br /><br /></span><span style="color: #0000BB">We&nbsp;can&nbsp;</span><span style="color: #007700">use&nbsp;</span><span style="color: #0000BB">the&nbsp;inner&nbsp;contents&nbsp;</span><span style="color: #007700">for&nbsp;</span><span style="color: #0000BB">testing&nbsp;the&nbsp;template&nbsp;in&nbsp;a&nbsp;browser</span><span style="color: #007700">.<br /></span><span style="color: #0000BB">The&nbsp;template&nbsp;will&nbsp;remove&nbsp;these&nbsp;contents&nbsp;when&nbsp;it&nbsp;is&nbsp;compiled</span><span style="color: #007700">.<br />--&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span style="color: #0000BB">script&nbsp;type</span><span style="color: #007700">=</span><span style="color: #DD0000">"text/javascript"</span><span style="color: #007700">&gt;<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</span><span style="color: #0000BB">test_abc_abcg&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'123'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</span><span style="color: #0000BB">test_abc_abcd&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'123'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;</span><span style="color: #0000BB">test_abc_srcXxx&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'123'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">&lt;/script&gt;<br /></span><br />&lt;/flexy:toJavascript&gt;<br /><br /><br /><br /><br />&lt;flexy:toJavascript&nbsp;abcg="xyz"&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;script&nbsp;type="text/javascript"&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;xyz&nbsp;=&nbsp;'123';<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;/script&gt;<br />&lt;/flexy:toJavascript&gt;<br /><br /><br />&lt;body&gt;<br />&lt;p&gt;Example&nbsp;of&nbsp;flexy:toJavascript&nbsp;with&nbsp;default&nbsp;values.&lt;/p&gt;<br />&lt;/body&gt;&lt;/html&gt;<br />?&gt;</span>
</code>    
     </div>
    </div>
  

 <div class="example"><div class="info"><p><strong>compiled template</strong></p></div>
     
      <div class="phpcode">
       <code><span style="color: #000000">
&lt;html&gt;&lt;head&gt;<br />&lt;title&gt;Example&lt;/title&gt;<br /><br /><br /><br /><span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">'HTML/Javascript/Convert.php'</span><span style="color: #007700">;</span><span style="color: #0000BB">?&gt;<br /></span>&lt;script&nbsp;type='text/javascript'&gt;<br /><span style="color: #0000BB">&lt;?php&nbsp;$__tmp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">HTML_Javascript_Convert</span><span style="color: #007700">::</span><span style="color: #0000BB">convertVar</span><span style="color: #007700">(</span><span style="color: #0000BB">$t</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">xyz</span><span style="color: #007700">,</span><span style="color: #DD0000">'test_abc_abcg'</span><span style="color: #007700">,</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;(</span><span style="color: #0000BB">is_a</span><span style="color: #007700">(</span><span style="color: #0000BB">$__tmp</span><span style="color: #007700">,</span><span style="color: #DD0000">"PEAR_Error"</span><span style="color: #007700">))&nbsp;?&nbsp;(</span><span style="color: #DD0000">"&lt;pre&gt;"</span><span style="color: #007700">.</span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$__tmp</span><span style="color: #007700">,</span><span style="color: #0000BB">true</span><span style="color: #007700">).</span><span style="color: #DD0000">"&lt;/pre&gt;"</span><span style="color: #007700">)&nbsp;:&nbsp;</span><span style="color: #0000BB">$__tmp</span><span style="color: #007700">;</span><span style="color: #0000BB">?&gt;<br />&lt;?php&nbsp;$__tmp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">HTML_Javascript_Convert</span><span style="color: #007700">::</span><span style="color: #0000BB">convertVar</span><span style="color: #007700">(</span><span style="color: #0000BB">$t</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">xyz</span><span style="color: #007700">,</span><span style="color: #DD0000">'test_abc_abcd'</span><span style="color: #007700">,</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;(</span><span style="color: #0000BB">is_a</span><span style="color: #007700">(</span><span style="color: #0000BB">$__tmp</span><span style="color: #007700">,</span><span style="color: #DD0000">"PEAR_Error"</span><span style="color: #007700">))&nbsp;?&nbsp;(</span><span style="color: #DD0000">"&lt;pre&gt;"</span><span style="color: #007700">.</span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$__tmp</span><span style="color: #007700">,</span><span style="color: #0000BB">true</span><span style="color: #007700">).</span><span style="color: #DD0000">"&lt;/pre&gt;"</span><span style="color: #007700">)&nbsp;:&nbsp;</span><span style="color: #0000BB">$__tmp</span><span style="color: #007700">;</span><span style="color: #0000BB">?&gt;<br />&lt;?php&nbsp;$__tmp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">HTML_Javascript_Convert</span><span style="color: #007700">::</span><span style="color: #0000BB">convertVar</span><span style="color: #007700">(</span><span style="color: #0000BB">$t</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">xyz</span><span style="color: #007700">,</span><span style="color: #DD0000">'test_abc_srcXxx'</span><span style="color: #007700">,</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;(</span><span style="color: #0000BB">is_a</span><span style="color: #007700">(</span><span style="color: #0000BB">$__tmp</span><span style="color: #007700">,</span><span style="color: #DD0000">"PEAR_Error"</span><span style="color: #007700">))&nbsp;?&nbsp;(</span><span style="color: #DD0000">"&lt;pre&gt;"</span><span style="color: #007700">.</span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$__tmp</span><span style="color: #007700">,</span><span style="color: #0000BB">true</span><span style="color: #007700">).</span><span style="color: #DD0000">"&lt;/pre&gt;"</span><span style="color: #007700">)&nbsp;:&nbsp;</span><span style="color: #0000BB">$__tmp</span><span style="color: #007700">;</span><span style="color: #0000BB">?&gt;<br /></span>&lt;/script&gt;<br /><br />?php&nbsp;require_once&nbsp;'HTML/Javascript/Convert.php';?&gt;<br />&lt;script&nbsp;type='text/javascript'&gt;<br /><span style="color: #0000BB">&lt;?php&nbsp;$__tmp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">HTML_Javascript_Convert</span><span style="color: #007700">::</span><span style="color: #0000BB">convertVar</span><span style="color: #007700">(</span><span style="color: #0000BB">$t</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">xyz</span><span style="color: #007700">,</span><span style="color: #DD0000">'abcg'</span><span style="color: #007700">,</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;(</span><span style="color: #0000BB">is_a</span><span style="color: #007700">(</span><span style="color: #0000BB">$__tmp</span><span style="color: #007700">,</span><span style="color: #DD0000">"PEAR_Error"</span><span style="color: #007700">))&nbsp;?&nbsp;(</span><span style="color: #DD0000">"&lt;pre&gt;"</span><span style="color: #007700">.</span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$__tmp</span><span style="color: #007700">,</span><span style="color: #0000BB">true</span><span style="color: #007700">).</span><span style="color: #DD0000">"&lt;/pre&gt;"</span><span style="color: #007700">)&nbsp;:&nbsp;</span><span style="color: #0000BB">$__tmp</span><span style="color: #007700">;</span><span style="color: #0000BB">?&gt;<br /></span>&lt;/script&gt;<br /><br /><br /><br /><br /><br />&lt;body&gt;<br />&lt;p&gt;Example&nbsp;of&nbsp;flexy:toJavascript&nbsp;with&nbsp;default&nbsp;values.&lt;/p&gt;<br />&lt;/body&gt;&lt;/html&gt;</span>
</code>    
     </div>
    </div>
  
 <div class="example"><div class="info"><p><strong>output from the Template (with no values set)</strong></p></div>
     
      <div class="htmlcode">
         <pre class="htmlcode">         
&lt;html&gt;&lt;head&gt;
&lt;title&gt;Example&lt;/title&gt;


&lt;script type=&#039;text/javascript&#039;&gt;
test_abc_abcg = null;
test_abc_abcd = null;
test_abc_srcXxx = null;
&lt;/script&gt;




&lt;script type=&#039;text/javascript&#039;&gt;
abcg = null;
&lt;/script&gt;





&lt;body&gt;
&lt;p&gt;Example of flexy:toJavascript with default values.&lt;/p&gt;
&lt;/body&gt;&lt;/html&gt;</pre>
  
     </div>
    </div>

 </div>  
   
   
    
   
  </div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.html.html-template-flexy.attribute.nameuses.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.html.html-template-flexy.html">HTML_Template_Flexy</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.html.html-template-it.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">flexy:nameuses=&quot;variable&quot;</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">HTML_Template_IT</td>
  </tr>
 </table>
</div>
</body></html>
