<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <title>Configuration Options</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
  <meta name="generator" content="PhD" />

  <link rel="start" href="index.html" title="PEAR Manual" />
  <link rel="up" href="package.html.html-template-flexy.html" title="HTML_Template_Flexy" />
  <link rel="prev" href="package.html.html-template-flexy.intro.html" title="Introduction" />
  <link rel="next" href="package.html.html-template-flexy.html-template-flexy.html-template-flexy.html" title="new HTML_Template_Flexy" />
 </head>
 <body>
<div class="navheader">
 <table style="width: 100%;">
  <tr><th colspan="3" style="text-align: center">Configuration Options</th></tr>
  <tr>
   <td style="width: 40%; text-align: left;"><a href="package.html.html-template-flexy.intro.html" title="Introduction">Prev</a></td>
   <td style="width: 20%;"></td>
   <td style="width: 40%; text-align: right;"><a href="package.html.html-template-flexy.html-template-flexy.html-template-flexy.html" title="new HTML_Template_Flexy">Next</a></td>
  </tr>
 </table>
 <hr/>
</div>
<div id="body">
<div class="refentry" id="package.html.html-template-flexy.configuration">
    
      <h1 class="refname">Configuration Options</h1>
      <div class="refnamediv">Configuration Options &ndash; 
       Setting the defaults for HTML_Template_Flexy
      </div>

    
    <div class="refsection"><div class="info"><h1>Configuration</h1>
</div>
      
      <p class="para">
      HTML_Template_Flexy can either be configured globally or on each instance, using an associated array.  
      The easiest way to configure HTML_Template_Flexy  is to use ini files (although you may also like to consider
      the PEAR::Config class, or your own configuration system)
      </p>
      
     <div class="example"><div class="info"><p><strong> This is a typical configuration file for <strong class="classname">HTML_Template_Flexy</strong></strong></p></div>
        
        <div class="inicode"><pre class="inicode">[HTML_Template_Flexy]

templateDir = /home/me/Projects/myapplication/templates
compileDir =  /home/me/Projects/myapplication/compiled_templates
forceCompile = 0
debug = 0
locale = en
compiler = Standard</pre>
</div>
      </div>
      <p class="para">
        To use this ini file with HTML_Template_Flexy, (and Possibly any other classes that use options like this)
      </p>
      <div class="example"><div class="info"><p><strong> Setting the default options</strong></p></div>
        
        <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$config&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">parse_ini_file</span><span style="color: #007700">(</span><span style="color: #DD0000">'example.ini'</span><span style="color: #007700">,</span><span style="color: #0000BB">TRUE</span><span style="color: #007700">);<br />foreach(</span><span style="color: #0000BB">$config&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$values</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;&amp;</span><span style="color: #0000BB">PEAR</span><span style="color: #007700">::</span><span style="color: #0000BB">getStaticProperty</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">,</span><span style="color: #DD0000">'options'</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$options&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$values</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
        </div>
      </div>
      <p class="para">
        Alternatively you can set (or override) the configuration when you instantate the class
      </p>
      <div class="example"><div class="info"><p><strong> Setting the default options</strong></p></div>
        
        <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;$options&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'templateDir'&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'/home/me/Projects/myapplication/templates'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'compileDir'&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'/home/me/Projects/myapplication/compiled_templates'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'forceCompile'&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'debug'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'locale'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'en'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'compiler'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Standard'</span><span style="color: #007700">,<br />&nbsp;&nbsp;);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$template&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">HTML_Template_Flexy</span><span style="color: #007700">(</span><span style="color: #0000BB">$options</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code>
        </div>
      </div>
    </div>
    
    
    

    
    <div class="refsection"><div class="info"><h1>Configuration Options</h1>
</div>
      
    
      <div class="variablelist">
      
      
      
        <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">templateDir</code></em>
            <span class="type">directory</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            This is the directory where all your templates are located
            </p>
          </dd>
        </dl>
        
        
        
        <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">compileDir</code></em>
            <span class="type">directory</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            The directory where the compiled templates will be stored, This directory should be writable by the web
            server 
            </p>
            
          </dd>
        </dl>
     
     
        
        <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">forceCompile</code></em>
            <span class="type">boolean</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            Normally 0, means that the template will only be compiled once (or if the template file is altered),
            this is only really usefull if you are developing filters and need to test the result.
            </p>
            
          </dd>
        </dl>

          

        <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">debug</code></em>
            <span class="type">integer</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            The default debugging level (default 0=off), 1= shows some debugging information
            </p>
          </dd>
        </dl>

        <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">locale</code></em>
            <span class="type">string</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            Default is &#039;en&#039; - english. The language use for reading/writing templates. 
            Currently it is only used in the   compiled files filename = eg. originalname.html.en.php
            </p>
            
               <p class="para">
            Flexy uses get_text() internally if it is installed, and will replace all strings in a HTML page
            with the return value of get_text(). - This enables the creation of multilanguage sites with a little less pain.
            
            </p>
            <p class="para">
            A file {templatename}.strings.serial is created for each file that is parsed, you can use this with PHP&#039;s 
            unserialize function to retrieve an array of all the strings in a file. (for translating), or just use
            the tool xgettext.
            
            </p>
          </dd>
        </dl>
         
        
          <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">compiler</code></em>
            <span class="type">string</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            Default is &#039;Flexy&#039; - The Flexy Tokenizer Driver engine. Other engines available are 
            regex (similar to Xipe&#039;s engine), Raw (For plain PHP files with no replacement or compiling)
            and Standard (depreciated). 
            You can use this field to load your own engines, either based
            Off the core code, or totally separate..
            
            </p>
          </dd>
        </dl>
        
        
        <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">multiSource</code></em>
            <span class="type">boolean</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            Default is false - Allow the same template to exist in multiple places 
            (eg. if you have theme&#039;s and want to fall back to a default template
            if the themed version doesnt exist.)
            
            </p>
          </dd>
        </dl>
         
         
        <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">templateDirOrder</code></em>
            <span class="type">string</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            Default is &#039;&#039; - by default, the first matched template is used,
            if you have multiple paths, and want the last in the list to be used,
            then set this to &#039;reverse&#039;
            
            </p>
          </dd>
        </dl>
         
        <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">filters</code></em>
            <span class="type">array|string</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            an array or comma separated string of filters ONLY USED BY THE Regex backend,
            available filters are: BodyOnly (strip everything before and after body tag), 
            Mail (add an extra line break after php tags.), 
            Php (removes php code, not very reliably),
            SimpleTags (variable, method etc. replacement), 
            XML (replace XML opening tag with echos.)
            </p>
          </dd>
        </dl>
            
          
        <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">nonHTML</code></em>
            <span class="type">boolean</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            default is false - if you use the Flexy compiler, it turns off parsing of HTML, 
            (not heavily tested)
            </p>
          </dd>
        </dl>

        <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">allowPHP</code></em>
            <span class="type">boolean|string</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            default is false - allows php code in templates, normally off to help you 
            reduce the chance of you shooting your self in the foot by forgetting to 
            escape output.. (can be usefull for complex looping), but not normally recommended.
            setting to true, enables PHP code, setting to &#039;delete&#039; removes php code. (although it
            doesnt prevent XSS attacks, so it is only suited to trusted users)
            </p>
          </dd>
        </dl>

         <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">flexyIgnore</code></em>
            <span class="type">boolean</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            default is false - setting to true, will turn off the conversion of html form
            elements into HTML_Template_Flexy_Element&#039;s
            </p>
          </dd>
        </dl>

         <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">numberFormat</code></em>
            <span class="type">string</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            default is &quot;,2,&#039;.&#039;,&#039;,&#039;&quot; - this is the piece of code that is appended 
            to the output engine when using the :n modifier, eg. {xxxx:n} is replaced with 
            number_format($t-&gt;xxxx,2,&#039;.&#039;,&#039;,&#039;); see the php manual page for number_format 
            the default output would be: 1,200.00
            </p>
          </dd>
        </dl>
        
        <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">url_rewrite</code></em>
            <span class="type">string</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            when compiling the template flexy can rewrite 
            &lt;img src, 
            &lt;script src, 
            &lt;a href
            and xul stylesheet urls. The format is 
            &quot;match/original:new/url, match/another/original:new/url&quot;
            each combo is separated by a comma, and the colon separates the pair.
            This helps previewing templates without using the engine.
            </p>
          </dd>
        </dl>
        
         <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">compileToString</code></em>
            <span class="type">boolean</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            default false - if set to true, the compile will return a string of the 
            compiled template, rather than writing it to the cache file. eg.
            {object._myvar}
            </p>
          </dd>
        </dl>
                                        
     

        <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">privates</code></em>
            <span class="type">boolean</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            default false - if set to true, you can access variables prefixed with 
            an underscore (normally private in PEAR&#039;s coding standards) 
            eg. {someobject._myprivatevar} and {_myprivate}
            
            </p>
          </dd>
        </dl>
        
        <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">globals</code></em>
            <span class="type">boolean</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            default false - if set to true, you can access php&#039;s globals and superglobals,
            eg. {_POST[myvar]}, {GLOBALS[somevalue]}
            
            </p>
          </dd>
        </dl>
        
        <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">globalfunctions</code></em>
            <span class="type">boolean</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            default false - if set to true, you can access any native php function using the GLOBALS. 
            prefix eg. {GLOBALS.date(#d/m/Y#)} obviously you should trust your template authors, 
            as they can easily run exec() if this is enabled.
            </p>
          </dd>
        </dl>
         
        
        <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">locale</code></em>
            <span class="type">string</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            default &#039;en&#039; - either used to search for language specific templates 
            with {filename}.{locale}.{extension} or in conjunction with the Translation2
            language translation toolkit, to set the language used to 
            translate templates to at compile time.
            
            </p>
          </dd>
        </dl>
         
         <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">Translation2</code></em>
            <span class="type">mixed</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            default false - you can set this to an array or an existing Translation2 object
            eg. Translation2 =&gt; array(&#039;driver&#039;=&gt;&#039;dataobjectsimple&#039;, options=&gt;array()));
            
            
            </p>
          </dd>
        </dl>
        
        <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">strict</code></em>
            <span class="type">boolean</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            default false - By default warnings about undefined variabes are hidden,
            this turns on all PHP warnings during the outputObject calls. Can be usefull 
            for finding bugs hidden by method callbacks.
            </p>
          </dd>
        </dl>
        
        
         <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">fatalError</code></em>
            <span class="type">int</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            default constant HTML_TEMPLATE_FLEXY_ERROR_DIE - this determines the behaviour
            when compiling a template fails, normally flexy will die and report the error to 
            the screen, you can change this to HTML_TEMPLATE_FLEXY_ERROR_RETURN, if you want 
            to recieve a PEAR_Error object from compile().
            </p>
          </dd>
        </dl>
        
        <dl class="varlistentry">
          <dt class="term">
            <em><code class="parameter">plugins</code></em>
            <span class="type">string|array</span>
          </dt>
          <dd class="listitem">
            <p class="para">
            loads plugin classes, (by default from the Plugin folder), these can be used either
            via {plugin.nameofmethod} or as a modifier {outputstring:dateformat}, default formats 
            are normally collected via configuration options plugin.dateformat, 
            plugin.numberformat.decimals, plugin.numberformat.point, plugin.numberformat.thousands
            </p>
          </dd>
        </dl>
        
      
        
        
        
      </div>
     
    </div>
  
    
    
   
   
   </div>
</div>
<div class="navfooter">
 <hr />
 <table style="width: 100%;">
  <tr>
   <td style="width: 40%; text-align: left;"><a accesskey="p" href="package.html.html-template-flexy.intro.html">Prev</a></td>
   <td style="width: 20%; text-align: center;"><a accesskey="h" href="package.html.html-template-flexy.html">HTML_Template_Flexy</a></td>
   <td style="width: 40%; text-align: right;"><a accesskey="n" href="package.html.html-template-flexy.html-template-flexy.html-template-flexy.html">Next</a></td>
  </tr>
  <tr>
   <td style="text-align: left; vertical-align: top;">Introduction</td>
   <td style="text-align: center;"><a accesskey="h" href="index.html">PEAR Manual</a></td>
   <td style="text-align: right; vertical-align: top;">new HTML_Template_Flexy</td>
  </tr>
 </table>
</div>
</body></html>
