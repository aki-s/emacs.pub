<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta name="copyright" content="2006, 2010" />


  <title>jhat - Java Heap Analysis Tool</title>

  <link rel="stylesheet" href="../../css/tools.css" type="text/css" />
</head>

<body>
<!-- STATIC HEADER -->

<table width="100%"><tr><td valign="bottom" align="left"><img src="../../../images/javalogo.gif"></td><td valign="bottom" align="right"><a href="../../../index.html"><font size="-1">Documentation Contents</font></a></td></tr></table>  <h1>jhat - Java Heap Analysis Tool</h1>

  <ul>
    <li><a href="#synopsis">Synopsis</a></li>

    <li><a href="#parameters">Parameters</a></li>

    <li><a href="#description">Description</a></li>

    <li><a href="#options">Options</a></li>

    <li><a href="#seealso">See Also</a></li>
  </ul>

  <h2><a name="synopsis" id="synopsis">SYNOPSIS</a></h2>
    <blockquote>
      <pre>
<b>jhat</b> [ <i>options</i> ] &lt;heap-dump-file&gt;

</pre>
</blockquote>
  <h2><a name="parameters"/>PARAMETERS</h2>

    <blockquote>
      <dl>
        <dt><a href="#options">options</a></dt>

        <dd>Options, if used, should follow immediately after the command name.</dd>
        <br />
        <dt><b>heap-dump-file</b>        </dt>
        <dd>
        Java binary heap dump file to be browsed. For a dump file that contains
        multiple heap dumps, you may specify which dump in the file by 
        appending "#&lt;number&gt; to the file name, i.e. "foo.hprof#3".        </dd>
    <h2><a name="description">DESCRIPTION</a></h2>
    <blockquote>
      <p>The <b>jhat</b> command parses a java heap dump file and
        launches a webserver. jhat enables you to browse heap dumps
        using your favorite webbrowser. jhat supports pre-designed
        queries (such as 'show all instances of a known class "Foo"') as well as
        <b>OQL</b> (<b>O</b>bject <b>Q</b>uery <b>L</b>anguage) - a SQL-like query language to query heap
        dumps. Help on OQL is available from the OQL help page shown by jhat.
        With the default port, OQL help is available at http://localhost:7000/oqlhelp/      </p><p>
      There are several ways to generate a java heap dump: 
      </p><ul>
        <li>Use <a href="jmap.html">jmap</a> -dump option to obtain a heap dump
            at runtime;</li>
        <li>Use <a href="jconsole.html">jconsole</a> option to obtain a heap 
            dump via <a href="../../../jre/api/management/extension/com/sun/management/HotSpotDiagnosticMXBean.html">HotSpotDiagnosticMXBean</a> at runtime;</li>
        <li>Heap dump will be generated when OutOfMemoryError is thrown
            by specifying -XX:+HeapDumpOnOutOfMemoryError VM option;</li> 
        <li>Use <a href="http://java.sun.com/developer/technicalArticles/Programming/HPROF.html">hprof</a>.</li>
      </ul>

      <p></p><p><b>NOTE:</b> This tool is <b>experimental</b> and may <b>not</b> be
        available in future versions of the JDK.</p>
    </blockquote>
  <h2><a name="options"/>OPTIONS</h2>
  <blockquote>
      <dl>
        <dt><b>-stack</b> <i>false/true</i></dt>

        <dd>Turn off tracking object allocation call stack. Note that
          if allocation site information is not available in the heap
          dump, you have to set this flag to false. Default is true.</dd>

        <dt><b>-refs</b> <i>false/true</i></dt>

        <dd>Turn off tracking of references to objects. Default is true.
         By default, back pointers (objects pointing to a given object
         a.k.a referrers or in-coming references) are calculated for all
         objects in the heap. </dd>

        <dt><b>-port</b> <i>port-number</i></dt>

        <dd>Set the port for the jhat's HTTP server. Default is 7000.</dd>

        <dt><b>-exclude</b> <i>exclude-file</i></dt>

        <dd>Specify a file that lists data members that should be
        excluded from the "reachable objects" query. For example,
        if the file lists <i>java.lang.String.value</i>, then, whenever
        list of objects reachable from a specific object "o" are 
        calculated, reference paths involving <i>java.lang.String.value</i> field
        will not considered.</dd>

        <dt><b>-baseline</b> <i>baseline-dump-file</i></dt>

        <dd>Specify a baseline heap dump. Objects in both heap dumps
        with the same object ID will be marked as not being "new".
        Other objects will be marked as "new". This is useful while
        comparing two different heap dumps.</dd>

        <dt><b>-debug</b> <i>int</i></dt>

        <dd>Set debug level for this tool. 0 means no debug output.
            Set higher values for more verbose modes.</dd>

        <dt><b>-version</b>&nbsp;</dt>

        <dd>Report version number and exit.</dd>

        <dt><b>-h</b>&nbsp;</dt>

        <dd>Output help message and exit.</dd>

        <dt><b>-help</b>&nbsp;</dt>

        <dd>Output help message and exit.</dd>

        <dt><b>-J&lt;flag&gt;</b>&nbsp;</dt>

        <dd>Pass &lt;flag&gt; to the Java virtual machine on which jhat is run. For example,
        -J-Xmx512m to use a maximum heap size of 512MB.</dd>
      </dl>
    </blockquote>

  <h2><a name="seealso">SEE ALSO</a></h2>

  <ul>
    <li> <a href="jmap.html">jmap - Java Memory Map</a></li>
    <li> <a href="jconsole.html">jconsole - Java Monitoring and Management Console</a></li>
    <li> <a href="http://java.sun.com/developer/technicalArticles/Programming/HPROF.html">hprof - Heap and CPU profiling tool</a>    </li>
  </ul>

</dl>

<HR>
<TABLE summary="layout" BORDER="0" WIDTH="100%">
<TR VALIGN="TOP"><TD><P><FONT SIZE="-2">
<A HREF=../../../legal/cpyr.html>Copyright &#169;</A> 1993, 2011, Oracle and/or its affiliates. All rights reserved.</FONT></P><FONT SIZE="-1"> Please send comments using this <a href=http://download.oracle.com/javase/feedback.html>Feedback</a> page.</FONT> </TD>
<TD ALIGN=RIGHT> <IMG SRC="../../../images/oraclelogo.gif" ALT="Oracle Corporation and/or its affiliates" BORDER=0 WIDTH=100 HEIGHT=29><BR>
<FONT SIZE="+1"> <i>Java Technology</i></FONT> </TD></TR>
</TABLE> 

<!-- STATIC FOOTER -->

</body>
</html>
