<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta name="copyright" content="1997, 2010" />

<!-- Inserted by TRADOS: --><META HTTP-EQUIV="content-type" CONTENT="text/html; charset=utf-8">
<title>jar - Java ARchive ツール</title>
<!-- Created by: Susan Keohan 30-Oct-1996 --><!-- Updated by: Beth Stearns 18-Nov-1996 --><!-- Updated by: Marianne Mueller 11-Dec-1996 --><!-- Updated by: Douglas Kramer 01-Jul-2003 --<link rel="stylesheet" href="../../../../technotes/css/guide.css" />
</head>

<body>
<!-- STATIC HEADER -->

<table width="100%"><tr><td valign="bottom" align="left"><img src="../../../../images/javalogo.gif"></td><td valign="bottom" align="right"><a href="../../../../index.html"><font size="-1">Documentation Contents</font></a></td></tr></table>
<style type="text/css">

   p, li         {font-size: medium;
                  font-family: serif}

   code, tt, pre {font-size: 125%;
                  font-family: monospace;
		  font-weight;
                  color: black;
		  }

   .red {color: red }

 </style>
<h1>
jar - Java ARchive ツール</h1>

<b>jar</b> は複数のファイルを 1 つの JAR アーカイブファイルに結合します。

<ul>
<li><a href="#synopsis">形式</a>
</li><li><a href="#description">説明</a>
</li><li><a href="#options">オプション</a>
</li><li><a href="#argfiles">コマンド行引数ファイル</a>
</li><li><a href="#examples">例</a>
</li><li><a href="#seealso">関連項目</a>
</li></ul>

<a name="synopsis"></a>
<h2>
形式</h2>

<blockquote>

<dl>

<dt>JAR ファイルの作成
</dt><dd><code><b>jar c</b>[v0Mmfe] [</code><em>manifest</em><code>] [</code><em>jarfile</em><code>] [</code><em>entrypoint</em><code>] [-C </code><em>dir</em><code>] </code><em>inputfiles</em><code> [-J</code><em>option</em><code>]</code>
<p>

</p></dd><dt>JAR ファイルの更新
</dt><dd><code><b>jar u</b>[v0Mmfe] [</code><em>manifest</em><code>] [</code><em>jarfile</em><code>]  [</code><em>entrypoint</em><code>] [-C </code><em>dir</em><code>] </code><em>inputfiles</em><code> [-J</code><em>option</em><code>]</code>
<p>

</p></dd><dt>JAR ファイルの抽出
</dt><dd><code><b>jar x</b>[vf] [</code><em>jarfile</em><code>] [</code><em>inputfiles</em><code>]  [-J</code><em>option</em><code>]</code>
<p>

</p></dd><dt>JAR ファイルの内容の表形式による一覧表示
</dt><dd><code><b>jar t</b>[vf] [</code><em>jarfile</em><code>] [</code><em>inputfiles</em><code>] [-J</code><em>option</em><code>]</code>
<p>

</p></dd><dt>JAR ファイルへのインデックスの追加
</dt><dd><code><b>jar i</b> </code><em>jarfile</em><code> [-J</code><em>option</em><code>]</code>
</dd></dl>


<p>
説明

</p><blockquote>
<dl>
<dt><a href="#options"><code>cuxtiv0Mmfe</code></a>
</dt><dd><code>jar</code> コマンドを制御するオプション
         </dd>

<dt><a name="jarfile"></a> <em>jarfile</em>
</dt><dd>作成 (<code>c</code>)、更新 (<code>u</code>)、抽出 (<code>x</code>)、または内容の一覧表示 (<code>t</code>) の対象となる JAR ファイル。<i>f</i> オプションとファイル名 <em>jarfile</em> とがペアになります。 つまり、片方を記述すれば、もう一方も記述する必要があります。<code>f</code> と <em>jarfile</em> を省略すると、標準入力から「JAR ファイル」が取得されるか (x および t の場合)、標準出力へ「JAR ファイル」が送信されます(c および u の場合)。
         </dd>

<dt><a name="inputfiles"></a> <em>inputfiles</em>
</dt><dd><em>jarfile</em> に結合されるか (c および u の場合)、<em>jarfile</em> から抽出 (x の場合) または一覧表示 (t の場合) される、空白で区切られたファイルまたはディレクトリ。すべてのディレクトリは再帰的に処理されます。このファイルは、オプション <i>O</i> (ゼロ) を使用しないかぎり圧縮されます。
         </dd>

<dt><a name="manifest"></a> <em>manifest</em>
</dt><dd><em>name</em><code>:</code><em>value</em> のペアが、JAR ファイルの MANIFEST.MF に含まれている既存のマニフェストファイル。<i>-m</i> オプションとファイル名 <em>manifest</em> とがペアになります。 つまり、片方を記述すれば、もう一方も記述する必要があります。<b>m</b>、<b>f</b>、および <b>e</b> の出現順序は、<em>manifest</em>、<em>jarfile</em>、<em>entrypoint</em> の出現順序と一致する必要があります。
         </dd>

<dt><a name="entrypoint"></a> <em>entrypoint</em>
</dt><dd> 実行可能 JAR ファイル内にバンドルされたスタンドアロンアプリケーションのアプリケーションエントリポイントとして設定するクラスの名前。<i>-e</i> オプションと entrypoint は対になっています。 どちらかを指定する場合は両方とも指定する必要があります。<b>m</b>、<b>f</b>、および <b>e</b> の出現順序は、<em>manifest</em>、<em>jarfile</em>、<em>entrypoint</em> の出現順序と一致する必要があります。
	 </dd>

<dt><a href="#-C"><code>-C&nbsp;</code><em>dir</em></a>
</dt><dd>これに続く <em>inputfiles</em> 引数を処理する間、ディレクトリを <em>dir</em> へ一時的に変更します。<code>-C&nbsp;</code><em>dir</em> <em>inputfiles</em> のセットは複数使用できます。
         </dd>

<dt><a href="#-Joption"><code>-J</code><em>option</em></a>
</dt><dd>Java 実行環境へ渡されるオプション。<i>-J</i> と <em>option</em> の間には空白を入れないでください。
         </dd>

</dl>
</blockquote>
</blockquote>

<a name="description"></a>
<h2>
説明</h2>

<blockquote><b>jar</b> ツールは、複数のファイルを 1 つの JAR アーカイブファイルに結合します。<b> jar</b> は、ZIP および <a href="http://www.gzip.org/zlib/">ZLIB</a> 圧縮形式をベースにした、汎用のアーカイブおよび圧縮ツールです。ただし <b>jar</b>  ツールの主な目的は、いくつかの Java アプレットやアプリケーションを 1 個のアーカイブに統合することです。アプレットやアプリケーションのコンポーネント (ファイル、イメージ、およびサウンド) が 1 つのアーカイブに結合されていると、Java エージェント (ブラウザなど) は、それらのコンポーネントを 1 回の HTTP トランザクションでダウンロードすることができ、コンポーネントごとに新しい接続を必要とすることがありません。これによって、ダウンロードの回数が大幅に減ります。 また、<b>jar</b> はファイルを圧縮するので、ダウンロード時間も短くなります。また、ファイル内の個々のエントリにアプレット作成者による署名を書き込めるので、配布元の認証が可能になります。jar ツールの構文は、<tt>tar</tt> コマンドの構文とほぼ同じです。<b>JAR</b> アーカイブは、圧縮されているかどうかにかかわらず、<a href="classpath.html">クラスパス</a>のエントリとして使用できます。
<p>

複数のファイルを JAR ファイルへ結合する一般的な使用法は次のとおりです。

</p><blockquote><pre>% jar cf myFile.jar *.class
</pre></blockquote>

この例では、現在のディレクトリにあるクラス (.class) ファイルがすべて、<i>myFile.jar</i> という名前のファイルに格納されます。jar ツールは自動的に、<code>META-INF/MANIFEST.MF</code> という名前のマニフェストファイルエントリを生成します。これは常に、JAR ファイルの最初のエントリになります。マニフェストファイルは、アーカイブに関するメタ情報を宣言し、そのデータを <em>name&nbsp;:&nbsp;value</em> ペアとして格納します。jar ツールがマニフェストファイル内にメタ情報を格納する方法の詳細については、「<a href="../../guides/jar/jar.html#JAR%20Manifest">JAR file specification</a>」を参照してください。

<p>既存のマニフェストファイル内に格納された <em>name&nbsp;:&nbsp;value</em> ペアを JAR ファイルに含める必要がある場合には、そのファイルを次のように <i>-m</i> オプションを使って指定します。


</p><blockquote><pre>% jar cmf myManifestFile myFile.jar *.class
</pre></blockquote>

既存のマニフェストファイルは改行文字で終わっている必要があります。 マニフェストファイルが改行文字で終わっていない場合、<b>jar</b> はその最後の行を解析しません。<br /><br />

<b>注:&nbsp;</b>コマンド行に <i>cmf</i> ではなく <i>cfm</i> が指定された jar コマンド (m と -f オプションの順番を逆にする) の場合、<b>jar</b> コマンド行にまず JAR アーカイブの名前を指定し、続いてマニフェストファイルの名前を指定する必要があります。 次に例を示します。

<blockquote><pre>% jar cfm myFile.jar myManifestFile *.class</pre>
</blockquote>

マニフェストは、RFC822 ASCII 形式で規定されたテキスト形式であるため、マニフェストファイルの内容を簡単に表示および編集できます。

<p>JAR ファイルからファイルを抽出する場合は、<code>x</code> を使用します。

</p><blockquote><pre>% jar xf myFile.jar
</pre></blockquote>

<p>jar ファイルから個別のファイルを抽出する場合は、そのファイル名を指定します。

</p><blockquote><pre>% jar xf myFile.jar foo bar
</pre></blockquote>

<p>Java 2 SDK のバージョン 1.3 以降から、<tt>jar</tt> ユーティリティーで <a href="../../guides/jar/jar.html#JARIndex">JarIndex</a> がサポートされています。 JarIndex を使用すると、アプリケーションのクラスローダーで JAR ファイルからクラスがロードされるときの効率が向上します。アプリケーションまたはアプレットが複数の JAR ファイルにバンドルされている場合は、クラスがロードされるときに、必要な JAR ファイル以外のダウンロードおよびオープンは行われません。このパフォーマンスの最適化は、新しい <tt>-i</tt> オプションを指定して <i>jar</i> を実行すると有効になります。このオプションを使うと、指定した JAR メインファイルとそのメインファイルが依存しているすべての JAR ファイルについて、パッケージ位置情報が生成されます。 メインファイルが依存している JAR ファイルは、JAR メインファイルのマニフェストの <tt>Class-Path</tt> 属性に指定しておく必要があります。</p>
<blockquote><pre>% jar i main.jar
</pre></blockquote>

<p>この例では、<code>INDEX.LIST</code> ファイルが <code>main.jar</code> の <code>META-INF</code> ディレクトリに挿入されます。<br /><br />このファイルに格納されている情報を使用して、アプリケーションのクラスローダーは、効率的にクラスをロードします。 インデックスファイルに位置情報を格納する方法の詳細は、 「<i>JarIndex</i> 仕様」を参照してください。<br /><br />


ディレクトリをコピーするには、まず <code>dir1</code> 内のファイルを圧縮して標準出力に出力し、続いて標準入力から <code>dir2</code> に抽出します (両方の <code>jar</code> コマンドから <i>-f</i> オプションを省く)。 次に例を示します。<code></code><code></code>

</p><blockquote><pre>% (cd dir1; jar c .) | (cd dir2; jar x)
</pre></blockquote>

<p><code>jar</code> を使って JAR ファイルや JAR ファイルマニフェストを操作するコマンドサンプルを確認するには、「<a href="#examples">例</a>」を参照してください。また、「<a href="http://java.sun.com/docs/books/tutorial/jar">Java Tutorial</a>」の JAR コースも参照してください。
</p></blockquote>


<a name="options"></a>
<h2>
オプション</h2>
<blockquote>
<dl>


<a name="c"></a>
<dt>
<b><tt>c</tt></b></dt>

<dd>
<a href="#jarfile"><em>jarfile</em></a> の名前で新しいアーカイブファイルを作成するか (<code>f</code> が指定されている場合)、標準出力で作成します (<code>f</code> と <em>jarfile</em> が省略されている場合)。<a href="#inputfiles"><em>inputfiles</em></a> で指定されたファイルとディレクトリを、このアーカイブに追加します。 </dd>


<a name="u"></a>
<dt>
<b><tt>u</tt></b></dt>

<dd>
<a href="#inputfiles"><em>inputfiles</em></a> で指定されたファイルとディレクトリを追加することにより、既存のファイル <a href="#jarfile"><em>jarfile</em></a> を更新します (<code>f</code> が指定されている場合)。

例を示します。

<blockquote>
<pre>jar uf foo.jar foo.class</pre>
</blockquote>

上のコマンドは、ファイル <tt>foo.class</tt> を既存の JAR ファイル <tt>foo.jar</tt> に追加します。次の例に示すように、<i>-u</i> オプションは、マニフェストエントリも更新できます。

<blockquote>
<pre>jar umf manifest foo.jar</pre>
</blockquote>

<tt>foo.jar</tt> マニフェストをマニフェスト内の <em>name:value</em> ペアで更新します。<tt></tt></dd>


<a name="x"></a>
<dt>
<b><tt>x</tt></b></dt>

<dd>
<a href="#jarfile"><em>jarfile</em></a> から (<code>f</code> が指定されている場合)、または標準入力から (<code>f</code> と <em>jarfile</em> が省略されている場合)、ファイルとディレクトリを抽出します。<a href="#inputfiles"><em>inputfiles</em></a> が指定されている場合は、その指定したファイルとディレクトリだけが抽出されます。指定されていなければ、すべてのファイルとディレクトリが抽出されます。抽出されたファイルの日時は、アーカイブ内で設定されたものです。</dd>


<a name="t"></a>
<dt>
<b><tt>t</tt></b></dt>

<dd>
<a href="#jarfile"><em>jarfile</em></a> から (<code>f</code> が指定されている場合)、または標準入力から (<code>f</code> と <em>jarfile</em> が省略されている場合)、内容を表形式で一覧表示します。<a href="#inputfiles"><em>inputfiles</em></a> が指定されている場合は、その指定したファイルとディレクトリだけが一覧表示されます。指定されていなければ、すべてのファイルとディレクトリが一覧表示されます。 </dd>


<a name="i"></a>
<dt>
<b><tt>i</tt></b>
</dt><dd>指定された <a href="#jarfile"><em>jarfile</em></a> と、それに依存する JAR ファイルについて、インデックス情報を生成します。例を示します。

<blockquote><pre>jar i foo.jar</pre></blockquote>

<p>上のコマンドは、<tt>foo.jar</tt> 内に <tt>INDEX.LIST</tt> ファイルを生成します。 このファイルには、<tt>foo.jar</tt> と、<tt>foo.jar</tt> の <tt>Class-Path</tt> 属性に指定されたすべての JAR ファイルに入っている各パッケージの位置情報が書き込まれています。

<a href="#i">インデックスの例</a>を参照してください。


<a name="f"></a>
</p></dd><dt>
<b><tt>f</tt></b></dt>

<dd>
作成 (<code>c</code>)、更新 (<code>u</code>)、抽出 (<code>x</code>)、インデックス追加 (<code>i</code>)、または表示 (<code>t</code>) 対象のファイル <a href="#jarfile"><em>jarfile</em></a> を指定します。<i>f</i> オプションとファイル名 <em>jarfile</em> とがペアになります。 つまり、片方を記述すれば、もう一方も記述する必要があります。<code>f</code> と <em>jarfile</em> を省略すると、標準入力から JAR ファイル名が使用されたり (x および t の場合)、標準出力に jar ファイルが 送信されたりします (c および u の場合)。<code></code><code></code></dd>


<a name="v"></a>
<dt>
<b><tt>v</tt></b></dt>

<dd>
詳細な出力を標準出力に生成します。あとで<a href="#examples">例</a>を示します。</dd>


<a name="0"></a>
<dt>
<b><tt>0</tt></b></dt>

<dd>
(ゼロ) ZIP による圧縮を使用せずに、保存します。</dd>


<a name="M"></a>
<dt>
<b><tt>M</tt></b></dt>

<dd>
マニフェストファイルエントリを作成しません (c および u の場合)。 または、マニフェストファイルエントリが存在する場合にそれを削除します (u の場合)。</dd>


<a name="m"></a>
<dt>
<b><tt>m</tt></b></dt>

<dd>
<tt>META-INF/MANIFEST.MF</tt> のファイルで指定したマニフェストファイル <em>manifest</em> の <em>name :value</em> の属性ペアを組み込みます。すでに同じ名前で存在しない限り、 <code>jar</code> はその <em>name&nbsp;:&nbsp;value</em> ペアを追加します。同じ名前で存在する場合は、<code>jar</code> はその値を更新します。
<p>

コマンド行で、<b>m</b> と <b>f</b> の文字は、<em>manifest</em> と <em>jarfile</em> の入力順序と同じ順序で記述する必要があります。たとえば、次のようにして使います。

</p><blockquote>
<pre>jar cmf myManifestFile myFile.jar *.class</pre>
</blockquote>

デフォルトのマニフェストには含まれないマニフェストに、特別な目的の <em>name&nbsp;:&nbsp;value</em> の属性ペアを追加できます。たとえば、ベンダー情報、バージョン情報、パッケージシーリング、または JAR にバンドルされたアプリケーションを実行するための属性を追加できます。<b><i>-m</i></b> オプションの使用例については、「Java Tutorial」<!--  and the <a href="http://java.sun.com/products/jdk/1.3/runtime.html#example"> Notes for Developers</a> page -->にある「<a href="http://java.sun.com/docs/books/tutorial/jar/">JAR Files</a>」コースを参照してください。
</dd>
<p>

<a name="e"></a>
</p><dt>
<b><tt>e</tt></b></dt>

<dd>
実行可能 JAR ファイル内にバンドルされたスタンドアロンアプリケーションのアプリケーションエントリポイントとして、<a href="#entrypoint"><em>entrypoint</em></a> を設定します。このオプションを使用すると、マニフェストファイル内の <em>Main-Class</em> 属性値が作成または上書きされます。

このオプションは、JAR ファイルの作成中または更新中に使用できます。


このオプションを使えば、マニフェストファイルを編集または作成することなしに、アプリケーションのエントリポイントを指定できます。 <br /><br />


たとえば、次のコマンドは <code>Main.jar</code> を作成しますが、その際、マニフェストファイル内の <i>Main-Class</i> 属性値は <code>Main</code> に設定されます。

<blockquote>
<pre>jar cfe Main.jar Main Main.class</pre>
</blockquote>

<p>
次のコマンドを実行すると java ランタイムから直接このアプリケーションを起動できます。


</p><blockquote>
<pre>java -jar Main.jar</pre>
</blockquote>

エントリポイントのクラス名が特定のパッケージ内に存在している場合、エントリポイントの区切り文字としてドット (「.」) またはスラッシュ (「/」) を使用できます。たとえば、<code>Main.class</code> が <code>foo</code> という名前のパッケージ内に存在している場合、次のようにしてエントリポイントを指定できます。
<blockquote>
<pre>jar -cfe Main.jar foo/Main foo/Main.class</pre>
</blockquote>
または
<blockquote>
<pre>jar -cfe Main.jar foo.Main foo/Main.class</pre>
</blockquote>

<b>注:&nbsp; </b><code>-m</code> オプションと <i>-e</i> オプションの両方を同時に指定する場合、指定されたマニフェストにも <i>Main-Class</i> 属性が含まれていると、<code>Main.class</code> の指定があいまいになってエラーが発生し、JAR の作成または更新処理が異常終了します。
<p>

<a name="-C"></a>
</p></dd><dt>
<b><tt>-C</tt></b> &nbsp;<em>dir</em></dt>

<dd>
<tt>jar</tt> コマンドの実行中に後続の <em>inputfiles</em> 引数を処理するときに、一時的にディレクトリを変更します (<code>cd</code>&nbsp;<em>dir</em>)。この処理は、UNIX の <tt>tar</tt> ユーティリティーの <i>-C</i> オプションの機能に類似しています。  <br /><br />

たとえば、次のコマンドは、<tt>classes</tt> ディレクトリに移動し、そのディレクトリから <tt>bar.class</tt> を <tt>foo.jar</tt> に追加します。

<blockquote>
<pre>jar uf foo.jar -C classes bar.class</pre>
</blockquote>

次のコマンドでは、<tt>classes</tt> ディレクトリに移動し、<tt>classes</tt> ディレクトリ内のすべてのファイルを <tt>foo.jar</tt> に追加します (jar ファイルには classes ディレクトリを作成しません)。 次に元のディレクトリに戻ってから、<tt>bin</tt> ディレクトリに移動し、<tt>xyz.class</tt> を <tt>foo.jar</tt> に追加します。

<blockquote>
<pre>jar uf foo.jar -C classes . -C bin xyz.class</pre>
</blockquote>

<code>classes</code> に <code>bar1</code> と <code>bar2</code> が保持されている場合、<code>jar tf foo.jar</code> を使用すると、JAR ファイルには次の要素が含められます。

<blockquote>
<pre>META-INF/
META-INF/MANIFEST.MF
bar1
bar2
xyz.class
</pre>
</blockquote>
<p>


<a name="-Joption"></a>
</p></dd><dt>
<i><b>-J</b></i><i>option</i></dt>
<dd>Java 実行環境に <i>option</i> を渡します。<i> option</i> には、<a href="java.html#options">「Java アプリケーション起動ツール」</a>のリファレンスページに記載されているオプションを 1 つ指定します。たとえば、<code><b>-J-Xmx48M</b></code> と指定すると、最大メモリーは 48M バイトに設定されます。<i>-J</i> を使って背後の実行環境にオプションを渡すことはよく行われています。

</dd></dl>
</blockquote>


<a name="argfiles"></a>
<h2>
コマンド行引数ファイル</h2>
<blockquote>

jar のコマンド行を短くしたり簡潔にしたりするために、<code>jar</code> コマンドに対する引数 (<code>-J</code> オプションを除く) を含む 1 つ以上のファイルを指定することができます。これにより、任意の長さの jar コマンドを作成でき、オペレーティングシステムによるコマンド行の制限から解放されます。
<p>

引数ファイルにはオプションとファイル名を含めることができます。ファイル内の各引数は、スペースまたは改行で区切ります。引数ファイル内のファイル名は、現在のディレクトリから見た相対パスになります。 引数ファイルの位置から見た相対パスではありません。ワイルドカード (*) は、通常ならばオペレーティングシステムシェルによってあらゆる文字に解釈されますが、この場合はそのようには解釈されません。引数ファイル内の引数で <i>@</i> 文字を使用して、複数のファイルを再帰的に解釈することはサポートされていません。また、<i>-J</i> オプションもサポートされていません。 このオプションは起動ツールに渡されますが、起動ツールでは引数ファイルをサポートしていないからです。
</p><p>

<code>jar</code> を実行するときに、各引数ファイルのパスとファイル名の先頭に <i>@</i> 文字を付けて渡します。<code>jar</code> は、<i>@</i> 文字で始まる引数を見つけると、そのファイルの内容を展開して引数リストに挿入します。 <br /><br />

次の例では、<code>find</code> コマンドから出力されたファイル名を <code>classes.list</code> 内に格納しています。

<!-- For example, you could use a single argument file named "<code>classes.list</code>" to hold the names of the files: -->

</p><blockquote><pre>% find <b>.</b> -name '*.class' -print &gt; classes.list
</pre></blockquote>
<p>
その後、引数ファイル構文を使って <code>jar</code> にリストを渡すと、<code>Classes.list</code> で <code>jar</code> コマンドを実行できます。
</p><blockquote><pre>% jar cf my.jar @classes.list
</pre></blockquote>

引数ファイルはパスを指定できますが、相対パスが記述された引数ファイル内のすべてのファイル名は、渡されたパスに対して相対的ではなく、現在の作業ディレクトリに相対的となります。 次に例を示します。
<blockquote><pre>% jar @path1/classes.list
</pre></blockquote>
</blockquote>


<p><a name="examples"></a>
</p><h2>
例</h2>

<blockquote>
特定のディレクトリ内のすべてのファイルをアーカイブに追加する (そのアーカイブがすでに存在する場合は、その内容を上書きする) には、次のようにします。<i>-v</i> オプションを使用して情報を詳細に列挙するように指定すると、サイズや最新の更新日など、アーカイブ内のファイルについての詳細情報が表示されます。 <blockquote>

<pre>% ls
1.au          Animator.class    monkey.jpg
2.au          Wave.class        spacemusic.au
3.au          at_work.gif

% jar cvf bundle.jar *
added manifest
adding: 1.au(in = 2324) (out= 67)(deflated 97%)
adding: 2.au(in = 6970) (out= 90)(deflated 98%)
adding: 3.au(in = 11616) (out= 108)(deflated 99%)
adding: Animator.class(in = 2266) (out= 66)(deflated 97%)
adding: Wave.class(in = 3778) (out= 81)(deflated 97%)
adding: at_work.gif(in = 6621) (out= 89)(deflated 98%)
adding: monkey.jpg(in = 7667) (out= 91)(deflated 98%)
adding: spacemusic.au(in = 3079) (out= 73)(deflated 97%)
</pre>

</blockquote>

すでに画像、オーディオファイル、およびクラス用のサブディレクトリに分けている場合は、これらを単一の JAR ファイルに結合できます。

<blockquote>

<pre>% ls -F
audio/ classes/ images/

% jar cvf bundle.jar audio classes images
added manifest
adding: audio/(in = 0) (out= 0)(stored 0%)
adding: audio/1.au(in = 2324) (out= 67)(deflated 97%)
adding: audio/2.au(in = 6970) (out= 90)(deflated 98%)
adding: audio/3.au(in = 11616) (out= 108)(deflated 99%)
adding: audio/spacemusic.au(in = 3079) (out= 73)(deflated 97%)
adding: classes/(in = 0) (out= 0)(stored 0%)
adding: classes/Animator.class(in = 2266) (out= 66)(deflated 97%)
adding: classes/Wave.class(in = 3778) (out= 81)(deflated 97%)
adding: images/(in = 0) (out= 0)(stored 0%)
adding: images/monkey.jpg(in = 7667) (out= 91)(deflated 98%)
adding: images/at_work.gif(in = 6621) (out= 89)(deflated 98%)

% ls -F
audio/ bundle.jar classes/ images/
</pre>

</blockquote>

JAR ファイルのエントリ名を表示するには、「<i>t</i>」オプションを使用します。

<blockquote>

<pre>% jar tf bundle.jar
META-INF/
META-INF/MANIFEST.MF
audio/1.au
audio/2.au
audio/3.au
audio/spacemusic.au
classes/Animator.class
classes/Wave.class
images/monkey.jpg
images/at_work.gif
</pre>

</blockquote>


<p>
<a name="i"></a>クラスロードを高速にするためにインデックスファイルを JAR ファイルに追加するには、「<i>i</i>」オプションを使用します。<br /><br />例: <br />



</p><blockquote>
たとえば、株取引アプリケーション用の相互依存したクラスを、<tt>main.jar</tt>、<tt>buy.jar</tt>、および <tt>sell.jar</tt> という 3 つの JAR ファイルに分割したとします。<br /><br /><tt>main.jar</tt> のマニフェストの <i>Class-path</i> 属性に次のように指定した場合、

<pre>Class-Path: buy.jar sell.jar</pre>

<i>-i</i> オプションを使用すれば、アプリケーションのクラスの 読み込みを高速化できます。

<pre>% jar i main.jar</pre>

<code>INDEX.LIST</code> ファイルが <code>META-INF</code> ディレクトリに挿入されます。この結果、アプリケーションのクラスローダーによってクラスまたは リソースの検索が行われるときに、適切な jar ファイルがダウンロードされます。
</blockquote>


</blockquote>


<a name="seealso"></a>
<h2>
関連項目</h2>

<blockquote><a href="../../guides/jar/jarGuide.html">「JAR ファイルの概要」</a> <br /><a href="../../guides/jar/jar.html">「JAR ファイルの仕様」</a><br /> <a href="../../guides/jar/jar.html#JARIndex">「Jar インデックス」</a> <br /> <a href="http://java.sun.com/docs/books/tutorial/jar">「Jar チュートリアル」</a> (Java Software の Web サイト内) <br /><a href="../share/pack200.html">「pack200 リファレンスページ」</a></blockquote>






<HR>
<TABLE summary="layout" BORDER="0" WIDTH="100%">
<TR VALIGN="TOP"><TD><P><FONT SIZE="-2">
<A HREF=../../../../legal/cpyr.html>Copyright &#169;</A> 1993, 2011, Oracle and/or its affiliates. All rights reserved.</FONT></P><FONT SIZE="-1"> Please send comments using this <a href=http://download.oracle.com/javase/feedback.html>Feedback</a> page.</FONT> </TD>
<TD ALIGN=RIGHT> <IMG SRC="../../../../images/oraclelogo.gif" ALT="Oracle Corporation and/or its affiliates" BORDER=0 WIDTH=100 HEIGHT=29><BR>
<FONT SIZE="+1"> <i>Java Technology</i></FONT> </TD></TR>
</TABLE> 

<!-- STATIC FOOTER -->

</body></html>


