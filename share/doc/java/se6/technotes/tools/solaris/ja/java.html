<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="copyright" content="1994, 2010" />
<!-- Inserted by TRADOS: --><META HTTP-EQUIV="content-type" CONTENT="text/html; charset=utf-8">


<link rel="stylesheet" href="../../css/tools.css"  type="text/css" />
<title>java - Java アプリケーション起動ツール</title>

</head>

<body>
<!-- STATIC HEADER -->

<table width="100%"><tr><td valign="bottom" align="left"><img src="../../../../images/javalogo.gif"></td><td valign="bottom" align="right"><a href="../../../../index.html"><font size="-1">Documentation Contents</font></a></td></tr></table><h1>java - Java アプリケーション起動ツール</h1>

  <ul>
<li><a href="#synopsis">形式</a></li>

<li><a href="#description">説明</a></li>

<li><a href="#options">オプション</a></li>

<li><a href="#seealso">関連項目</a></li>
  </ul>

<h2><a name="synopsis"/>形式</h2>
  <pre>
    <b>java</b> [ options ] class [ argument ... ]
    <b>java</b> [ options ] <b>-jar</b> file.jar [ argument ... ]
</pre>

  <blockquote>
    <dl>
<dt><a href="#options"><code>options</code></a></dt>

<dd>コマンド行オプション。</dd>

<dt><code>class</code></dt>

<dd>呼び出されるクラスの名前</dd>

<dt><code>file.jar</code></dt>

<dd>呼び出される JAR ファイルの名前。必ず <a href="#-jar"><code>-jar</code></a> とともに使用する</dd>

<dt><code>argument</code></dt>

<dd><b>main</b> 関数に渡される引数</dd>
    </dl>
  </blockquote>

<h2><a name="description"/> 説明</h2>

  <blockquote><p>
<b>java</b> ツールは、Java アプリケーションを起動します。java ツールは、Java Runtime Environment を起動したあと、指定されたクラスをロードし、そのクラスの <b>main</b> メソッドを呼び出すことにより、Java アプリケーションを起動します。
</p>
<p>このメソッドは、public および static として宣言する必要があります。 また、値を返してはいけません。 さらに、<code>String</code> 配列をパラメータとして指定できなければなりません。メソッドの宣言は、次のようになっていなければなりません。</p>
    <pre>
    public static void main(String args[])
</pre>
<p>デフォルトでは、コマンド行オプション以外の最初の引数が、呼び出されるクラスの名前になります。この名前には、完全指定のクラス名を使用する必要があります。<b>-jar</b> オプションを指定した場合、コマンド行オプション以外の最初の引数が、アプリケーションのクラスファイルとリソースファイルを含む <b>JAR</b> アーカイブの名前になります。 この場合、マニフェストの <b>Main-Class</b> ヘッダーで指定されたクラスが起動クラスになります。
</p>
<p>Java Runtime は、ブートストラップクラスパス、インストール型拡張機能、およびユーザークラスパスの 3 箇所から起動クラスと他の使用されているクラスを検索します。</p>

<p>クラス名または JAR ファイル名のあとにある、コマンド行オプション以外の引数は、<b>main</b> 関数に渡されます。</p>
  </blockquote>

<h2><a name="options" />オプション</h2>

  <blockquote><p>
起動ツールには、現在の実行環境および将来のリリースでサポートされる<a href="#standard">標準オプション</a>があります。また、仮想マシンの現在の実装では、<a href="#nonstandard">非標準オプション</a>のセットもサポートされます。 これは、将来のリリースで変更される可能性があります。</p>
  </blockquote>

<h2><a name="standard" id="standard">標準オプション</a></h2>

  <blockquote>
    <dl>
<dt><b>-client</b></dt>

      <dd>
<p>Java HotSpot Client VM を選択します。64 ビット対応 JDK は現時点では、このオプションを無視し、代わりに Java Hotspot Server VM を使用します。 </p>

<p>デフォルトの VM の選択については、<a href=         "../../guides/vm/server-class.html">「サーバー - クラスマシンの検出」</a>を参照してください。</p>
      </dd>

<dt><b>-server</b></dt>

      <dd>
<p>Java HotSpot Server VM を選択します。64 ビット対応 JDK 上では、サポートされるのは Java Hotspot Server VM だけであるため、-server オプションが暗黙的に選択されます。

</p><p>デフォルトの VM の選択については、<a href=         "../../guides/vm/server-class.html">「サーバー - クラスマシンの検出」</a>を参照してください。</p>
      </dd>

<dt><b>-agentlib:</b><i>libname[=options]</i></dt>

      <dd>
ネイティブエージェントライブラリ <i>libname</i> をロードします。 たとえば次のように指定します。

<p>-agentlib:hprof</p>

<p>-agentlib:jdwp=help</p>

<p>-agentlib:hprof=help</p>

<p>詳細については、<a href=         "../../../platform/jvmti/jvmti.html#starting">「JVMTI エージェントのコマンド行オプション」</a>を参照してください。</p>
      </dd>

<dt><b>-agentpath:</b><i>pathname[=options]</i></dt>

<dd>フルパス名を使用して、ネーティブエージェントライブラリをロードします。詳細については、<a href=       "../../../platform/jvmti/jvmti.html#starting">「JVMTI エージェントのコマンド行オプション」</a>を参照してください。</dd>

<dt><b>-classpath</b> <i>classpath</i></dt>

<dt><b>-cp</b> <i>classpath</i></dt>

      <dd>
クラスファイルを検索するディレクトリ、JAR アーカイブ、および ZIP アーカイブのリストを指定します。クラスパスの各エントリはコロン (<b>:</b>) で区切ります。<b>-classpath</b> または <b>-cp</b> を指定すると、このオプションの値によって <b>CLASSPATH</b> 環境変数の設定がオーバーライドされます。

<p><b>-classpath</b> も <b>-cp</b> も使用されず、<b>CLASSPATH</b> も設定されていない場合、ユーザークラスパスは現在のディレクトリ (<b><code>.</code></b>) になります。</p>
	
	<!-- ********** 11.15 classpath addition  -->
	
<p>便宜上、<code>*</code> のベース名を含むクラスパス要素は、ディレクトリ内の拡張子 <code>.jar</code> または <code>.JAR</code> を持つすべてのファイルのリストを指定するのと同じとみなされます (Java プログラムはこの 2 つの呼び出しを区別できない)。<br /><br />たとえば、ディレクトリ <code>foo</code> に <code>a.jar</code> と <code>b.JAR</code> が含まれている場合、クラスパス要素 <code>foo/*</code> は <code>A.jar:b.JAR</code> に展開されます。 ただし、JAR ファイルの順番は指定されません。このリストには、隠しファイルも含め、指定されたディレクトリ内のすべての JAR ファイルが含まれます。<code>*</code> だけから成るクラスパスエントリは、カレントディレクトリ内のすべての JAR ファイルのリストに展開されます。<code>CLASSPATH</code> 環境変数も、定義時には同様に展開されます。クラスパスのワイルドカード展開は必ず、Java 仮想マシンの起動前に実行されます。したがって、<tt>System.getenv(&quot;CLASSPATH&quot;)</tt> 呼び出しのように環境に問い合わせを行わない限り、Java プログラムが展開されていないワイルドカードを認識することはありません。
	
<!-- ************ end classpath ************* -->

</p><p>クラスパスの詳細は、<a href=         "../index.html#classpath">「クラスパスの設定」</a>を参照してください。</p>
      </dd>

<dt><b>-D</b><i>property</i><b>=</b><i>value</i></dt>

<dd>システムプロパティーの値を設定します。</dd>

<dt><b>-d32</b></dt>
<dt><b>-d64</b></dt>
      <dd>
それぞれ 32 ビット環境、64 ビット環境でプログラムを実行することを要求します。要求された環境がインストールされていないかサポートされていない場合は、エラーが報告されます。 
	
<p>現在のところ、Java HotSpot Server VM だけが 64 ビットの操作をサポートしており、-d64 を使用すると -server オプションが暗黙的に有効になります。したがって、-d64 使用時には「-client」オプションは無視されます。この仕様は、将来のリリースでは変更になる可能性があります。</p>

<p><b>-d32</b> と <b>-d64</b> がどちらも指定されていない場合は、デフォルトとして、32 ビット環境で実行されます。この仕様は、将来のリリースでは変更になる可能性があります。</p>
      </dd>

<dt><b>-enableassertions</b><i>[:&lt;package name&gt;&quot;...&quot;| :&lt;class name&gt; ]</i></dt>

<dt><b>-ea</b><i>[:&lt;package name&gt;&quot;...&quot;| :&lt;class name&gt; ]</i></dt>

      <dd>
アサーションを有効にします。アサーションは、デフォルトでは無効になっています。

<p>引数なしの <b>enableassertions</b> または <b>-ea</b> を指定すると、アサーションが有効になります。「<tt>...</tt>」で終わる引数を 1 つ指定すると、指定したパッケージとそのサブパッケージ内でアサーションが有効になります。引数として「<tt>...</tt>」だけを指定すると、現在の作業ディレクトリにある名前のないパッケージ内でアサーションが有効になります。「<tt>...</tt>」で終わらない引数を 1 つ指定すると、指定したクラス内でアサーションが有効になります。</p>

<p>単一コマンド行にこれらのスイッチのインスタンスを複数指定した場合は、指定したスイッチが順番に処理されてからクラスがロードされます。したがって、たとえば、パッケージ <tt>com.wombat.fruitbat</tt> (サブパッケージを含む) 内でのみアサーションを有効にしてプログラムを実行するには、次のようなコマンドを使用します。</p>
        <pre>
java -ea:com.wombat.fruitbat... &lt;Main Class&gt;
</pre>

<p><b>-enableassertions</b> および <b>-ea</b> スイッチは、すべてのクラスローダおよびシステムクラスに適用されます。 システムクラスにはクラスローダはありません。<i></i>ただし、この規則には例外が 1 つあります。それは、引数なしでこのスイッチを指定すると、その指定はシステムクラスには適用されない、ということです。<i></i>この例外を利用すれば、システムクラスを除くすべてのクラスでアサーションを簡単に有効にすることができます。すべてのシステムクラスでアサーションを有効にするために、別のスイッチが用意されています。 このあとの <b>-enablesystemassertions</b> を参照してください。</p>
      </dd>

<dt><b>-disableassertions</b><i>[:&lt;package name&gt;&quot;...&quot;| :&lt;class name&gt; ]</i></dt>

<dt><b>-da</b><i>[:&lt;package name&gt;&quot;...&quot;| :&lt;class name&gt; ]</i></dt>

      <dd>
アサーションを無効にします。これはデフォルトの設定です。

<p>引数なしの <b>disableassertions</b> または <b>-da</b> を指定すると、アサーションが無効になります。「<tt>...</tt>」で終わる引数を 1 つ指定すると、指定したパッケージとそのサブパッケージ内でアサーションが無効になります。引数として「<tt>...</tt>」だけを指定すると、現在の作業ディレクトリにある名前のないパッケージ内でアサーションが無効になります。「<tt>...</tt>」で終わらない引数を 1 つ指定すると、指定したクラス内でアサーションが無効になります。</p>

<p>パッケージ <tt>com.wombat.fruitbat</tt> 内ではアサーションを有効にし、クラス <tt>com.wombat.fruitbat.Brickbat</tt> 内ではアサーションを無効にしたうえで、プログラムを実行するには、次のようなコマンドを使用します。</p>
        <pre>
java -ea:com.wombat.fruitbat... -da:com.wombat.fruitbat.Brickbat &lt;Main Class&gt;
</pre>

<p><b>-disableassertions</b> および <b>-da</b> スイッチは、すべてのクラスローダおよびシステムクラスに適用されます。 システムクラスにはクラスローダはありません。<i></i>ただし、この規則には例外が 1 つあります。それは、引数なしでこのスイッチを指定すると、その指定はシステムクラスには適用されない、ということです。<i></i>この例外を利用すれば、システムクラスを除くすべてのクラスでアサーションを簡単に有効にすることができます。すべてのシステムクラスでアサーションを無効にするために、別のスイッチが用意されています。 このあとの <b>-disablesystemassertions</b> を参照してください。</p>
      </dd>

<dt><b>-enablesystemassertions</b></dt>

<dt><b>-esa</b></dt>

<dd>すべてのシステムクラス内でアサーションを有効にします。 つまり、システムクラスについてアサーションのデフォルトステータスを <tt>true</tt> に設定します。<i></i></dd>

<dt><b>-disablesystemassertions</b></dt>

<dt><b>-dsa</b></dt>

      <dd>
すべてのシステムクラス内でアサーションを無効にします。

        <p><a name="-jar"></a></p>
      </dd>

<dt><b>-jar</b></dt>

      <dd>
JAR ファイルにカプセル化されたプログラムを実行します。最初の引数は、起動クラスの名前ではなく、JAR ファイルの名前にします。このオプションが機能するには、JAR ファイルのマニフェストに<b>「Main-Class:<i>classname</i>」</b>という形式の行を指定する必要があります。<i>classname</i> には、アプリケーションの開始位置として機能する <tt>public&nbsp;static&nbsp;void&nbsp;main(String[]&nbsp;args)</tt> メソッドを含むクラスを指定します。JAR ファイルとそのマニフェストについては、<a href="jar.html">jar ツールのリファレンスページ</a>と、<a href=         "http://java.sun.com/docs/books/tutorial/jar">Java チュートリアル</a>の「Trail: Jar Files」を参照してください。

<p>このオプションを使用すると、指定した JAR ファイルがすべてのユーザークラスのソースになり、ユーザークラスパスのほかの設定は無視されます。</p>

<p>Solaris 8 では、「java -jar」オプションで実行できる JAR ファイルは、実行権限のセットを保持しています。 このため、「java -jar」を使用しないで実行することも可能です。<a href=         "../../guides/jar/index.html">Java Archive (JAR) ファイル</a>を参照してください。</p>
      </dd>

<dt><b>-javaagent:</b><i>jarpath[=options]</i></dt>

<dd>Java プログラミング言語エージェントをロードします。<a href=       "../../../api/java/lang/instrument/package-summary.html">java.lang.instrument</a> を参照してください。</dd>

<dt><b>-verbose</b></dt>

<dt><b>-verbose:class</b></dt>

<dd>クラスがロードされるたびにクラスに関する情報を表示します。</dd>

<dt><b>-verbose:gc</b></dt>

<dd>ガベージコレクションイベントが発生するたびに報告します。</dd>

<dt><b>-verbose:jni</b></dt>

<dd>ネイティブメソッドの使用およびその他の Java Native Interface (JNI) アクティビティーに関する情報を報告します。</dd>

<dt><b>-version</b></dt>

<dd>バージョン情報を表示して終了します。</dd>

<dt>
<b>-version:</b><i>release</i>
</dt>
<dd>
コマンド行に指定されたクラスまたは JAR ファイルが、<i>release</i> で指定されたバージョンを必要としていることを示します。起動された java コマンドのバージョンがこの指定内容を満たさず、かつ適切な実装がシステム上で見つかった場合には、その適切な実装が使用されます。
<p>
<i>release</i> では、特定のバージョンを指定できるだけでなく、バージョン文字列と呼ばれるバージョンのリストを指定することもできます。バージョン文字列は、いくつかのバージョン範囲を空白で区切った形式の順序付きリストです。バージョン範囲は、バージョン ID、バージョン ID の後にアスタリスク (*) を付加したもの、バージョン ID の後にプラス記号 (+) を付加したもの、2 つのバージョン範囲をアンパサンド (&amp;) で結合したもの、のいずれかになります。アスタリスクはプレフィックス一致を、プラス記号は指定されたバージョン以上を、アンパサンドは 2 つのバージョン範囲の論理積を、それぞれ意味します。例を示します。
</p><pre>
-version:"1.5.0_04 1.5*&1.5.1_02+"
</pre>
上記の意味は、バージョン 1.5.0_04、または 1.5.1_02 以上で 1.5 をバージョン ID プレフィックスとして持つバージョン、のいずれかをクラスまたは JAR ファイルが必要とする、ということです。 バージョン文字列の厳密な構文や定義については、「Java Network Launching Protocol &amp; API Specification (JSR-56)」の「Appendix A」を参照してください。
<p>
JAR ファイルの場合は通常、バージョン要件をコマンド行に指定するよりも、JAR ファイルのマニフェスト内に指定することが推奨されています。
</p><p>
このオプションの使用に関する重要なポリシー情報については、後述の「注」節を参照してください。
</p></dd>

<dt><b>-showversion</b></dt>

<dd>バージョン情報を表示して続行します。</dd>

      <dt><b>-?</b></dt>

<dt><b>-help</b></dt>

<dd>使用法を表示して終了します。</dd>

<dt><b>-X</b></dt>

<dd>非標準オプションに関する情報を表示して終了します。</dd>
    </dl>
  </blockquote>

<h3><a name="nonstandard" id="nonstandard">非標準オプション</a></h3>

  <blockquote>
    <dl>
<dt><b>-Xint</b></dt>

<dd>インタプリタ専用モードで動作します。ネイティブコードへのコンパイルは無効になり、すべてのバイトコードがインタプリタによって実行されます。Java HotSpot VM に対応するコンパイラが提供するパフォーマンス上の利点は、このモードでは実現されません。</dd>

<dt><b>-Xbatch</b></dt>

<dd>バックグラウンドコンパイルを無効にします。通常、VM では、バックグラウンドコンパイルが終了するまで、メソッドをバックグラウンドタスクとしてコンパイルし、インタプリタモードでメソッドを実行します。<tt>-Xbatch</tt> フラグを指定すると、バックグラウンドコンパイルが無効になり、すべてのメソッドのコンパイルが完了するまでフォアグラウンドタスクとして処理されます。</dd>

<dt><b>-Xbootclasspath:</b><i>bootclasspath</i></dt>

<dd>ブートクラスファイルを探すディレクトリ、JAR アーカイブ、および ZIP アーカイブをコロンで区切ったリストで指定します。指定したパスに存在するブートクラスファイルが、Java 2 SDK に含まれるブートクラスファイルの代わりに使用されます。<em>注: rt.jar 内のクラスをオーバーライドする目的でこのオプションを使用するアプリケーションは、システムに配置しないでください。Java 2 Runtime Environment バイナリコードライセンス違反になります。</em></dd>

<dt><b>-Xbootclasspath/a:</b><i>path</i></dt>

<dd>ディレクトリ、JAR アーカイブ、および ZIP アーカイブのパスをコロンで区切って指定します。 パスはデフォルトのブートストラップクラスパスのあとに追加されます。</dd>

<dt><b>-Xbootclasspath/p:</b><i>path</i></dt>

<dd>ディレクトリ、JAR アーカイブ、および ZIP アーカイブのパスをコロンで区切って指定します。 パスはデフォルトのブートストラップクラスパスの前に追加されます。<em>注 rt.jar 内のクラスをオーバーライドする目的でこのオプションを使用するアプリケーションは、システムに配置しないでください。Java 2 Runtime Environment バイナリコードライセンス違反になります。</em></dd>

<dt><b>-Xcheck:jni</b></dt>

<dd>Java Native Interface (JNI) 機能に対して追加チェックを行います。具体的には、Java 仮想マシンは JNI 要求を処理する前に、JNI 関数に渡されるパラメータと、実行環境のデータを検証します。無効なデータが見つかった場合は、ネイティブコードに問題があることを示しているため、Java 仮想マシンは致命的エラーを発生して終了します。このオプションを使用すると、パフォーマンス低下が予想されます。</dd>

<dt><b>-Xfuture</b></dt>

<dd>クラスとファイルの形式を厳密にチェックします。下位互換性を保つため、Java 2 SDK の仮想マシンが実行するデフォルトの形式チェックは、JDK ソフトウェアのバージョン 1.1.x が実行するチェックと同程度の厳密さになっています。<b>-Xfuture</b> フラグを指定すると、クラスファイル形式の仕様への準拠を強化するためのより厳密なチェックが有効になります。Java アプリケーション起動ツールの将来のリリースでは、より厳密なチェックがデフォルトになるため、新しいコードを開発するときにはこのフラグを使用することをお勧めします。</dd>

<dt><b>-Xnoclassgc</b></dt>

<dd>クラスのガベージコレクションを無効にします。このオプションを使用すると、ロード済みクラスからメモリーが回復されることがなくなるため、全体的なメモリー使用量が増大します。この場合、アプリケーションによっては OutOfMemoryError がスローされる可能性があります。</dd>

<dt><b>-Xincgc</b></dt>

<dd>インクリメンタルガーベジコレクタを有効にします。インクリメンタルガベージコレクタは、デフォルトでは無効になっています。 有効にすると、プログラムの実行中にガベージコレクションによる一時停止が発生しなくなります。インクリメンタルガベージコレクタは、プログラムと同時に実行することがあり、この場合、プログラムの利用できるプロセッサ能力が低下します。</dd>

<dt><b>-Xloggc:</b><i>file</i></dt>

      <dd>
-verbose:gc と同様にガベージコレクションイベントが発生するたびに報告しますが、そのデータを <i>file</i> に記録します。<tt>-verbose:gc</tt> を指定したときに報告される情報のほかに、報告される各イベントの先頭に、最初のガベージコレクションイベントからの経過時間 (秒単位) が付け加えられます。

<p>ネットワークの応答時間によって JVM の実行速度が低下するのを避けるため、このファイルの格納先は、常にローカルファイルシステムにしてください。ファイルシステムが満杯になると、ファイルは切り詰められ、そのファイルにデータが引き続き記録されます。このオプションと <tt>-verbose:gc</tt> の両方がコマンド行に指定されている場合は、このオプションが優先されます。</p>
      </dd>

      <dd>
        <p><a name="Xms" id="Xms"></a></p>
      </dd>

<dt><b>-Xms</b><i>n</i></dt>

      <dd>
メモリー割り当てプールの初期サイズをバイト数で指定します。指定する値は、1M バイトより大きい 1024 の倍数にしなければなりません。キロバイトを指定するには、文字 <tt>k</tt> または <tt>K</tt> を付けます。 メガバイトを指定するには、文字 <tt>m</tt> または <tt>M</tt> を付けます。デフォルト値は、実行時にシステムの設定に基づいて選択されます。詳細については、「<a href=../../guides/vm/gc-ergonomics.html>HotSpot Ergonomics</a>」を参照してください。<br /> 例:

        <blockquote>
          <pre>
       -Xms6291456
       -Xms6144k
       -Xms6m
       
</pre>
        </blockquote>
      </dd>

<dt><b>-Xmx</b><i>n</i></dt>

      <dd>
メモリー割り当てプールの最大サイズをバイト数で指定します。指定する値は、2M バイトより大きい 1024 の倍数にしなければなりません。キロバイトを指定するには、文字 <tt>k</tt> または <tt>K</tt> を付けます。 メガバイトを指定するには、文字 <tt>m</tt> または <tt>M</tt> を付けます。デフォルト値は、実行時にシステムの設定に基づいて選択されます。詳細については、「<a href=../../guides/vm/gc-ergonomics.html>HotSpot Ergonomics</a>」を参照してください。<br /> 例:

        <blockquote>
          <pre>
       -Xmx83886080
       -Xmx81920k
       -Xmx80m
       
</pre>
</blockquote>Solaris 7 および Solaris 8 SPARC プラットフォームの場合、この値の上限はおよそ 4000m からオーバーヘッドの量を引いたものであり、Solaris 2.6 および x86 プラットフォームの場合は 2000m からオーバーヘッドの量を引いたものです。Linux プラットフォームの場合の上限は、およそ 2000m からオーバーヘッドの量を引いたものです。
      </dd>

<dt><b>-Xprof</b></dt>

<dd>実行中のプログラムのプロファイルを生成し、プロファイリングデータを標準出力に出力します。このオプションは、プログラム開発用のユーティリティーとして提供されています。 本番稼動システムでの使用を目的としたものではありません。</dd>

<!--       <dt>       <b>-Xrunhprof</b>[:<i>help</i>][:<i>&lt;suboption&gt;=&lt;value&gt;,...</i>]</dt>        <dd>         Enables cpu, heap, or monitor profiling. This option is         typically followed by a list of comma-separated         "&lt;suboption&gt;=&lt;value&gt;" pairs. Run the command         <b>java&nbsp;-Xrunhprof:help</b> to obtain a list of         suboptions and their default values. -->

        <p><a name="Xrs" id="Xrs"></a></p>
      </dd>

<dt><b>-Xrs</b></dt>

      <dd>
Java 仮想マシン (JVM) によるオペレーティングシステムシグナルの使用を減らします。

<p>以前のリリースでは、Java アプリケーションを秩序正しくシャットダウンするためのシャットダウンフック機能が追加されました。この機能により、JVM が突然終了した場合でも、シャットダウン時にユーザークリーンアップコード (データベース接続のクローズなど) を実行できるようになりました。</p>

<p>Sun の JVM は、シグナルをキャッチすることによって、JVM の異常終了のためのシャットダウンフックを実装します。JVM は、SIGHUP、SIGINT、および SIGTERM を使用して、シャットダウンフックの実行を開始します。</p>

<p>JVM は、デバッグの目的でスレッドスタックをダンプするという、1.2 より前からある機能を実現するためにも、同様の機構を使用します。Sun の JVM は、スレッドダンプを実行するために SIGQUIT を使用します。</p>

<p>JVM を埋め込んでいるアプリケーションが SIGINT や SIGTERM などのシグナルを頻繁にトラップする必要があると、JVM そのもののシグナルハンドラの処理に支障が出る可能性があります。<b>-Xrs</b> コマンド行オプションを使用すると、この問題に対処できます。Sun の JVM に対して <b>-Xrs</b> を使用すると、SIGINT、SIGTERM、SIGHUP、および SIGQUIT に対するシグナルマスクは JVM によって変更されず、これらのシグナルに対するシグナルハンドラはインストールされません。</p>

<p><b>-Xrs</b> を指定した場合、次の 2 つの影響があります。</p>

        <ul>
<li>SIGQUIT によるスレッドダンプを利用できない</li>

<li>シャットダウンフック処理の実行は、JVM が終了しようとしている時点で System.exit() を呼び出すなどして、ユーザーコード側で行う必要がある</li>
        </ul>
      </dd>

<dt><b>-Xss</b><i>n</i></dt>

<dd>スレッドのスタックサイズを設定します。</dd>

<dt><b>-XX:+UseAltSigs</b></dt>

<dd>VM ではデフォルトで <tt>SIGUSR1</tt> および <tt>SIGUSR2</tt> を使用しますが、<tt>SIGUSR1</tt> および <tt>SIGUSR2</tt> をシグナル連鎖するアプリケーションと 競合する場合があります。<tt>-XX:+UseAltSigs</tt> オプションは、VM にデフォルトとして <tt>SIGUSR1</tt> と <tt>SIGUSR2</tt> 以外のシグナルを使用させます。</dd>
    </dl>
  </blockquote>

<h2><a name="notes" id="notes">注</a></h2>

<blockquote>
<b>-version:</b><i>release</i> コマンド行オプションでは、どんなに複雑にリリースを指定してもかまいません。ただし、現実的なリリース指定の限られたサブセットを使用するだけでも適切なポリシーを表現できるため、それらのサブセットのみが完全にサポートされます。それらのポリシーを次に示します。
<ol>
<p>
</p><li>
任意のバージョン。 これは、このオプションを使用しないことで表現できます。
</li>
<p>
</p><li>
ある特定のバージョン ID よりも大きい任意のバージョン。 次に例を示します。
<pre>
"1.5.0_03+"
</pre>
<p>
この場合、1.5.0_03 よりも大きい任意のバージョンが使用されます。 これは、指定されたバージョンで特定のインタフェースが導入された (あるいはそのバグが修正された) 場合に便利です。
</p></li>
<p>
</p><li>
ある特定のバージョン ID よりも大きいバージョン。 ただし、そのリリースファミリの上限によって制限するもの。例を示します。
<pre>
"1.5.0_03+&1.5*"
</pre>
</li>
<li>
上の項目 2 または 3 の「OR」表現。例を示します。
<pre>
"1.4.2_05+&1.4* 1.5+"
</pre>
これは項目 2 に似ていますが、ある変更が特定のリリース (1.5) で導入されたが、その同じ変更が以前のリリースのアップデートでも利用可能になった、という場合に便利です。
</li>
</ol>
</blockquote>

<h2><a name="seealso" id="seealso">関連項目</a></h2>

  <blockquote>
    <ul>
<li><a href="javac.html">「javac - Java プログラミング言語コンパイラ」</a></li>

<li><a href="jdb.html">「jdb - Java デバッガ」</a></li>

<li><a href="javah.html">javah - C ヘッダーとスタブファイルジェネレータ</a></li>

<li><a href="jar.html">「jar - JAR アーカイブツール」</a></li>

<li><a href="../../guides/extensions/index.html">「Java 拡張機能フレームワーク」</a></li>

<li><a href="../../guides/security/index.html">「セキュリティー」</a></li>

<li><a href="http://java.sun.com/docs/hotspot/VMOptions.html">「HotSpot VM Specific Options」</a></li>

    </ul>
  </blockquote>


<HR>
<TABLE summary="layout" BORDER="0" WIDTH="100%">
<TR VALIGN="TOP"><TD><P><FONT SIZE="-2">
<A HREF=../../../../legal/cpyr.html>Copyright &#169;</A> 1993, 2011, Oracle and/or its affiliates. All rights reserved.</FONT></P><FONT SIZE="-1"> Please send comments using this <a href=http://download.oracle.com/javase/feedback.html>Feedback</a> page.</FONT> </TD>
<TD ALIGN=RIGHT> <IMG SRC="../../../../images/oraclelogo.gif" ALT="Oracle Corporation and/or its affiliates" BORDER=0 WIDTH=100 HEIGHT=29><BR>
<FONT SIZE="+1"> <i>Java Technology</i></FONT> </TD></TR>
</TABLE> 

<!-- STATIC FOOTER -->

</body>
</html>
