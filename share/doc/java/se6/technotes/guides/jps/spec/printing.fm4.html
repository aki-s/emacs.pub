<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Java Print Service API User Guide: 4 - Printing and
Streaming Documents</title><link rel="stylesheet" href="../../../../technotes/css/guide.css" />
</head>
<body>
<!-- STATIC HEADER -->

<table width="100%"><tr><td valign="bottom" align="left"><img src="../../../../images/javalogo.gif"></td><td valign="bottom" align="right"><a href="../../../../index.html"><font size="-1">Documentation Contents</font></a></td></tr></table><table summary="layout" width="100%">
<tr>
<td>
<!-- Bug in Communicator w/font: NavBar text disappears for Times 14pt pref. -->
<!-- font size="-1" --><a href="JPSTOC.fm.html">CONTENTS</a> |
<a href="printing.fm3.html">PREV</a> | <a href=
"printing.fm5.html">NEXT</a> 
<!-- | <a href="jps_glossaryapp.fm.html">INDEX</a>  -->
<!-- /font --></td>
</tr>
</table>
<br />
<h2><a name="998347">Creating a Doc</a></h2>
<blockquote><a name="998501"><!-- --></a> To create a Doc you must
provide an implementation of the Doc interface. The Java Print
Service API provides a convenient implementation of Doc called
SimpleDoc. An application is not required to use the SimpleDoc
implementation, but to ensure compliance with Doc, any Doc
implementation must observe the same required semantics that
SimpleDoc implements, which are:</blockquote>
<blockquote>
<ul>
<li><a name="998573"><!-- --></a> Every Doc implemenation must
implement all five methods of the Doc interface.</li>
<li><a name="999027"><!-- --></a> The Doc implementation must allow
multiple threads to access the Doc object.</li>
<li><a name="999028"><!-- --></a> Every time a Doc method is
called, it returns the same object. This means you do not return a
new stream. Since there is only one input stream there can only be
one consumer of the Doc.</li>
<li><a name="999031"><!-- --></a> The Doc returns a stream for the
service if requested</li>
<li><a name="999032"><!-- --></a> The Doc checks if the data type
matches the doc flavor</li>
<li><a name="999049"><!-- --></a> The attributes returned from
getAttributes always override those passed in the print
method.</li>
</ul>
</blockquote>
<blockquote><a name="999060"><!-- --></a> Before creating a Doc,
you need to load your document from the file. The representation
class of the DocFlavor determines how you load the document from
the file. In this case, the representation class is an InputStream:
<p><a name="999062"><!-- --></a></p>
<pre>
   FileInputStream fis = new FileInputStream(&#34;java2dlogo.gif&#34;);
</pre>
<a name="999061"><!-- --></a> Once you have the stream, pass it to
SimpleDoc with the DocFlavor and a DocAttributeSet, ifi you have
one. If you don&#39;t have a DocAttributeSet, pass in null instead:
<p><a name="999074"><!-- --></a></p>
<pre>
   Doc doc = new SimpleDoc(fis, flavor, null);
</pre>
<a name="999073"><!-- --></a> See <a href=
"appendix_printGIF.fm.html#7083"><em>Example:
PrintGIF.java</em></a> for an example of a custom Doc
implementation.
<p><a name="1000443"><!-- --></a> The next section demonstrates how
to register for events on your print job or service.</p>
</blockquote>
<br />
<!-- Bug in Communicator w/font: NavBar text disappears for Times 14pt pref. -->
<!-- font size="-1" --> <a href="JPSTOC.fm.html">CONTENTS</a> |
<a href="printing.fm3.html">PREV</a> | <a href=
"printing.fm5.html">NEXT</a> 
<!-- | <a href="jps_glossaryapp.fm.html">INDEX</a>  -->
<!-- /font -->

<HR>
<TABLE summary="layout" BORDER="0" WIDTH="100%">
<TR VALIGN="TOP"><TD><P><FONT SIZE="-2">
<A HREF=../../../../legal/cpyr.html>Copyright &#169;</A> 1993, 2011, Oracle and/or its affiliates. All rights reserved.</FONT></P><FONT SIZE="-1"> Please send comments using this <a href=http://download.oracle.com/javase/feedback.html>Feedback</a> page.</FONT> </TD>
<TD ALIGN=RIGHT> <IMG SRC="../../../../images/oraclelogo.gif" ALT="Oracle Corporation and/or its affiliates" BORDER=0 WIDTH=100 HEIGHT=29><BR>
<FONT SIZE="+1"> <i>Java Technology</i></FONT> </TD></TR>
</TABLE> 

<!-- STATIC FOOTER -->

</body>
</html>
