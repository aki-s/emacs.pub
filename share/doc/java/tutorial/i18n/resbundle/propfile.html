<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    

<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Backing a ResourceBundle with Properties Files (The Java&trade; Tutorials &gt;        
            Internationalization &gt; Isolating Locale-Specific Data)
</title>

     <meta name="description" content="This internationalization Java tutorial describes setting locale, isolating locale-specific data, formatting data, internationalized domain name and resource identifier" />
     <meta name="keywords" content="java programming, learn java, java sample code, i18n, internationalization, locale, text formatting" />
        
<style type="text/css">
    .FigureCaption   { 
        margin-left: 1in; 
        margin-right: 1in; 
        font-family: sans-serif; 
        font-size: smaller; 
        text-align: justify;
    }
    #TopBar_bl {
        background: url(../../images/java_bar_bl.gif) 0 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        background: url(../../images/java_bar_br.gif) 100% 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        background: url(../../images/java_bar_tl.gif) 0 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tr {
        background: url(../../images/java_bar_tr.gif) 100% 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar {
        background: #35556B url(../../images/java_bar.gif);
        margin: 10px 10px 0 10px;
        height:60px;
        min-width:700px;
        color: white;
        font-family: sans-serif; 
        font-weight: bold;
    }
    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    #TopBar_right {
        line-height: 14px;
        float: right;
        padding-top: 2px;
        padding-right: 30px;
        text-align: left;
    }
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 12px;
        margin: 3px;
        padding: 0;
    }
    #TopBar a:visited, #TopBar a:link {
        color: white;
        text-decoration: none;
    }
    #TopBar a:hover, #TopBar a:active  {
        background-color: white;
        color: #35556B;
    }
    #BreadCrumbs {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    #BreadCrumbs a {
        color: blue;
    }
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #F90000;
    }    
    #PageContent{
        margin: 0 5px 0 20px;
    }
    .LeftBar_shown {
        width: 13em;
        float: left;
        margin-left: 10px;
        margin-top: 4px;
        margin-bottom: 2em;
        margin-right: 10px;
    }
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    .LeftBar_hidden {
        display: none;
    }
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    
    .footertext {
        font-size: 10px;
        font-family: sans-serif; 
        margin-top: 1px;
    }
    
    #Footer2 {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    .NavBit  {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    @media print {
        .NavBit {
            display: none;
        }
    }
    #TagNotes {
        text-align: right;        
    }
    
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    #Contents a, .NavBit a, #TagNotes a {
        color: blue
    }
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #F90000;
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h1, h2, h3, h4, h5 {
        color: #F90000;
        font-family: sans-serif;
    }

    h1 {
        font-weight: bold;
        font-size: 20px;
    }

    h2 {
        font-weight: bold;
        font-size: 17px;
    }

    h3 {
        font-weight: bold;
        font-size: 14px;
    }

    h4 {
        font-size: 15px;
    }

    h5 {
        font-size: 12px;
    }


    #ToggleLeft {
        display: none;
    }
    
    .note {
        margin: 0 30px 0px 30px;
    }
    
    .codeblock {
        margin: 0 30px 0px 30px;
    }
    
    .tocli {
        list-style-type:none;
    }

    .betadraft {
        color: red;
    }
</style>
<script type="text/javascript">
/* <![CDATA[ */
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }

    function showCode(displayCodePage, codePath) {
        var codePathEls = codePath.split("/");
        var currDocPathEls = location.href.split("/");
        //alert ("codePathEls = " + codePathEls + "\n" + "currDocPathEls = " + currDocPathEls);
        currDocPathEls.pop(); // remove file name at the end
        while (codePathEls.length > 0) {
            if (codePathEls[0] == "..") {
                codePathEls.shift();
                currDocPathEls.pop();
            } else {
                break;
            }
        }
        var fullCodePath = currDocPathEls.join("/") + "/" + codePathEls.join("/");
        //alert ("fullCodePath = " + fullCodePath );
        if (codePath.indexOf(".java") != -1 || codePath.indexOf(".jnlp") != -1) {
            window.location.href = displayCodePage + "?code=" + encodeURI(fullCodePath);
        } else {
            window.location.href = fullCodePath;
        }
    }
/* ]]> */    
</script>


    </head>
<body onload="load()">
    <noscript>
        A browser with JavaScript enabled is required for this page to operate properly.
    </noscript>

    <div id="TopBar"> <div id="TopBar_tr"> <div id="TopBar_tl"> <div id="TopBar_br"> <div id="TopBar_bl"> 
                        <div id="TopBar_right"> 
                            <a target="_blank"
				href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">Download Ebooks</a><br />
                            <a target="_blank"
                                href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Download JDK</a>
                            <br />
                            <a href="../../search.html" target="_blank">Search Java Tutorials</a>
                            <br />
                            <a href="javascript:toggleLeft()"
                                id="ToggleLeft">Hide TOC</a>
                        </div>
                    </div> </div> </div> </div> </div>
    <div class="PrintHeaders">
        <b>Trail:</b> Internationalization
        <br /><b>Lesson:</b> Isolating Locale-Specific Data
    </div>

    <div id="LeftBar" class="LeftBar_shown">
        <div id="Contents">
            <div class="linkLESSON"><a href="index.html">Isolating Locale-Specific Data</a></div>
<div class="linkAHEAD"><a href="concept.html">About the ResourceBundle Class</a></div>
<div class="linkAHEAD"><a href="prepare.html">Preparing to Use a ResourceBundle</a></div>
<div class="nolinkAHEAD">Backing a ResourceBundle with Properties Files</div>
<div class="linkAHEAD"><a href="list.html">Using a ListResourceBundle</a></div>
<div class="linkAHEAD"><a href="control.html">Customizing Resource Bundle Loading</a></div>
</div>
    </div>
    <div id="MainFlow" class="MainFlow_indented">
            <span id="BreadCrumbs">
                <a href="../../index.html" target="_top">Home Page</a>
                &gt;
                <a href="../index.html" target="_top">Internationalization</a>
                &gt;
                <a href="index.html" target="_top">Isolating Locale-Specific Data</a>
            </span>
            <div class="NavBit">
                <a target="_top" href="prepare.html">&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target="_top" href="../TOC.html">Trail</a>&nbsp;&bull;&nbsp;<a target="_top" href="list.html">Next&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle"><h1>Backing a ResourceBundle with Properties Files</h1></div>
            <div id="PageContent">

<p>This section steps through a sample program named 
<a class="SourceLink" target="_blank" href="examples/PropertiesDemo.java" onclick="showCode('../../displayCode.html', 'examples/PropertiesDemo.java'); return false;"><code><code>PropertiesDemo</code></code></a>.</p>
<h2>1. Create the Default Properties File</h2>
<p>A properties file is a simple text file. You can create and maintain a properties file with just about any text editor.</p>
<p>You should always create a default properties file. The name of this file begins with the base name of your <code>ResourceBundle</code> and ends with the <code>.properties</code> suffix. In the <code>PropertiesDemo</code> program the base name is <code>LabelsBundle</code>. Therefore the default properties file is called <code>LabelsBundle.properties</code>. This file contains the following lines:</p>
<div class="codeblock"><pre>
# This is the default LabelsBundle.properties file
s1 = computer
s2 = disk
s3 = monitor
s4 = keyboard
</pre></div>
<p>Note that in the preceding file the comment lines begin with a pound sign (#). The other lines contain key-value pairs. The key is on the left side of the equal sign and the value is on the right. For instance, <code>s2</code> is the key that corresponds to the value <code>disk</code>. The key is arbitrary. We could have called <code>s2</code> something else, like <code>msg5</code> or <code>diskID</code>. Once defined, however, the key should not change because it is referenced in the source code. The values may be changed. In fact, when your localizers create new properties files to accommodate additional languages, they will translate the values into various languages.</p>
<h2>2. Create Additional Properties Files as Needed</h2>
<p>To support an additional <code>Locale</code>, your localizers will create a new properties file that contains the translated values. No changes to your source code are required, because your program references the keys, not the values.</p>
<p>For example, to add support for the German language, your localizers would translate the values in <code>LabelsBundle.properties</code> and place them in a file named <code>LabelsBundle_de.properties</code>. Notice that the name of this file, like that of the default file, begins with the base name <code>LabelsBundle</code> and ends with the <code>.properties</code> suffix. However, since this file is intended for a specific <code>Locale</code>, the base name is followed by the language code (<code>de</code>). The contents of <code>LabelsBundle_de.properties</code> are as follows:</p>
<div class="codeblock"><pre>
# This is the LabelsBundle_de.properties file
s1 = Computer
s2 = Platte
s3 = Monitor
s4 = Tastatur
</pre></div>
<p>The <code>PropertiesDemo</code> sample program ships with three properties files:</p>
<div class="codeblock"><pre>
LabelsBundle.properties
LabelsBundle_de.properties
LabelsBundle_fr.properties
</pre></div>
<h2>3. Specify the Locale</h2>
<p>The <code>PropertiesDemo</code> program creates the <code>Locale</code> objects as follows:</p>
<div class="codeblock"><pre>
Locale[] supportedLocales = {
    Locale.FRENCH,
    Locale.GERMAN,
    Locale.ENGLISH
};
</pre></div>
<p>These <code>Locale</code> objects should match the properties files created in the previous two steps. For example, the <code>Locale.FRENCH</code> object corresponds to the <code>LabelsBundle_fr.properties</code> file. The <code>Locale.ENGLISH</code> has no matching <code>LabelsBundle_en.properties</code> file, so the default file will be used.</p>
<h2>4. Create the ResourceBundle</h2>
<p>This step shows how the <code>Locale</code>, the properties files, and the <code>ResourceBundle</code> are related. To create the <code>ResourceBundle</code>, invoke the <code>getBundle</code>method, specifying the base name and <code>Locale</code>:</p>
<div class="codeblock"><pre>
ResourceBundle labels = ResourceBundle.getBundle("LabelsBundle", currentLocale);
</pre></div>
<p>The <code>getBundle</code> method first looks for a class file that matches the base name and the <code>Locale</code>. If it can&#39;t find a class file, it then checks for properties files. In the <code>PropertiesDemo</code> program we&#39;re backing the <code>ResourceBundle</code> with properties files instead of class files. When the <code>getBundle</code> method locates the correct properties file, it returns a <code>PropertyResourceBundle</code> object containing the key-value pairs from the properties file.</p>
<h2>5. Fetch the Localized Text</h2>
<p>To retrieve the translated value from the <code>ResourceBundle</code>, invoke the <code>getString</code> method as follows:</p>
<div class="codeblock"><pre>
String value = labels.getString(key);
</pre></div>
<p>The <code>String</code> returned by <code>getString</code> corresponds to the key specified. The <code>String</code> is in the proper language, provided that a properties file exists for the specified <code>Locale</code>.</p>
<h2>6. Iterate through All the Keys</h2>
<p>This step is optional. When debugging your program, you might want to fetch values for all of the keys in a <code>ResourceBundle</code>. The <code>getKeys</code> method returns an <code>Enumeration</code> of all the keys in a <code>ResourceBundle</code>. You can iterate through the <code>Enumeration</code> and fetch each value with the <code>getString</code> method. The following lines of code, which are from the <code>PropertiesDemo</code> program, show how this is done:</p>
<div class="codeblock"><pre>
ResourceBundle labels = ResourceBundle.getBundle("LabelsBundle", currentLocale);
Enumeration bundleKeys = labels.getKeys();

while (bundleKeys.hasMoreElements()) {
    String key = (String)bundleKeys.nextElement();
    String value = labels.getString(key);
    System.out.println("key = " + key + ", " + "value = " + value);
}
</pre></div>
<h2>7. Run the Demo Program</h2>
<p>Running the <code>PropertiesDemo</code> program generates the following output. The first three lines show the values returned by <code>getString</code> for various <code>Locale</code> objects. The program displays the last four lines when iterating through the keys with the <code>getKeys</code> method.</p>
<div class="codeblock"><pre>
Locale = fr, key = s2, value = Disque dur
Locale = de, key = s2, value = Platte
Locale = en, key = s2, value = disk

key = s4, value = Clavier
key = s3, value = Moniteur
key = s2, value = Disque dur
key = s1, value = Ordinateur
</pre></div>


        </div>
        <div class="NavBit">
            <a target="_top" href="prepare.html">&laquo; Previous</a>
            &bull;
            <a target="_top" href="../TOC.html">Trail</a>
            &bull;
            <a target="_top" href="list.html">Next &raquo;</a>
        </div>
    </div>
    <div id="Footer2">
<hr />
<div id="TagNotes">
    <p class="footertext">Problems with the examples? Try <a target="_blank"
        href="../../information/run-examples.html">Compiling and Running
        the Examples: FAQs</a>.
    <br />
    Complaints? Compliments? Suggestions? <a target="_blank"
        href="http://docs.oracle.com/javase/feedback.html">Give
    us your feedback</a>.
    </p>
</div> 

<div id="Footer">
<p class="footertext"><a name="license_info">Your use of this</a> page and all the material on pages under &quot;The Java Tutorials&quot; banner 
 is subject to these <a href="../../information/cpyr.html">legal notices</a>.
</p>
<table border="0" cellspacing="0" cellpadding="5" summary="">
    <tr>
         <td width="20%">
	 <table width="100%" border="0" cellspacing="0" cellpadding="5">
            <tr>
              <td headers="h1" align="center"><img id="duke" src="../../images/DukeWave.gif" width="55" height="55" alt="duke image" /></td>
              <td headers="h2" align="left" valign="middle"><img id="oracle" src="../../images/logo_oracle_footer.gif" width="100" height="29" alt="Oracle logo" /></td>
           </tr>
          </table>
          </td>

          <td width="55%" valign="middle" align="center">
		<p class="footertext"><a href="http://www.oracle.com/us/corporate/index.html">About Oracle</a> | <a href="http://www.oracle.com/technology/index.html">Oracle Technology Network</a> | <a href="http://www.oracle.com/us/legal/terms/index.html">Terms of Use</a></p> 
	 </td>
          <td width="25%" valign="middle" align="right">
      		<p class="footertext">Copyright &copy; 1995, 2013 Oracle and/or its affiliates. All rights reserved.</p>
	 </td>
     </tr>     
</table>
</div>
    </div>
    <div class="PrintHeaders">
        <b>Previous page:</b> Preparing to Use a ResourceBundle
        <br /><b>Next page:</b> Using a ListResourceBundle
    </div>
</body>
</html> 
