<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    

<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Managing Metadata (File and File Store Attributes) (The Java&trade; Tutorials &gt;        
            Essential Classes &gt; Basic I/O)
</title>

     <meta name="description" content="This Java tutorial describes exceptions, basic input/output, concurrency, regular expressions, and the platform environment" />
     <meta name="keywords" content="java programming, learn java, java sample code, java exception, java input output, java threads, java regex, regular expressions, path, classpath, environment variable" />
        
<style type="text/css">
    .FigureCaption   { 
        margin-left: 1in; 
        margin-right: 1in; 
        font-family: sans-serif; 
        font-size: smaller; 
        text-align: justify;
    }
    #TopBar_bl {
        background: url(../../images/java_bar_bl.gif) 0 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        background: url(../../images/java_bar_br.gif) 100% 100% no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        background: url(../../images/java_bar_tl.gif) 0 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar_tr {
        background: url(../../images/java_bar_tr.gif) 100% 0 no-repeat;
        width: 100%;
        height: 60px;
    }
    #TopBar {
        background: #35556B url(../../images/java_bar.gif);
        margin: 10px 10px 0 10px;
        height:60px;
        min-width:700px;
        color: white;
        font-family: sans-serif; 
        font-weight: bold;
    }
    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    #TopBar_right {
        line-height: 14px;
        float: right;
        padding-top: 2px;
        padding-right: 30px;
        text-align: left;
    }
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 12px;
        margin: 3px;
        padding: 0;
    }
    #TopBar a:visited, #TopBar a:link {
        color: white;
        text-decoration: none;
    }
    #TopBar a:hover, #TopBar a:active  {
        background-color: white;
        color: #35556B;
    }
    #BreadCrumbs {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    #BreadCrumbs a {
        color: blue;
    }
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #F90000;
    }    
    #PageContent{
        margin: 0 5px 0 20px;
    }
    .LeftBar_shown {
        width: 13em;
        float: left;
        margin-left: 10px;
        margin-top: 4px;
        margin-bottom: 2em;
        margin-right: 10px;
    }
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    .LeftBar_hidden {
        display: none;
    }
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    
    .footertext {
        font-size: 10px;
        font-family: sans-serif; 
        margin-top: 1px;
    }
    
    #Footer2 {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;
    }
    .NavBit  {
        padding: 4px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    @media print {
        .NavBit {
            display: none;
        }
    }
    #TagNotes {
        text-align: right;        
    }
    
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    #Contents a, .NavBit a, #TagNotes a {
        color: blue
    }
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #F90000;
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h1, h2, h3, h4, h5 {
        color: #F90000;
        font-family: sans-serif;
    }

    h1 {
        font-weight: bold;
        font-size: 20px;
    }

    h2 {
        font-weight: bold;
        font-size: 17px;
    }

    h3 {
        font-weight: bold;
        font-size: 14px;
    }

    h4 {
        font-size: 15px;
    }

    h5 {
        font-size: 12px;
    }


    #ToggleLeft {
        display: none;
    }
    
    .note {
        margin: 0 30px 0px 30px;
    }
    
    .codeblock {
        margin: 0 30px 0px 30px;
    }
    
    .tocli {
        list-style-type:none;
    }

    .betadraft {
        color: red;
    }
</style>
<script type="text/javascript">
/* <![CDATA[ */
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }

    function showCode(displayCodePage, codePath) {
        var codePathEls = codePath.split("/");
        var currDocPathEls = location.href.split("/");
        //alert ("codePathEls = " + codePathEls + "\n" + "currDocPathEls = " + currDocPathEls);
        currDocPathEls.pop(); // remove file name at the end
        while (codePathEls.length > 0) {
            if (codePathEls[0] == "..") {
                codePathEls.shift();
                currDocPathEls.pop();
            } else {
                break;
            }
        }
        var fullCodePath = currDocPathEls.join("/") + "/" + codePathEls.join("/");
        //alert ("fullCodePath = " + fullCodePath );
        if (codePath.indexOf(".java") != -1 || codePath.indexOf(".jnlp") != -1) {
            window.location.href = displayCodePage + "?code=" + encodeURI(fullCodePath);
        } else {
            window.location.href = fullCodePath;
        }
    }
/* ]]> */    
</script>


    </head>
<body onload="load()">
    <noscript>
        A browser with JavaScript enabled is required for this page to operate properly.
    </noscript>

    <div id="TopBar"> <div id="TopBar_tr"> <div id="TopBar_tl"> <div id="TopBar_br"> <div id="TopBar_bl"> 
                        <div id="TopBar_right"> 
                            <a target="_blank"
				href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-7-tutorial-2012-02-28-1536013.html">Download Ebooks</a><br />
                            <a target="_blank"
                                href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Download JDK</a>
                            <br />
                            <a href="../../search.html" target="_blank">Search Java Tutorials</a>
                            <br />
                            <a href="javascript:toggleLeft()"
                                id="ToggleLeft">Hide TOC</a>
                        </div>
                    </div> </div> </div> </div> </div>
    <div class="PrintHeaders">
        <b>Trail:</b> Essential Classes
        <br /><b>Lesson:</b> Basic I/O
        <br /><b>Section:</b> File I/O (Featuring NIO.2)
    </div>

    <div id="LeftBar" class="LeftBar_shown">
        <div id="Contents">
            <div class="linkLESSON"><a href="index.html">Basic I/O</a></div>
<div class="linkAHEAD"><a href="streams.html">I/O Streams</a></div>
<div class="linkBHEAD"><a href="bytestreams.html">Byte Streams</a></div>
<div class="linkBHEAD"><a href="charstreams.html">Character Streams</a></div>
<div class="linkBHEAD"><a href="buffers.html">Buffered Streams</a></div>
<div class="linkBHEAD"><a href="scanfor.html">Scanning and Formatting</a></div>
<div class="linkCHEAD"><a href="scanning.html">Scanning</a></div>
<div class="linkCHEAD"><a href="formatting.html">Formatting</a></div>
<div class="linkBHEAD"><a href="cl.html">I/O from the Command Line</a></div>
<div class="linkBHEAD"><a href="datastreams.html">Data Streams</a></div>
<div class="linkBHEAD"><a href="objectstreams.html">Object Streams</a></div>
<div class="linkAHEAD"><a href="fileio.html">File I/O (Featuring NIO.2)</a></div>
<div class="linkBHEAD"><a href="path.html">What Is a Path? (And Other File System Facts)</a></div>
<div class="linkBHEAD"><a href="pathClass.html">The Path Class</a></div>
<div class="linkCHEAD"><a href="pathOps.html">Path Operations</a></div>
<div class="linkBHEAD"><a href="fileOps.html">File Operations</a></div>
<div class="linkBHEAD"><a href="check.html">Checking a File or Directory</a></div>
<div class="linkBHEAD"><a href="delete.html">Deleting a File or Directory</a></div>
<div class="linkBHEAD"><a href="copy.html">Copying a File or Directory</a></div>
<div class="linkBHEAD"><a href="move.html">Moving a File or Directory</a></div>
<div class="nolinkBHEAD">Managing Metadata (File and File Store Attributes)</div>
<div class="linkBHEAD"><a href="file.html">Reading, Writing, and Creating Files</a></div>
<div class="linkBHEAD"><a href="rafs.html">Random Access Files</a></div>
<div class="linkBHEAD"><a href="dirs.html">Creating and Reading Directories</a></div>
<div class="linkBHEAD"><a href="links.html">Links, Symbolic or Otherwise</a></div>
<div class="linkBHEAD"><a href="walk.html">Walking the File Tree</a></div>
<div class="linkBHEAD"><a href="find.html">Finding Files</a></div>
<div class="linkBHEAD"><a href="notification.html">Watching a Directory for Changes</a></div>
<div class="linkBHEAD"><a href="misc.html">Other Useful Methods</a></div>
<div class="linkBHEAD"><a href="legacy.html">Legacy File I/O Code</a></div>
<div class="linkAHEAD"><a href="summary.html">Summary</a></div>
<div class="linkQUESTIONS"><a href="QandE/questions.html">Questions and Exercises</a></div>
</div>
    </div>
    <div id="MainFlow" class="MainFlow_indented">
            <span id="BreadCrumbs">
                <a href="../../index.html" target="_top">Home Page</a>
                &gt;
                <a href="../index.html" target="_top">Essential Classes</a>
                &gt;
                <a href="index.html" target="_top">Basic I/O</a>
            </span>
            <div class="NavBit">
                <a target="_top" href="move.html">&laquo;&nbsp;Previous</a>&nbsp;&bull;&nbsp;<a target="_top" href="../TOC.html">Trail</a>&nbsp;&bull;&nbsp;<a target="_top" href="file.html">Next&nbsp;&raquo;</a>
            </div>
            <div id="PageTitle"><h1>Managing Metadata (File and File Store Attributes)</h1></div>
            <div id="PageContent">

<!-- Managing Metadata (File and File Store Attributes) -->
<p>The definition of <em>metadata</em> is &quot;data about other data.&quot; With a file system, the data is contained in its files and directories, and the metadata tracks information about each of these objects: Is it a regular file, a directory, or a link? What is its size, creation date, last modified date, file owner, group owner, and access permissions?</p>
<p>A file system&#39;s metadata is typically referred to as its <em>file attributes</em>. The <code>Files</code> class includes methods that can be used to obtain a single attribute of a file, or to set an attribute.</p>
<table border="1" cellspacing="2" cellpadding="4" summary="This table shows some methods for the Files class">
<tr>
<th id="h1">Methods</th>
<th id="h2">Comment</th>
</tr>
<tr>
<td headers="h1">
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#size(java.nio.file.Path)"><code>size(Path)</code></a></td>
<td headers="h2">Returns the size of the specified file in bytes.</td>
</tr>
<tr>
<td headers="h1">
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#isDirectory(java.nio.file.Path, java.nio.file.LinkOption...)"><code>isDirectory(Path, LinkOption)</code></a></td>
<td headers="h2">Returns true if the specified <code>Path</code> locates a file that is a directory.</td>
</tr>
<tr>
<td headers="h1">
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#isRegularFile(java.nio.file.Path, java.nio.file.LinkOption...)"><code>isRegularFile(Path, LinkOption...)</code></a></td>
<td headers="h2">Returns true if the specified <code>Path</code> locates a file that is a regular file.</td>
</tr>
<tr>
<td headers="h1">
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#isSymbolicLink(java.nio.file.Path)"><code>isSymbolicLink(Path)</code></a></td>
<td headers="h2">Returns true if the specified <code>Path</code> locates a file that is a symbolic link.</td>
</tr>
<tr>
<td headers="h1">
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#isHidden(java.nio.file.Path)"><code>isHidden(Path)</code></a></td>
<td headers="h2">Returns true if the specified <code>Path</code> locates a file that is considered hidden by the file system.</td>
</tr>
<tr>
<td headers="h1">
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#getLastModifiedTime(java.nio.file.Path, java.nio.file.LinkOption...)"><code>getLastModifiedTime(Path, LinkOption...)</code></a><br />
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#setLastModifiedTime(java.nio.file.Path, java.nio.file.attribute.FileTime)"><code>setLastModifiedTime(Path, FileTime)</code></a></td>
<td headers="h2">Returns or sets the specified file&#39;s last modified time.</td>
</tr>
<tr>
<td headers="h1">
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#getOwner(java.nio.file.Path, java.nio.file.LinkOption...)"><code>getOwner(Path, LinkOption...)</code></a><br />
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#setOwner(java.nio.file.Path, java.nio.file.attribute.UserPrincipal)"><code>setOwner(Path, UserPrincipal)</code></a></td>
<td headers="h2">Returns or sets the owner of the file.</td>
</tr>
<tr>
<td headers="h1">
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#getPosixFilePermissions(java.nio.file.Path, java.nio.file.LinkOption...)"><code>getPosixFilePermissions(Path, LinkOption...)</code></a><br />
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#setPosixFilePermissions(java.nio.file.Path, java.util.Set)"><code>setPosixFilePermissions(Path, Set&lt;PosixFilePermission&gt;)</code></a></td>
<td headers="h2">Returns or sets a file&#39;s POSIX file permissions.</td>
</tr>
<tr>
<td headers="h1">
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#getAttribute(java.nio.file.Path, java.lang.String, java.nio.file.LinkOption...)"><code>getAttribute(Path, String, LinkOption...)</code></a><br />
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#setAttribute(java.nio.file.Path, java.lang.String, java.lang.Object, java.nio.file.LinkOption...)"><code>setAttribute(Path, String, Object, LinkOption...)</code></a></td>
<td headers="h2">Returns or sets the value of a file attribute.</td>
</tr>
</table>
<p>If a program needs multiple file attributes around the same time, it can be inefficient to use methods that retrieve a single attribute. Repeatedly accessing the file system to retrieve a single attribute can adversely affect performance. For this reason, the <code>Files</code> class provides two <code>readAttributes</code> methods to fetch a file&#39;s attributes in one bulk operation.</p>
<table border="1" cellspacing="2" cellpadding="4" summary="This table shows some the readAttributes methods for the Files class">
<tr>
<th id="h101">Method</th>
<th id="h102">Comment</th>
</tr>
<tr>
<td headers="h101">
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAttributes(java.nio.file.Path, java.lang.String, java.nio.file.LinkOption...)"><code>readAttributes(Path, String, LinkOption...)</code></a></td>
<td headers="h102">Reads a file&#39;s attributes as a bulk operation. The <code>String</code> parameter identifies the attributes to be read.</td>
</tr>
<tr>
<td headers="h101">
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAttributes(java.nio.file.Path, java.lang.Class, java.nio.file.LinkOption...)"><code>readAttributes(Path, Class&lt;A&gt;, LinkOption...)</code></a></td>
<td headers="h102">Reads a file&#39;s attributes as a bulk operation. The <code>Class&lt;A&gt;</code> parameter is the type of attributes requested and the method returns an object of that class.</td>
</tr>
</table>
<p>Before showing examples of the <code>readAttributes</code> methods, it should be mentioned that different file systems have different notions about which attributes should be tracked. For this reason, related file attributes are grouped together into views. A <em>view</em> maps to a particular file system implementation, such as POSIX or DOS, or to a common functionality, such as file ownership.</p>
<p>The supported views are as follows:</p>
<ul>
<li>
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/BasicFileAttributeView.html"><code>BasicFileAttributeView</code></a> &ndash; Provides a view of basic attributes that are required to be supported by all file system implementations.</li>
<li>
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/DosFileAttributeView.html"><code>DosFileAttributeView</code></a> &ndash; Extends the basic attribute view with the standard four bits supported on file systems that support the DOS attributes.</li>
<li>
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/PosixFileAttributeView.html"><code>PosixFileAttributeView</code></a> &ndash; Extends the basic attribute view with attributes supported on file systems that support the POSIX family of standards, such as UNIX. These attributes include file owner, group owner, and the nine related access permissions.</li>
<li>
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/FileOwnerAttributeView.html"><code>FileOwnerAttributeView</code></a> &ndash; Supported by any file system implementation that supports the concept of a file owner.</li>
<li>
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/AclFileAttributeView.html"><code>AclFileAttributeView</code></a> &ndash; Supports reading or updating a file&#39;s Access Control Lists (ACL). The NFSv4 ACL model is supported. Any ACL model, such as the Windows ACL model, that has a well-defined mapping to the NFSv4 model might also be supported.</li>
<li>
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/UserDefinedFileAttributeView.html"><code>UserDefinedFileAttributeView</code></a> &ndash; Enables support of metadata that is user defined. This view can be mapped to any extension mechanisms that a system supports. In the Solaris OS, for example, you can use this view to store the MIME type of a file.</li>
</ul>
<p>A specific file system implementation might support only the basic file attribute view, or it may support several of these file attribute views. A file system implementation might support other attribute views not included in this API.</p>
<p>In most instances, you should not have to deal directly with any of the <code>FileAttributeView</code> interfaces. (If you do need to work directly with the <code>FileAttributeView</code>, you can access it via the 
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#getFileAttributeView(java.nio.file.Path,%20java.lang.Class,%20java.nio.file.LinkOption...)"><code>getFileAttributeView(Path, Class&lt;V&gt;, LinkOption...)</code></a> method.)</p>
<p>The <code>readAttributes</code> methods use generics and can be used to read the attributes for any of the file attributes views. The examples in the rest of this page use the <code>readAttributes</code> methods.</p>
<p>The remainder of this section covers the following topics:</p>
<ul>
<li><a href="#basic">Basic File Attributes</a></li>
<li><a href="#time">Setting Time Stamps</a></li>
<li><a href="#dos">DOS File Attributes</a></li>
<li><a href="#posix">POSIX File Permissions</a></li>
<li><a href="#lookup">Setting a File or Group Owner</a></li>
<li><a href="#user">User-Defined File Attributes</a></li>
<li><a href="#store">File Store Attributes</a></li>
</ul>
<h2><a name="basic" id="basic">Basic File Attributes</a></h2>
<p>As mentioned previously, to read the basic attributes of a file, you can use one of the <code>Files.readAttributes</code> methods, which reads all the basic attributes in one bulk operation. This is far more efficient than accessing the file system separately to read each individual attribute. The varargs argument currently supports the 
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/LinkOption.html"><code>LinkOption</code></a> enum, <code>NOFOLLOW_LINKS</code>. Use this option when you do not want symbolic links to be followed.</p>
<div class="note"><hr /><strong>A word about time stamps:</strong>&nbsp;The set of basic attributes includes three time stamps: <code>creationTime</code>, <code>lastModifiedTime</code>, and <code>lastAccessTime</code>. Any of these time stamps might not be supported in a particular implementation, in which case the corresponding accessor method returns an implementation-specific value. When supported, the time stamp is returned as an 
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/FileTime.html"><code>FileTime</code></a> object.
<hr /></div>
<p>The following code snippet reads and prints the basic file attributes for a given file and uses the methods in the 
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/BasicFileAttributes.html"><code>BasicFileAttributes</code></a> class.</p>
<div class="codeblock"><pre>
Path file = ...;
BasicFileAttributes attr = Files.readAttributes(file, BasicFileAttributes.class);

System.out.println("creationTime: " + attr.creationTime());
System.out.println("lastAccessTime: " + attr.lastAccessTime());
System.out.println("lastModifiedTime: " + attr.lastModifiedTime());

System.out.println("isDirectory: " + attr.isDirectory());
System.out.println("isOther: " + attr.isOther());
System.out.println("isRegularFile: " + attr.isRegularFile());
System.out.println("isSymbolicLink: " + attr.isSymbolicLink());
System.out.println("size: " + attr.size());
</pre></div>
<p>In addition to the accessor methods shown in this example, there is a <code>fileKey</code> method that returns either an object that uniquely identifies the file or <code>null</code> if no file key is available.</p>
<h2><a name="time" id="time">Setting Time Stamps</a></h2>
<p>The following code snippet sets the last modified time in milliseconds:</p>
<div class="codeblock"><pre>
Path file = ...;
BasicFileAttributes attr =
    Files.readAttributes(file, BasicFileAttributes.class);
long currentTime = System.currentTimeMillis();
FileTime ft = FileTime.fromMillis(currentTime);
Files.setLastModifiedTime(file, ft);
}
</pre></div>
<h2><a name="dos" id="dos">DOS File Attributes</a></h2>
<p>DOS file attributes are also supported on file systems other than DOS, such as Samba. The following snippet uses the methods of the 
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/DosFileAttributes.html"><code>DosFileAttributes</code></a> class.</p>
<div class="codeblock"><pre>
Path file = ...;
try {
    DosFileAttributes attr =
        Files.readAttributes(file, DosFileAttributes.class);
    System.out.println("isReadOnly is " + attr.isReadOnly());
    System.out.println("isHidden is " + attr.isHidden());
    System.out.println("isArchive is " + attr.isArchive());
    System.out.println("isSystem is " + attr.isSystem());
} catch (UnsupportedOperationException x) {
    System.err.println("DOS file" +
        " attributes not supported:" + x);
}
</pre></div>
<p>However, you can set a DOS attribute using the 
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#setAttribute(java.nio.file.Path, java.lang.String, java.lang.Object, java.nio.file.LinkOption...)"><code>setAttribute(Path, String, Object, LinkOption...)</code></a> method, as follows:</p>
<div class="codeblock"><pre>
Path file = ...;
Files.setAttribute(file, "dos:hidden", true);
</pre></div>
<h2><a name="posix" id="posix">POSIX File Permissions</a></h2>
<p><em>POSIX</em> is an acronym for Portable Operating System Interface for UNIX and is a set of IEEE and ISO standards designed to ensure interoperability among different flavors of UNIX. If a program conforms to these POSIX standards, it should be easily ported to other POSIX-compliant operating systems.</p>
<p>Besides file owner and group owner, POSIX supports nine file permissions: read, write, and execute permissions for the file owner, members of the same group, and &quot;everyone else.&quot;</p>
<p>The following code snippet reads the POSIX file attributes for a given file and prints them to standard output. The code uses the methods in the 
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/PosixFileAttributes.html"><code>PosixFileAttributes</code></a> class.</p>
<div class="codeblock"><pre>
Path file = ...;
PosixFileAttributes attr =
    Files.readAttributes(file, PosixFileAttributes.class);
System.out.format("%s %s %s%n",
    attr.owner().getName(),
    attr.group().getName(),
    PosixFilePermissions.toString(attr.permissions()));
</pre></div>
<p>The 
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/PosixFilePermissions.html"><code>PosixFilePermissions</code></a> helper class provides several useful methods, as follows:</p>
<ul>
<li>The <code>toString</code> method, used in the previous code snippet, converts the file permissions to a string (for example, <code>rw-r--r--</code>).</li>
<li>The <code>fromString</code> method accepts a string representing the file permissions and constructs a <code>Set</code> of file permissions.</li>
<li>The <code>asFileAttribute</code> method accepts a <code>Set</code> of file permissions and constructs a file attribute that can be passed to the <code>Path.createFile</code> or <code>Path.createDirectory</code> method.</li>
</ul>
<p>The following code snippet reads the attributes from one file and creates a new file, assigning the attributes from the original file to the new file:</p>
<div class="codeblock"><pre>
Path sourceFile = ...;
Path newFile = ...;
PosixFileAttributes attrs =
    Files.readAttributes(sourceFile, PosixFileAttributes.class);
FileAttribute&lt;Set&lt;PosixFilePermission&gt;&gt; attr =
    PosixFilePermissions.asFileAttribute(attrs.permissions());
Files.createFile(file, attr);
</pre></div>
<p>The <code>asFileAttribute</code> method wraps the permissions as a <code>FileAttribute</code>. The code then attempts to create a new file with those permissions. Note that the <code>umask</code> also applies, so the new file might be more secure than the permissions that were requested.</p>
<p>To set a file&#39;s permissions to values represented as a hard-coded string, you can use the following code:</p>
<div class="codeblock"><pre>
Path file = ...;
Set&lt;PosixFilePermission&gt; perms =
    PosixFilePermissions.fromString("rw-------");
FileAttribute&lt;Set&lt;PosixFilePermission&gt;&gt; attr =
    PosixFilePermissions.asFileAttribute(perms);
Files.setPosixFilePermissions(file, perms);
</pre></div>
<p>The 
<a class="SourceLink" target="_blank" href="examples/Chmod.java" onclick="showCode('../../displayCode.html', 'examples/Chmod.java'); return false;"><code><code>Chmod</code></code></a> example recursively changes the permissions of files in a manner similar to the <code>chmod</code> utility.</p>
<h2><a name="lookup" id="lookup">Setting a File or Group Owner</a></h2>
<p>To translate a name into an object you can store as a file owner or a group owner, you can use the 
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/UserPrincipalLookupService.html"><code>UserPrincipalLookupService</code></a> service. This service looks up a name or group name as a string and returns a <code>UserPrincipal</code> object representing that string. You can obtain the user principal look-up service for the default file system by using the 
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/FileSystem.html#getUserPrincipalLookupService()"><code>FileSystem.getUserPrincipalLookupService</code></a> method.</p>
<p>The following code snippet shows how to set the file owner by using the <code>setOwner</code> method:</p>
<div class="codeblock"><pre>
Path file = ...;
UserPrincipal owner = file.GetFileSystem().getUserPrincipalLookupService()
        .lookupPrincipalByName("sally");
Files.setOwner(file, owner);
</pre></div>
<p>There is no special-purpose method in the <code>Files</code> class for setting a group owner. However, a safe way to do so directly is through the POSIX file attribute view, as follows:</p>
<div class="codeblock"><pre>
Path file = ...;
GroupPrincipal group =
    file.getFileSystem().getUserPrincipalLookupService()
        .lookupPrincipalByGroupName("green");
Files.getFileAttributeView(file, PosixFileAttributeView.class)
     .setGroup(group);
</pre></div>
<h2><a name="user" id="user">User-Defined File Attributes</a></h2>
<p>If the file attributes supported by your file system implementation aren&#39;t sufficient for your needs, you can use the <code>UserDefinedAttributeView</code> to create and track your own file attributes.</p>
<p>Some implementations map this concept to features like NTFS Alternative Data Streams and extended attributes on file systems such as ext3 and ZFS. Most implementations impose restrictions on the size of the value, for example, ext3 limits the size to 4 kilobytes.</p>
<p>A file&#39;s MIME type can be stored as a user-defined attribute by using this code snippet:</p>
<div class="codeblock"><pre>
Path file = ...;
UserDefinedFileAttributeView view = Files
    .getFileAttributeView(file, UserDefinedFileAttributeView.class);
view.write("user.mimetype",
           Charset.defaultCharset().encode("text/html");
</pre></div>
<p>To read the MIME type attribute, you would use this code snippet:</p>
<div class="codeblock"><pre>
Path file = ...;
UserDefinedFileAttributeView view = Files
.getFileAttributeView(file,UserDefinedFileAttributeView.class);
String name = "user.mimetype";
ByteBuffer buf = ByteBuffer.allocate(view.size(name));
view.read(name, buf);
buf.flip();
String value = Charset.defaultCharset().decode(buf).toString();
</pre></div>
<p>The 
<a class="SourceLink" target="_blank" href="examples/Xdd.java" onclick="showCode('../../displayCode.html', 'examples/Xdd.java'); return false;"><code><code>Xdd</code></code></a> example shows how to get, set, and delete a user-defined attribute.</p>
<div class="note"><hr /><strong>Note:</strong>&nbsp;In Linux, you might have to enable extended attributes for user-defined attributes to work. If you receive an <code>UnsupportedOperationException</code> when trying to access the user-defined attribute view, you need to remount the file system. The following command remounts the root partition with extended attributes for the ext3 file system. If this command does not work for your flavor of Linux, consult the documentation.
<div class="codeblock"><pre>
$ sudo mount -o remount,user_xattr /
</pre></div>
<p>If you want to make the change permanent, add an entry to <code>/etc/fstab</code>.</p>
<hr /></div>
<h2><a name="store" id="store">File Store Attributes</a></h2>
<p>You can use the 
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/FileStore.html"><code>FileStore</code></a> class to learn information about a file store, such as how much space is available. The 
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#getFileStore(java.nio.file.Path)"><code>getFileStore(Path)</code></a> method fetches the file store for the specified file.</p>
<p>The following code snippet prints the space usage for the file store where a particular file resides:</p>
<div class="codeblock"><pre>
Path file = ...;
FileStore store = Files.getFileStore(file);

long total = store.getTotalSpace() / 1024;
long used = (store.getTotalSpace() -
             store.getUnallocatedSpace()) / 1024;
long avail = store.getUsableSpace() / 1024;
</pre></div>
<p>The 
<a class="SourceLink" target="_blank" href="examples/DiskUsage.java" onclick="showCode('../../displayCode.html', 'examples/DiskUsage.java'); return false;"><code>DiskUsage</code></a> example uses this API to print disk space information for all the stores in the default file system. This example uses the 
<a class="APILink" target="_blank" href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/FileSystem.html#getFileStores()"><code>getFileStores</code></a> method in the <code>FileSystem</code> class to fetch all the file stores for the the file system.</p>


        </div>
        <div class="NavBit">
            <a target="_top" href="move.html">&laquo; Previous</a>
            &bull;
            <a target="_top" href="../TOC.html">Trail</a>
            &bull;
            <a target="_top" href="file.html">Next &raquo;</a>
        </div>
    </div>
    <div id="Footer2">
<hr />
<div id="TagNotes">
    <p class="footertext">Problems with the examples? Try <a target="_blank"
        href="../../information/run-examples.html">Compiling and Running
        the Examples: FAQs</a>.
    <br />
    Complaints? Compliments? Suggestions? <a target="_blank"
        href="http://docs.oracle.com/javase/feedback.html">Give
    us your feedback</a>.
    </p>
</div> 

<div id="Footer">
<p class="footertext"><a name="license_info">Your use of this</a> page and all the material on pages under &quot;The Java Tutorials&quot; banner 
 is subject to these <a href="../../information/cpyr.html">legal notices</a>.
</p>
<table border="0" cellspacing="0" cellpadding="5" summary="">
    <tr>
         <td width="20%">
	 <table width="100%" border="0" cellspacing="0" cellpadding="5">
            <tr>
              <td headers="h201" align="center"><img id="duke" src="../../images/DukeWave.gif" width="55" height="55" alt="duke image" /></td>
              <td headers="h202" align="left" valign="middle"><img id="oracle" src="../../images/logo_oracle_footer.gif" width="100" height="29" alt="Oracle logo" /></td>
           </tr>
          </table>
          </td>

          <td width="55%" valign="middle" align="center">
		<p class="footertext"><a href="http://www.oracle.com/us/corporate/index.html">About Oracle</a> | <a href="http://www.oracle.com/technology/index.html">Oracle Technology Network</a> | <a href="http://www.oracle.com/us/legal/terms/index.html">Terms of Use</a></p> 
	 </td>
          <td width="25%" valign="middle" align="right">
      		<p class="footertext">Copyright &copy; 1995, 2013 Oracle and/or its affiliates. All rights reserved.</p>
	 </td>
     </tr>     
</table>
</div>
    </div>
    <div class="PrintHeaders">
        <b>Previous page:</b> Moving a File or Directory
        <br /><b>Next page:</b> Reading, Writing, and Creating Files
    </div>
</body>
</html> 
